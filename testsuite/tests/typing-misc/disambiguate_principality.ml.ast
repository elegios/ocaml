[
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[9,61+0]..[11,104+3])
    Pstr_module
    "M" (testsuite/tests/typing-misc/disambiguate_principality.ml[9,61+7]..[9,61+8])
      module_expr (testsuite/tests/typing-misc/disambiguate_principality.ml[9,61+11]..[11,104+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[10,79+2]..[10,79+24])
            Pstr_type Rec
            [
              type_declaration "r" (testsuite/tests/typing-misc/disambiguate_principality.ml[10,79+7]..[10,79+8]) (testsuite/tests/typing-misc/disambiguate_principality.ml[10,79+2]..[10,79+24])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_record
                    [
                      (testsuite/tests/typing-misc/disambiguate_principality.ml[10,79+13]..[10,79+22])
                        Immutable
                        "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[10,79+13]..[10,79+16])                        core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[10,79+19]..[10,79+22])
                          Ptyp_constr "int" (testsuite/tests/typing-misc/disambiguate_principality.ml[10,79+19]..[10,79+22])
                          []
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[13,111+0]..[15,166+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[13,111+9]..[15,166+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[13,111+9]..[15,166+2])
          Pexp_constant PConst_string ("\nmodule M : sig type r = { lbl : int; } end\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[13,111+11]..[15,166+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[17,171+0]..[18,192+13])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[17,171+4]..[17,171+18]) ghost
          Ppat_constraint
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[17,171+4]..[17,171+12])
            Ppat_var "before_a" (testsuite/tests/typing-misc/disambiguate_principality.ml[17,171+4]..[17,171+12])
          core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[17,171+15]..[17,171+18]) ghost
            Ptyp_poly
            core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[17,171+15]..[17,171+18])
              Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[17,171+15]..[17,171+18])
              []
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[17,171+4]..[18,192+13])
          Pexp_constraint
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[18,192+2]..[18,192+13])
            Pexp_record
            [
              "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[18,192+4]..[18,192+7])
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[18,192+10]..[18,192+11])
                  Pexp_constant PConst_int (3,None)
            ]
            None
          core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[17,171+15]..[17,171+18])
            Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[17,171+15]..[17,171+18])
            []
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[20,209+0]..[22,254+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[20,209+9]..[22,254+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[20,209+9]..[22,254+2])
          Pexp_constant PConst_string ("\nval before_a : M.r = {M.lbl = 3}\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[20,209+11]..[22,254+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[24,259+0]..[26,302+7])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[24,259+4]..[24,259+5])
          Ppat_var "a" (testsuite/tests/typing-misc/disambiguate_principality.ml[24,259+4]..[24,259+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[25,267+2]..[26,302+7])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[25,267+6]..[25,267+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[25,267+6]..[25,267+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[25,267+10]..[25,267+31])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[25,267+11]..[25,267+24])
                  Pexp_record
                  [
                    "M.lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[25,267+13]..[25,267+18])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[25,267+21]..[25,267+22])
                        Pexp_constant PConst_int (3,None)
                  ]
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[25,267+27]..[25,267+30])
                  Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[25,267+27]..[25,267+30])
                  []
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[26,302+2]..[26,302+7])
            Pexp_field
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[26,302+2]..[26,302+3])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[26,302+2]..[26,302+3])
            "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[26,302+4]..[26,302+7])
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[28,313+0]..[30,341+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[28,313+9]..[30,341+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[28,313+9]..[30,341+2])
          Pexp_constant PConst_string ("\nval a : int = 3\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[28,313+11]..[30,341+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[32,346+0]..[34,395+20])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[32,346+4]..[32,346+11])
          Ppat_var "after_a" (testsuite/tests/typing-misc/disambiguate_principality.ml[32,346+4]..[32,346+11])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[33,360+2]..[34,395+20])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[33,360+6]..[33,360+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[33,360+6]..[33,360+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[33,360+10]..[33,360+31])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[33,360+11]..[33,360+24])
                  Pexp_record
                  [
                    "M.lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[33,360+13]..[33,360+18])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[33,360+21]..[33,360+22])
                        Pexp_constant PConst_int (3,None)
                  ]
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[33,360+27]..[33,360+30])
                  Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[33,360+27]..[33,360+30])
                  []
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[34,395+2]..[34,395+20])
            Pexp_record
            [
              "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[34,395+11]..[34,395+14])
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[34,395+17]..[34,395+18])
                  Pexp_constant PConst_int (4,None)
            ]
            Some
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[34,395+4]..[34,395+5])
                Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[34,395+4]..[34,395+5])
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[36,419+0]..[43,655+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[36,419+9]..[43,655+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[36,419+9]..[43,655+2])
          Pexp_constant PConst_string ("\nLine 3, characters 2-20:\n3 |   { x with lbl = 4 }\n      ^^^^^^^^^^^^^^^^^^\nWarning 23 [useless-record-with]: all the fields are explicitly listed in this record:\nthe 'with' clause is useless.\nval after_a : M.r = {M.lbl = 4}\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[36,419+11]..[43,655+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[45,660+0]..[47,722+18])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[45,660+4]..[45,660+5])
          Ppat_var "b" (testsuite/tests/typing-misc/disambiguate_principality.ml[45,660+4]..[45,660+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+2]..[47,722+18])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+6]..[46,668+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+6]..[46,668+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+10]..[46,668+50])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+11]..[46,668+39])
                  Pexp_record
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+13]..[46,668+21])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+24]..[46,668+37])
                        Pexp_record
                        [
                          "M.lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+26]..[46,668+31])
                            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+34]..[46,668+35])
                              Pexp_constant PConst_int (3,None)
                        ]
                        None
                  ]
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+42]..[46,668+49])
                  Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+46]..[46,668+49])
                  [
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+42]..[46,668+45])
                      Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[46,668+42]..[46,668+45])
                      []
                  ]
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[47,722+2]..[47,722+18])
            Pexp_apply
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[47,722+4]..[47,722+6])
              Pexp_ident ":=" (testsuite/tests/typing-misc/disambiguate_principality.ml[47,722+4]..[47,722+6])
            [
              <arg>
              Nolabel
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[47,722+2]..[47,722+3])
                  Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[47,722+2]..[47,722+3])
              <arg>
              Nolabel
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[47,722+7]..[47,722+18])
                  Pexp_record
                  [
                    "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[47,722+9]..[47,722+12])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[47,722+15]..[47,722+16])
                        Pexp_constant PConst_int (4,None)
                  ]
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[49,744+0]..[57,963+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[49,744+9]..[57,963+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[49,744+9]..[57,963+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[49,744+9]..[51,774+2])
              Pexp_constant PConst_string ("\nval b : unit = ()\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[49,744+11]..[51,774+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[51,774+4]..[57,963+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[51,774+4]..[51,774+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[51,774+13]..[57,963+2])
                  Pexp_constant PConst_string ("\nLine 3, characters 7-18:\n3 |   x := { lbl = 4 }\n           ^^^^^^^^^^^\nWarning 18 [not-principal]: this type-based record disambiguation is not principal.\nval b : unit = ()\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[51,774+15]..[57,963+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[59,968+0]..[61,1030+8])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[59,968+4]..[59,968+5])
          Ppat_var "c" (testsuite/tests/typing-misc/disambiguate_principality.ml[59,968+4]..[59,968+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+2]..[61,1030+8])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+6]..[60,976+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+6]..[60,976+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+10]..[60,976+50])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+11]..[60,976+39])
                  Pexp_record
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+13]..[60,976+21])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+24]..[60,976+37])
                        Pexp_record
                        [
                          "M.lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+26]..[60,976+31])
                            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+34]..[60,976+35])
                              Pexp_constant PConst_int (3,None)
                        ]
                        None
                  ]
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+42]..[60,976+49])
                  Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+46]..[60,976+49])
                  [
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+42]..[60,976+45])
                      Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[60,976+42]..[60,976+45])
                      []
                  ]
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[61,1030+2]..[61,1030+8])
            Pexp_field
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[61,1030+2]..[61,1030+4])
              Pexp_apply
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[61,1030+2]..[61,1030+3])
                Pexp_ident "!" (testsuite/tests/typing-misc/disambiguate_principality.ml[61,1030+2]..[61,1030+3])
              [
                <arg>
                Nolabel
                  expression (testsuite/tests/typing-misc/disambiguate_principality.ml[61,1030+3]..[61,1030+4])
                    Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[61,1030+3]..[61,1030+4])
              ]
            "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[61,1030+5]..[61,1030+8])
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[63,1042+0]..[65,1070+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[63,1042+9]..[65,1070+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[63,1042+9]..[65,1070+2])
          Pexp_constant PConst_string ("\nval c : int = 3\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[63,1042+11]..[65,1070+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[67,1075+0]..[69,1137+27])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[67,1075+4]..[67,1075+5])
          Ppat_var "d" (testsuite/tests/typing-misc/disambiguate_principality.ml[67,1075+4]..[67,1075+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+2]..[69,1137+27])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+6]..[68,1083+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+6]..[68,1083+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+10]..[68,1083+50])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+11]..[68,1083+39])
                  Pexp_record
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+13]..[68,1083+21])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+24]..[68,1083+37])
                        Pexp_record
                        [
                          "M.lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+26]..[68,1083+31])
                            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+34]..[68,1083+35])
                              Pexp_constant PConst_int (3,None)
                        ]
                        None
                  ]
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+42]..[68,1083+49])
                  Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+46]..[68,1083+49])
                  [
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+42]..[68,1083+45])
                      Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[68,1083+42]..[68,1083+45])
                      []
                  ]
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[69,1137+2]..[69,1137+27])
            Pexp_setfield
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[69,1137+2]..[69,1137+3])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[69,1137+2]..[69,1137+3])
            "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[69,1137+4]..[69,1137+12])
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[69,1137+16]..[69,1137+27])
              Pexp_record
              [
                "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[69,1137+18]..[69,1137+21])
                  expression (testsuite/tests/typing-misc/disambiguate_principality.ml[69,1137+24]..[69,1137+25])
                    Pexp_constant PConst_int (4,None)
              ]
              None
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[71,1168+0]..[73,1198+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[71,1168+9]..[73,1198+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[71,1168+9]..[73,1198+2])
          Pexp_constant PConst_string ("\nval d : unit = ()\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[71,1168+11]..[73,1198+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[75,1203+0]..[77,1265+35])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[75,1203+4]..[75,1203+5])
          Ppat_var "e" (testsuite/tests/typing-misc/disambiguate_principality.ml[75,1203+4]..[75,1203+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+2]..[77,1265+35])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+6]..[76,1211+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+6]..[76,1211+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+10]..[76,1211+50])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+11]..[76,1211+39])
                  Pexp_record
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+13]..[76,1211+21])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+24]..[76,1211+37])
                        Pexp_record
                        [
                          "M.lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+26]..[76,1211+31])
                            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+34]..[76,1211+35])
                              Pexp_constant PConst_int (3,None)
                        ]
                        None
                  ]
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+42]..[76,1211+49])
                  Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+46]..[76,1211+49])
                  [
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+42]..[76,1211+45])
                      Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[76,1211+42]..[76,1211+45])
                      []
                  ]
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[77,1265+2]..[77,1265+35])
            Pexp_record
            [
              "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[77,1265+11]..[77,1265+19])
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[77,1265+22]..[77,1265+33])
                  Pexp_record
                  [
                    "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[77,1265+24]..[77,1265+27])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[77,1265+30]..[77,1265+31])
                        Pexp_constant PConst_int (4,None)
                  ]
                  None
            ]
            Some
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[77,1265+4]..[77,1265+5])
                Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[77,1265+4]..[77,1265+5])
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[79,1304+0]..[84,1446+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[79,1304+9]..[84,1446+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[79,1304+9]..[84,1446+2])
          Pexp_constant PConst_string ("\nLine 3, characters 24-27:\n3 |   { x with contents = { lbl = 4 } }\n                            ^^^\nError: Unbound record field lbl\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[79,1304+11]..[84,1446+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[86,1451+0]..[88,1513+16])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[86,1451+4]..[86,1451+5])
          Ppat_var "f" (testsuite/tests/typing-misc/disambiguate_principality.ml[86,1451+4]..[86,1451+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+2]..[88,1513+16])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+6]..[87,1459+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+6]..[87,1459+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+10]..[87,1459+50])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+11]..[87,1459+39])
                  Pexp_record
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+13]..[87,1459+21])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+24]..[87,1459+37])
                        Pexp_record
                        [
                          "M.lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+26]..[87,1459+31])
                            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+34]..[87,1459+35])
                              Pexp_constant PConst_int (3,None)
                        ]
                        None
                  ]
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+42]..[87,1459+49])
                  Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+46]..[87,1459+49])
                  [
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+42]..[87,1459+45])
                      Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[87,1459+42]..[87,1459+45])
                      []
                  ]
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[88,1513+2]..[88,1513+16])
            Pexp_field
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[88,1513+2]..[88,1513+12])
              Pexp_field
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[88,1513+2]..[88,1513+3])
                Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[88,1513+2]..[88,1513+3])
              "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[88,1513+4]..[88,1513+12])
            "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[88,1513+13]..[88,1513+16])
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[90,1533+0]..[92,1561+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[90,1533+9]..[92,1561+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[90,1533+9]..[92,1561+2])
          Pexp_constant PConst_string ("\nval f : int = 3\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[90,1533+11]..[92,1561+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[96,1582+0]..[98,1615+21])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[96,1582+4]..[96,1582+5])
          Ppat_var "g" (testsuite/tests/typing-misc/disambiguate_principality.ml[96,1582+4]..[96,1582+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[96,1582+6]..[98,1615+21]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[96,1582+6]..[96,1582+15])
            Ppat_constraint
            pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[96,1582+7]..[96,1582+8])
              Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[96,1582+7]..[96,1582+8])
            core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[96,1582+11]..[96,1582+14])
              Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[96,1582+11]..[96,1582+14])
              []
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[97,1600+2]..[98,1615+21])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[97,1600+8]..[97,1600+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[97,1600+8]..[97,1600+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[98,1615+4]..[98,1615+15])
                  Ppat_record Closed
                  [
                    "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[98,1615+6]..[98,1615+9])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[98,1615+12]..[98,1615+13])
                        Ppat_any
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[98,1615+19]..[98,1615+21])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[98,1615+19]..[98,1615+21])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[100,1640+0]..[102,1680+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[100,1640+9]..[102,1680+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[100,1640+9]..[102,1680+2])
          Pexp_constant PConst_string ("\nval g : M.r -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[100,1640+11]..[102,1680+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[104,1685+0]..[107,1730+21])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[104,1685+4]..[104,1685+5])
          Ppat_var "h" (testsuite/tests/typing-misc/disambiguate_principality.ml[104,1685+4]..[104,1685+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[104,1685+6]..[107,1730+21]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[104,1685+6]..[104,1685+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[104,1685+6]..[104,1685+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[105,1695+2]..[107,1730+21])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[105,1695+8]..[105,1695+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[105,1695+8]..[105,1695+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[106,1710+4]..[106,1710+13])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[106,1710+5]..[106,1710+6])
                    Ppat_any
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[106,1710+9]..[106,1710+12])
                    Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[106,1710+9]..[106,1710+12])
                    []
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[106,1710+17]..[106,1710+19])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[106,1710+17]..[106,1710+19])
                  None
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[107,1730+4]..[107,1730+15])
                  Ppat_record Closed
                  [
                    "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[107,1730+6]..[107,1730+9])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[107,1730+12]..[107,1730+13])
                        Ppat_any
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[107,1730+19]..[107,1730+21])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[107,1730+19]..[107,1730+21])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[109,1755+0]..[125,2248+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[109,1755+9]..[125,2248+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[109,1755+9]..[125,2248+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[109,1755+9]..[115,1922+2])
              Pexp_constant PConst_string ("\nLine 4, characters 4-15:\n4 |   | { lbl = _ } -> ()\n        ^^^^^^^^^^^\nWarning 11 [redundant-case]: this match case is unused.\nval h : M.r -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[109,1755+11]..[115,1922+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[115,1922+4]..[125,2248+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[115,1922+4]..[115,1922+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[115,1922+13]..[125,2248+2])
                  Pexp_constant PConst_string ("\nLine 4, characters 4-15:\n4 |   | { lbl = _ } -> ()\n        ^^^^^^^^^^^\nWarning 18 [not-principal]: this type-based record disambiguation is not principal.\nLine 4, characters 4-15:\n4 |   | { lbl = _ } -> ()\n        ^^^^^^^^^^^\nWarning 11 [redundant-case]: this match case is unused.\nval h : M.r -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[115,1922+15]..[125,2248+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[127,2253+0]..[130,2300+19])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[127,2253+4]..[127,2253+5])
          Ppat_var "i" (testsuite/tests/typing-misc/disambiguate_principality.ml[127,2253+4]..[127,2253+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[127,2253+6]..[130,2300+19]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[127,2253+6]..[127,2253+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[127,2253+6]..[127,2253+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[128,2263+2]..[130,2300+19])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[128,2263+8]..[128,2263+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[128,2263+8]..[128,2263+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[129,2278+4]..[129,2278+15])
                  Ppat_record Closed
                  [
                    "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[129,2278+6]..[129,2278+9])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[129,2278+12]..[129,2278+13])
                        Ppat_any
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[129,2278+19]..[129,2278+21])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[129,2278+19]..[129,2278+21])
                  None
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[130,2300+4]..[130,2300+13])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[130,2300+5]..[130,2300+6])
                    Ppat_any
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[130,2300+9]..[130,2300+12])
                    Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[130,2300+9]..[130,2300+12])
                    []
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[130,2300+17]..[130,2300+19])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[130,2300+17]..[130,2300+19])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[132,2323+0]..[137,2431+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[132,2323+9]..[137,2431+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[132,2323+9]..[137,2431+2])
          Pexp_constant PConst_string ("\nLine 3, characters 6-9:\n3 |   | { lbl = _ } -> ()\n          ^^^\nError: Unbound record field lbl\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[132,2323+11]..[137,2431+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[139,2436+0]..[142,2475+21])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[139,2436+4]..[139,2436+5])
          Ppat_var "j" (testsuite/tests/typing-misc/disambiguate_principality.ml[139,2436+4]..[139,2436+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[139,2436+6]..[142,2475+21]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[139,2436+6]..[139,2436+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[139,2436+6]..[139,2436+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[140,2446+2]..[142,2475+21])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[140,2446+8]..[140,2446+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[140,2446+8]..[140,2446+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[141,2461+4]..[142,2475+15])
                  Ppat_or
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[141,2461+4]..[141,2461+13])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[141,2461+5]..[141,2461+6])
                      Ppat_any
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[141,2461+9]..[141,2461+12])
                      Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[141,2461+9]..[141,2461+12])
                      []
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[142,2475+4]..[142,2475+15])
                    Ppat_record Closed
                    [
                      "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[142,2475+6]..[142,2475+9])
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[142,2475+12]..[142,2475+13])
                          Ppat_any
                    ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[142,2475+19]..[142,2475+21])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[142,2475+19]..[142,2475+21])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[144,2500+0]..[160,2999+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[144,2500+9]..[160,2999+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[144,2500+9]..[160,2999+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[144,2500+9]..[150,2670+2])
              Pexp_constant PConst_string ("\nLine 4, characters 4-15:\n4 |   | { lbl = _ } -> ()\n        ^^^^^^^^^^^\nWarning 12 [redundant-subpat]: this sub-pattern is unused.\nval j : M.r -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[144,2500+11]..[150,2670+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[150,2670+4]..[160,2999+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[150,2670+4]..[150,2670+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[150,2670+13]..[160,2999+2])
                  Pexp_constant PConst_string ("\nLine 4, characters 4-15:\n4 |   | { lbl = _ } -> ()\n        ^^^^^^^^^^^\nWarning 18 [not-principal]: this type-based record disambiguation is not principal.\nLine 4, characters 4-15:\n4 |   | { lbl = _ } -> ()\n        ^^^^^^^^^^^\nWarning 12 [redundant-subpat]: this sub-pattern is unused.\nval j : M.r -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[150,2670+15]..[160,2999+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[162,3004+0]..[165,3045+19])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[162,3004+4]..[162,3004+5])
          Ppat_var "k" (testsuite/tests/typing-misc/disambiguate_principality.ml[162,3004+4]..[162,3004+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[162,3004+6]..[165,3045+19]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[162,3004+6]..[162,3004+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[162,3004+6]..[162,3004+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[163,3014+2]..[165,3045+19])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[163,3014+8]..[163,3014+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[163,3014+8]..[163,3014+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[164,3029+4]..[165,3045+13])
                  Ppat_or
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[164,3029+4]..[164,3029+15])
                    Ppat_record Closed
                    [
                      "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[164,3029+6]..[164,3029+9])
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[164,3029+12]..[164,3029+13])
                          Ppat_any
                    ]
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[165,3045+4]..[165,3045+13])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[165,3045+5]..[165,3045+6])
                      Ppat_any
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[165,3045+9]..[165,3045+12])
                      Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[165,3045+9]..[165,3045+12])
                      []
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[165,3045+17]..[165,3045+19])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[165,3045+17]..[165,3045+19])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[167,3068+0]..[172,3170+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[167,3068+9]..[172,3170+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[167,3068+9]..[172,3170+2])
          Pexp_constant PConst_string ("\nLine 3, characters 6-9:\n3 |   | { lbl = _ }\n          ^^^\nError: Unbound record field lbl\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[167,3068+11]..[172,3170+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+0]..[176,3212+36])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+4]..[174,3175+5])
          Ppat_var "l" (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+4]..[174,3175+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+6]..[176,3212+36]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+6]..[174,3175+19])
            Ppat_constraint
            pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+7]..[174,3175+8])
              Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+7]..[174,3175+8])
            core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+11]..[174,3175+18])
              Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+15]..[174,3175+18])
              [
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+11]..[174,3175+14])
                  Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[174,3175+11]..[174,3175+14])
                  []
              ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[175,3197+2]..[176,3212+36])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[175,3197+8]..[175,3197+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[175,3197+8]..[175,3197+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[176,3212+4]..[176,3212+30])
                  Ppat_record Closed
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[176,3212+6]..[176,3212+14])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[176,3212+17]..[176,3212+28])
                        Ppat_record Closed
                        [
                          "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[176,3212+19]..[176,3212+22])
                            pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[176,3212+25]..[176,3212+26])
                              Ppat_any
                        ]
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[176,3212+34]..[176,3212+36])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[176,3212+34]..[176,3212+36])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[178,3252+0]..[180,3296+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[178,3252+9]..[180,3296+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[178,3252+9]..[180,3296+2])
          Pexp_constant PConst_string ("\nval l : M.r ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[178,3252+11]..[180,3296+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[182,3301+0]..[184,3326+36])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[182,3301+4]..[182,3301+5])
          Ppat_var "m" (testsuite/tests/typing-misc/disambiguate_principality.ml[182,3301+4]..[182,3301+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[182,3301+6]..[184,3326+36]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[182,3301+6]..[182,3301+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[182,3301+6]..[182,3301+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[183,3311+2]..[184,3326+36])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[183,3311+8]..[183,3311+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[183,3311+8]..[183,3311+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[184,3326+4]..[184,3326+30])
                  Ppat_record Closed
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[184,3326+6]..[184,3326+14])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[184,3326+17]..[184,3326+28])
                        Ppat_record Closed
                        [
                          "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[184,3326+19]..[184,3326+22])
                            pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[184,3326+25]..[184,3326+26])
                              Ppat_any
                        ]
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[184,3326+34]..[184,3326+36])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[184,3326+34]..[184,3326+36])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[186,3366+0]..[191,3504+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[186,3366+9]..[191,3504+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[186,3366+9]..[191,3504+2])
          Pexp_constant PConst_string ("\nLine 3, characters 19-22:\n3 |   | { contents = { lbl = _ } } -> ()\n                       ^^^\nError: Unbound record field lbl\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[186,3366+11]..[191,3504+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[193,3509+0]..[196,3558+36])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[193,3509+4]..[193,3509+5])
          Ppat_var "n" (testsuite/tests/typing-misc/disambiguate_principality.ml[193,3509+4]..[193,3509+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[193,3509+6]..[196,3558+36]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[193,3509+6]..[193,3509+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[193,3509+6]..[193,3509+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[194,3519+2]..[196,3558+36])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[194,3519+8]..[194,3519+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[194,3519+8]..[194,3519+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[195,3534+4]..[195,3534+17])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[195,3534+5]..[195,3534+6])
                    Ppat_any
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[195,3534+9]..[195,3534+16])
                    Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[195,3534+13]..[195,3534+16])
                    [
                      core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[195,3534+9]..[195,3534+12])
                        Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[195,3534+9]..[195,3534+12])
                        []
                    ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[195,3534+21]..[195,3534+23])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[195,3534+21]..[195,3534+23])
                  None
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[196,3558+4]..[196,3558+30])
                  Ppat_record Closed
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[196,3558+6]..[196,3558+14])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[196,3558+17]..[196,3558+28])
                        Ppat_record Closed
                        [
                          "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[196,3558+19]..[196,3558+22])
                            pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[196,3558+25]..[196,3558+26])
                              Ppat_any
                        ]
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[196,3558+34]..[196,3558+36])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[196,3558+34]..[196,3558+36])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[198,3598+0]..[214,4188+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[198,3598+9]..[214,4188+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[198,3598+9]..[214,4188+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[198,3598+9]..[204,3799+2])
              Pexp_constant PConst_string ("\nLine 4, characters 4-30:\n4 |   | { contents = { lbl = _ } } -> ()\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\nWarning 11 [redundant-case]: this match case is unused.\nval n : M.r ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[198,3598+11]..[204,3799+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[204,3799+4]..[214,4188+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[204,3799+4]..[204,3799+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[204,3799+13]..[214,4188+2])
                  Pexp_constant PConst_string ("\nLine 4, characters 17-28:\n4 |   | { contents = { lbl = _ } } -> ()\n                     ^^^^^^^^^^^\nWarning 18 [not-principal]: this type-based record disambiguation is not principal.\nLine 4, characters 4-30:\n4 |   | { contents = { lbl = _ } } -> ()\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\nWarning 11 [redundant-case]: this match case is unused.\nval n : M.r ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[204,3799+15]..[214,4188+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[216,4193+0]..[219,4255+23])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[216,4193+4]..[216,4193+5])
          Ppat_var "o" (testsuite/tests/typing-misc/disambiguate_principality.ml[216,4193+4]..[216,4193+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[216,4193+6]..[219,4255+23]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[216,4193+6]..[216,4193+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[216,4193+6]..[216,4193+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[217,4203+2]..[219,4255+23])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[217,4203+8]..[217,4203+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[217,4203+8]..[217,4203+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[218,4218+4]..[218,4218+30])
                  Ppat_record Closed
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[218,4218+6]..[218,4218+14])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[218,4218+17]..[218,4218+28])
                        Ppat_record Closed
                        [
                          "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[218,4218+19]..[218,4218+22])
                            pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[218,4218+25]..[218,4218+26])
                              Ppat_any
                        ]
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[218,4218+34]..[218,4218+36])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[218,4218+34]..[218,4218+36])
                  None
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[219,4255+4]..[219,4255+17])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[219,4255+5]..[219,4255+6])
                    Ppat_any
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[219,4255+9]..[219,4255+16])
                    Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[219,4255+13]..[219,4255+16])
                    [
                      core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[219,4255+9]..[219,4255+12])
                        Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[219,4255+9]..[219,4255+12])
                        []
                    ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[219,4255+21]..[219,4255+23])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[219,4255+21]..[219,4255+23])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[221,4282+0]..[226,4420+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[221,4282+9]..[226,4420+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[221,4282+9]..[226,4420+2])
          Pexp_constant PConst_string ("\nLine 3, characters 19-22:\n3 |   | { contents = { lbl = _ } } -> ()\n                       ^^^\nError: Unbound record field lbl\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[221,4282+11]..[226,4420+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[228,4425+0]..[231,4468+36])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[228,4425+4]..[228,4425+5])
          Ppat_var "p" (testsuite/tests/typing-misc/disambiguate_principality.ml[228,4425+4]..[228,4425+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[228,4425+6]..[231,4468+36]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[228,4425+6]..[228,4425+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[228,4425+6]..[228,4425+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[229,4435+2]..[231,4468+36])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[229,4435+8]..[229,4435+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[229,4435+8]..[229,4435+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[230,4450+4]..[231,4468+30])
                  Ppat_or
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[230,4450+4]..[230,4450+17])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[230,4450+5]..[230,4450+6])
                      Ppat_any
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[230,4450+9]..[230,4450+16])
                      Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[230,4450+13]..[230,4450+16])
                      [
                        core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[230,4450+9]..[230,4450+12])
                          Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[230,4450+9]..[230,4450+12])
                          []
                      ]
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[231,4468+4]..[231,4468+30])
                    Ppat_record Closed
                    [
                      "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[231,4468+6]..[231,4468+14])
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[231,4468+17]..[231,4468+28])
                          Ppat_record Closed
                          [
                            "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[231,4468+19]..[231,4468+22])
                              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[231,4468+25]..[231,4468+26])
                                Ppat_any
                          ]
                    ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[231,4468+34]..[231,4468+36])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[231,4468+34]..[231,4468+36])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[233,4508+0]..[249,5104+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[233,4508+9]..[249,5104+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[233,4508+9]..[249,5104+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[233,4508+9]..[239,4712+2])
              Pexp_constant PConst_string ("\nLine 4, characters 4-30:\n4 |   | { contents = { lbl = _ } } -> ()\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\nWarning 12 [redundant-subpat]: this sub-pattern is unused.\nval p : M.r ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[233,4508+11]..[239,4712+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[239,4712+4]..[249,5104+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[239,4712+4]..[239,4712+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[239,4712+13]..[249,5104+2])
                  Pexp_constant PConst_string ("\nLine 4, characters 17-28:\n4 |   | { contents = { lbl = _ } } -> ()\n                     ^^^^^^^^^^^\nWarning 18 [not-principal]: this type-based record disambiguation is not principal.\nLine 4, characters 4-30:\n4 |   | { contents = { lbl = _ } } -> ()\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\nWarning 12 [redundant-subpat]: this sub-pattern is unused.\nval p : M.r ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[239,4712+15]..[249,5104+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[251,5109+0]..[254,5165+23])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[251,5109+4]..[251,5109+5])
          Ppat_var "q" (testsuite/tests/typing-misc/disambiguate_principality.ml[251,5109+4]..[251,5109+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[251,5109+6]..[254,5165+23]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[251,5109+6]..[251,5109+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[251,5109+6]..[251,5109+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[252,5119+2]..[254,5165+23])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[252,5119+8]..[252,5119+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[252,5119+8]..[252,5119+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[253,5134+4]..[254,5165+17])
                  Ppat_or
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[253,5134+4]..[253,5134+30])
                    Ppat_record Closed
                    [
                      "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[253,5134+6]..[253,5134+14])
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[253,5134+17]..[253,5134+28])
                          Ppat_record Closed
                          [
                            "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[253,5134+19]..[253,5134+22])
                              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[253,5134+25]..[253,5134+26])
                                Ppat_any
                          ]
                    ]
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[254,5165+4]..[254,5165+17])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[254,5165+5]..[254,5165+6])
                      Ppat_any
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[254,5165+9]..[254,5165+16])
                      Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[254,5165+13]..[254,5165+16])
                      [
                        core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[254,5165+9]..[254,5165+12])
                          Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[254,5165+9]..[254,5165+12])
                          []
                      ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[254,5165+21]..[254,5165+23])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[254,5165+21]..[254,5165+23])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[256,5192+0]..[261,5324+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[256,5192+9]..[261,5324+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[256,5192+9]..[261,5324+2])
          Pexp_constant PConst_string ("\nLine 3, characters 19-22:\n3 |   | { contents = { lbl = _ } }\n                       ^^^\nError: Unbound record field lbl\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[256,5192+11]..[261,5324+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[263,5329+0]..[266,5379+10])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[263,5329+4]..[263,5329+5])
          Ppat_var "r" (testsuite/tests/typing-misc/disambiguate_principality.ml[263,5329+4]..[263,5329+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[263,5329+6]..[266,5379+10]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[263,5329+6]..[263,5329+9])
            Ppat_var "arg" (testsuite/tests/typing-misc/disambiguate_principality.ml[263,5329+6]..[263,5329+9])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[264,5341+2]..[266,5379+10])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[264,5341+8]..[264,5341+11])
              Pexp_ident "arg" (testsuite/tests/typing-misc/disambiguate_principality.ml[264,5341+8]..[264,5341+11])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[265,5358+4]..[265,5358+17])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[265,5358+5]..[265,5358+6])
                    Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[265,5358+5]..[265,5358+6])
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[265,5358+9]..[265,5358+16])
                    Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[265,5358+13]..[265,5358+16])
                    [
                      core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[265,5358+9]..[265,5358+12])
                        Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[265,5358+9]..[265,5358+12])
                        []
                    ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[266,5379+4]..[266,5379+10])
                  Pexp_field
                  expression (testsuite/tests/typing-misc/disambiguate_principality.ml[266,5379+4]..[266,5379+6])
                    Pexp_apply
                    expression (testsuite/tests/typing-misc/disambiguate_principality.ml[266,5379+4]..[266,5379+5])
                      Pexp_ident "!" (testsuite/tests/typing-misc/disambiguate_principality.ml[266,5379+4]..[266,5379+5])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[266,5379+5]..[266,5379+6])
                          Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[266,5379+5]..[266,5379+6])
                    ]
                  "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[266,5379+7]..[266,5379+10])
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[268,5393+0]..[270,5436+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[268,5393+9]..[270,5436+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[268,5393+9]..[270,5436+2])
          Pexp_constant PConst_string ("\nval r : M.r ref -> int = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[268,5393+11]..[270,5436+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[272,5441+0]..[275,5491+20])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[272,5441+4]..[272,5441+5])
          Ppat_var "s" (testsuite/tests/typing-misc/disambiguate_principality.ml[272,5441+4]..[272,5441+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[272,5441+6]..[275,5491+20]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[272,5441+6]..[272,5441+9])
            Ppat_var "arg" (testsuite/tests/typing-misc/disambiguate_principality.ml[272,5441+6]..[272,5441+9])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[273,5453+2]..[275,5491+20])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[273,5453+8]..[273,5453+11])
              Pexp_ident "arg" (testsuite/tests/typing-misc/disambiguate_principality.ml[273,5453+8]..[273,5453+11])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[274,5470+4]..[274,5470+17])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[274,5470+5]..[274,5470+6])
                    Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[274,5470+5]..[274,5470+6])
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[274,5470+9]..[274,5470+16])
                    Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[274,5470+13]..[274,5470+16])
                    [
                      core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[274,5470+9]..[274,5470+12])
                        Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[274,5470+9]..[274,5470+12])
                        []
                    ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[275,5491+4]..[275,5491+20])
                  Pexp_apply
                  expression (testsuite/tests/typing-misc/disambiguate_principality.ml[275,5491+6]..[275,5491+8])
                    Pexp_ident ":=" (testsuite/tests/typing-misc/disambiguate_principality.ml[275,5491+6]..[275,5491+8])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[275,5491+4]..[275,5491+5])
                        Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[275,5491+4]..[275,5491+5])
                    <arg>
                    Nolabel
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[275,5491+9]..[275,5491+20])
                        Pexp_record
                        [
                          "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[275,5491+11]..[275,5491+14])
                            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[275,5491+17]..[275,5491+18])
                              Pexp_constant PConst_int (4,None)
                        ]
                        None
                  ]
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[277,5515+0]..[285,5766+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[277,5515+9]..[285,5766+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[277,5515+9]..[285,5766+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[277,5515+9]..[279,5559+2])
              Pexp_constant PConst_string ("\nval s : M.r ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[277,5515+11]..[279,5559+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[279,5559+4]..[285,5766+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[279,5559+4]..[279,5559+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[279,5559+13]..[285,5766+2])
                  Pexp_constant PConst_string ("\nLine 4, characters 9-20:\n4 |     x := { lbl = 4 }\n             ^^^^^^^^^^^\nWarning 18 [not-principal]: this type-based record disambiguation is not principal.\nval s : M.r ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[279,5559+15]..[285,5766+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[287,5771+0]..[289,5841+20])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[287,5771+4]..[287,5771+5])
          Ppat_var "t" (testsuite/tests/typing-misc/disambiguate_principality.ml[287,5771+4]..[287,5771+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[287,5771+8]..[289,5841+20])
          Pexp_function
          [
            <case>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+4]..[288,5788+49])
                Ppat_alias "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+48]..[288,5788+49])
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+4]..[288,5788+44])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+5]..[288,5788+33])
                    Ppat_record Closed
                    [
                      "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+7]..[288,5788+15])
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+18]..[288,5788+31])
                          Ppat_record Closed
                          [
                            "M.lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+20]..[288,5788+25])
                              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+28]..[288,5788+29])
                                Ppat_any
                          ]
                    ]
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+36]..[288,5788+43])
                    Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+40]..[288,5788+43])
                    [
                      core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+36]..[288,5788+39])
                        Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[288,5788+36]..[288,5788+39])
                        []
                    ]
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[289,5841+4]..[289,5841+20])
                Pexp_apply
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[289,5841+6]..[289,5841+8])
                  Pexp_ident ":=" (testsuite/tests/typing-misc/disambiguate_principality.ml[289,5841+6]..[289,5841+8])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/typing-misc/disambiguate_principality.ml[289,5841+4]..[289,5841+5])
                      Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[289,5841+4]..[289,5841+5])
                  <arg>
                  Nolabel
                    expression (testsuite/tests/typing-misc/disambiguate_principality.ml[289,5841+9]..[289,5841+20])
                      Pexp_record
                      [
                        "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[289,5841+11]..[289,5841+14])
                          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[289,5841+17]..[289,5841+18])
                            Pexp_constant PConst_int (4,None)
                      ]
                      None
                ]
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[291,5865+0]..[299,6116+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[291,5865+9]..[299,6116+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[291,5865+9]..[299,6116+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[291,5865+9]..[293,5909+2])
              Pexp_constant PConst_string ("\nval t : M.r ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[291,5865+11]..[293,5909+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[293,5909+4]..[299,6116+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[293,5909+4]..[293,5909+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[293,5909+13]..[299,6116+2])
                  Pexp_constant PConst_string ("\nLine 3, characters 9-20:\n3 |     x := { lbl = 4 }\n             ^^^^^^^^^^^\nWarning 18 [not-principal]: this type-based record disambiguation is not principal.\nval t : M.r ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[293,5909+15]..[299,6116+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[301,6121+0]..[303,6191+10])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[301,6121+4]..[301,6121+5])
          Ppat_var "u" (testsuite/tests/typing-misc/disambiguate_principality.ml[301,6121+4]..[301,6121+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[301,6121+8]..[303,6191+10])
          Pexp_function
          [
            <case>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+4]..[302,6138+49])
                Ppat_alias "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+48]..[302,6138+49])
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+4]..[302,6138+44])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+5]..[302,6138+33])
                    Ppat_record Closed
                    [
                      "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+7]..[302,6138+15])
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+18]..[302,6138+31])
                          Ppat_record Closed
                          [
                            "M.lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+20]..[302,6138+25])
                              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+28]..[302,6138+29])
                                Ppat_any
                          ]
                    ]
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+36]..[302,6138+43])
                    Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+40]..[302,6138+43])
                    [
                      core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+36]..[302,6138+39])
                        Ptyp_constr "M.r" (testsuite/tests/typing-misc/disambiguate_principality.ml[302,6138+36]..[302,6138+39])
                        []
                    ]
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[303,6191+4]..[303,6191+10])
                Pexp_field
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[303,6191+4]..[303,6191+6])
                  Pexp_apply
                  expression (testsuite/tests/typing-misc/disambiguate_principality.ml[303,6191+4]..[303,6191+5])
                    Pexp_ident "!" (testsuite/tests/typing-misc/disambiguate_principality.ml[303,6191+4]..[303,6191+5])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[303,6191+5]..[303,6191+6])
                        Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[303,6191+5]..[303,6191+6])
                  ]
                "lbl" (testsuite/tests/typing-misc/disambiguate_principality.ml[303,6191+7]..[303,6191+10])
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[305,6205+0]..[307,6248+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[305,6205+9]..[307,6248+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[305,6205+9]..[307,6248+2])
          Pexp_constant PConst_string ("\nval u : M.r ref -> int = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[305,6205+11]..[307,6248+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[314,6297+0]..[316,6332+3])
    Pstr_module
    "M" (testsuite/tests/typing-misc/disambiguate_principality.ml[314,6297+7]..[314,6297+8])
      module_expr (testsuite/tests/typing-misc/disambiguate_principality.ml[314,6297+11]..[316,6332+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[315,6315+2]..[315,6315+16])
            Pstr_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-misc/disambiguate_principality.ml[315,6315+7]..[315,6315+8]) (testsuite/tests/typing-misc/disambiguate_principality.ml[315,6315+2]..[315,6315+16])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_variant
                    [
                      (testsuite/tests/typing-misc/disambiguate_principality.ml[315,6315+11]..[315,6315+12])
                        "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[315,6315+11]..[315,6315+12])
                        []
                        None
                      (testsuite/tests/typing-misc/disambiguate_principality.ml[315,6315+13]..[315,6315+16])
                        "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[315,6315+15]..[315,6315+16])
                        []
                        None
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[318,6339+0]..[320,6385+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[318,6339+9]..[320,6385+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[318,6339+9]..[320,6385+2])
          Pexp_constant PConst_string ("\nmodule M : sig type t = A | B end\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[318,6339+11]..[320,6385+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[322,6390+0]..[323,6411+3])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[322,6390+4]..[322,6390+18]) ghost
          Ppat_constraint
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[322,6390+4]..[322,6390+12])
            Ppat_var "before_a" (testsuite/tests/typing-misc/disambiguate_principality.ml[322,6390+4]..[322,6390+12])
          core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[322,6390+15]..[322,6390+18]) ghost
            Ptyp_poly
            core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[322,6390+15]..[322,6390+18])
              Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[322,6390+15]..[322,6390+18])
              []
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[322,6390+4]..[323,6411+3])
          Pexp_constraint
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[323,6411+2]..[323,6411+3])
            Pexp_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[323,6411+2]..[323,6411+3])
            None
          core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[322,6390+15]..[322,6390+18])
            Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[322,6390+15]..[322,6390+18])
            []
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[325,6418+0]..[327,6455+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[325,6418+9]..[327,6455+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[325,6418+9]..[327,6455+2])
          Pexp_constant PConst_string ("\nval before_a : M.t = M.A\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[325,6418+11]..[327,6455+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[329,6460+0]..[331,6491+3])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[329,6460+4]..[329,6460+5])
          Ppat_var "a" (testsuite/tests/typing-misc/disambiguate_principality.ml[329,6460+4]..[329,6460+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[330,6468+2]..[331,6491+3])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[330,6468+6]..[330,6468+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[330,6468+6]..[330,6468+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[330,6468+10]..[330,6468+19])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[330,6468+11]..[330,6468+12])
                  Pexp_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[330,6468+11]..[330,6468+12])
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[330,6468+15]..[330,6468+18])
                  Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[330,6468+15]..[330,6468+18])
                  []
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[331,6491+2]..[331,6491+3])
            Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[331,6491+2]..[331,6491+3])
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[333,6498+0]..[335,6528+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[333,6498+9]..[335,6528+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[333,6498+9]..[335,6528+2])
          Pexp_constant PConst_string ("\nval a : M.t = M.A\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[333,6498+11]..[335,6528+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[337,6533+0]..[339,6583+8])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[337,6533+4]..[337,6533+5])
          Ppat_var "b" (testsuite/tests/typing-misc/disambiguate_principality.ml[337,6533+4]..[337,6533+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+2]..[339,6583+8])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+6]..[338,6541+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+6]..[338,6541+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+10]..[338,6541+38])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+11]..[338,6541+27])
                  Pexp_record
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+13]..[338,6541+21])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+24]..[338,6541+25])
                        Pexp_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+24]..[338,6541+25])
                        None
                  ]
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+30]..[338,6541+37])
                  Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+34]..[338,6541+37])
                  [
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+30]..[338,6541+33])
                      Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[338,6541+30]..[338,6541+33])
                      []
                  ]
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[339,6583+2]..[339,6583+8])
            Pexp_apply
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[339,6583+4]..[339,6583+6])
              Pexp_ident ":=" (testsuite/tests/typing-misc/disambiguate_principality.ml[339,6583+4]..[339,6583+6])
            [
              <arg>
              Nolabel
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[339,6583+2]..[339,6583+3])
                  Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[339,6583+2]..[339,6583+3])
              <arg>
              Nolabel
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[339,6583+7]..[339,6583+8])
                  Pexp_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[339,6583+7]..[339,6583+8])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[341,6595+0]..[349,6798+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[341,6595+9]..[349,6798+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[341,6595+9]..[349,6798+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[341,6595+9]..[343,6625+2])
              Pexp_constant PConst_string ("\nval b : unit = ()\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[341,6595+11]..[343,6625+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[343,6625+4]..[349,6798+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[343,6625+4]..[343,6625+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[343,6625+13]..[349,6798+2])
                  Pexp_constant PConst_string ("\nLine 3, characters 7-8:\n3 |   x := B\n           ^\nWarning 18 [not-principal]: this type-based constructor disambiguation is not principal.\nval b : unit = ()\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[343,6625+15]..[349,6798+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[351,6803+0]..[353,6853+17])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[351,6803+4]..[351,6803+5])
          Ppat_var "d" (testsuite/tests/typing-misc/disambiguate_principality.ml[351,6803+4]..[351,6803+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+2]..[353,6853+17])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+6]..[352,6811+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+6]..[352,6811+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+10]..[352,6811+38])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+11]..[352,6811+27])
                  Pexp_record
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+13]..[352,6811+21])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+24]..[352,6811+25])
                        Pexp_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+24]..[352,6811+25])
                        None
                  ]
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+30]..[352,6811+37])
                  Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+34]..[352,6811+37])
                  [
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+30]..[352,6811+33])
                      Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[352,6811+30]..[352,6811+33])
                      []
                  ]
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[353,6853+2]..[353,6853+17])
            Pexp_setfield
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[353,6853+2]..[353,6853+3])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[353,6853+2]..[353,6853+3])
            "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[353,6853+4]..[353,6853+12])
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[353,6853+16]..[353,6853+17])
              Pexp_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[353,6853+16]..[353,6853+17])
              None
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[355,6874+0]..[357,6904+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[355,6874+9]..[357,6904+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[355,6874+9]..[357,6904+2])
          Pexp_constant PConst_string ("\nval d : unit = ()\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[355,6874+11]..[357,6904+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[359,6909+0]..[361,6959+25])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[359,6909+4]..[359,6909+5])
          Ppat_var "e" (testsuite/tests/typing-misc/disambiguate_principality.ml[359,6909+4]..[359,6909+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+2]..[361,6959+25])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+6]..[360,6917+7])
                Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+6]..[360,6917+7])
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+10]..[360,6917+38])
                Pexp_constraint
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+11]..[360,6917+27])
                  Pexp_record
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+13]..[360,6917+21])
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+24]..[360,6917+25])
                        Pexp_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+24]..[360,6917+25])
                        None
                  ]
                  None
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+30]..[360,6917+37])
                  Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+34]..[360,6917+37])
                  [
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+30]..[360,6917+33])
                      Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[360,6917+30]..[360,6917+33])
                      []
                  ]
          ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[361,6959+2]..[361,6959+25])
            Pexp_record
            [
              "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[361,6959+11]..[361,6959+19])
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[361,6959+22]..[361,6959+23])
                  Pexp_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[361,6959+22]..[361,6959+23])
                  None
            ]
            Some
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[361,6959+4]..[361,6959+5])
                Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[361,6959+4]..[361,6959+5])
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[363,6988+0]..[368,7113+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[363,6988+9]..[368,7113+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[363,6988+9]..[368,7113+2])
          Pexp_constant PConst_string ("\nLine 3, characters 22-23:\n3 |   { x with contents = B }\n                          ^\nError: Unbound constructor B\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[363,6988+11]..[368,7113+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[372,7134+0]..[374,7167+16])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[372,7134+4]..[372,7134+5])
          Ppat_var "g" (testsuite/tests/typing-misc/disambiguate_principality.ml[372,7134+4]..[372,7134+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[372,7134+6]..[374,7167+16]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[372,7134+6]..[372,7134+15])
            Ppat_constraint
            pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[372,7134+7]..[372,7134+8])
              Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[372,7134+7]..[372,7134+8])
            core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[372,7134+11]..[372,7134+14])
              Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[372,7134+11]..[372,7134+14])
              []
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[373,7152+2]..[374,7167+16])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[373,7152+8]..[373,7152+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[373,7152+8]..[373,7152+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[374,7167+4]..[374,7167+9])
                  Ppat_or
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[374,7167+4]..[374,7167+5])
                    Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[374,7167+4]..[374,7167+5])
                    None
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[374,7167+8]..[374,7167+9])
                    Ppat_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[374,7167+8]..[374,7167+9])
                    None
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[374,7167+14]..[374,7167+16])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[374,7167+14]..[374,7167+16])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[376,7187+0]..[378,7227+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[376,7187+9]..[378,7227+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[376,7187+9]..[378,7227+2])
          Pexp_constant PConst_string ("\nval g : M.t -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[376,7187+11]..[378,7227+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[380,7232+0]..[383,7277+11])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[380,7232+4]..[380,7232+5])
          Ppat_var "h" (testsuite/tests/typing-misc/disambiguate_principality.ml[380,7232+4]..[380,7232+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[380,7232+6]..[383,7277+11]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[380,7232+6]..[380,7232+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[380,7232+6]..[380,7232+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[381,7242+2]..[383,7277+11])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[381,7242+8]..[381,7242+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[381,7242+8]..[381,7242+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[382,7257+4]..[382,7257+13])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[382,7257+5]..[382,7257+6])
                    Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[382,7257+5]..[382,7257+6])
                    None
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[382,7257+9]..[382,7257+12])
                    Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[382,7257+9]..[382,7257+12])
                    []
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[382,7257+17]..[382,7257+19])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[382,7257+17]..[382,7257+19])
                  None
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[383,7277+4]..[383,7277+5])
                  Ppat_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[383,7277+4]..[383,7277+5])
                  None
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[383,7277+9]..[383,7277+11])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[383,7277+9]..[383,7277+11])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[385,7292+0]..[393,7515+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[385,7292+9]..[393,7515+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[385,7292+9]..[393,7515+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[385,7292+9]..[387,7332+2])
              Pexp_constant PConst_string ("\nval h : M.t -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[385,7292+11]..[387,7332+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[387,7332+4]..[393,7515+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[387,7332+4]..[387,7332+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[387,7332+13]..[393,7515+2])
                  Pexp_constant PConst_string ("\nLine 4, characters 4-5:\n4 |   | B -> ()\n        ^\nWarning 18 [not-principal]: this type-based constructor disambiguation is not principal.\nval h : M.t -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[387,7332+15]..[393,7515+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[395,7520+0]..[398,7557+19])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[395,7520+4]..[395,7520+5])
          Ppat_var "i" (testsuite/tests/typing-misc/disambiguate_principality.ml[395,7520+4]..[395,7520+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[395,7520+6]..[398,7557+19]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[395,7520+6]..[395,7520+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[395,7520+6]..[395,7520+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[396,7530+2]..[398,7557+19])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[396,7530+8]..[396,7530+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[396,7530+8]..[396,7530+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[397,7545+4]..[397,7545+5])
                  Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[397,7545+4]..[397,7545+5])
                  None
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[397,7545+9]..[397,7545+11])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[397,7545+9]..[397,7545+11])
                  None
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[398,7557+4]..[398,7557+13])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[398,7557+5]..[398,7557+6])
                    Ppat_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[398,7557+5]..[398,7557+6])
                    None
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[398,7557+9]..[398,7557+12])
                    Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[398,7557+9]..[398,7557+12])
                    []
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[398,7557+17]..[398,7557+19])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[398,7557+17]..[398,7557+19])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[400,7580+0]..[405,7671+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[400,7580+9]..[405,7671+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[400,7580+9]..[405,7671+2])
          Pexp_constant PConst_string ("\nLine 3, characters 4-5:\n3 |   | A -> ()\n        ^\nError: Unbound constructor A\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[400,7580+11]..[405,7671+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[407,7676+0]..[410,7715+11])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[407,7676+4]..[407,7676+5])
          Ppat_var "j" (testsuite/tests/typing-misc/disambiguate_principality.ml[407,7676+4]..[407,7676+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[407,7676+6]..[410,7715+11]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[407,7676+6]..[407,7676+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[407,7676+6]..[407,7676+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[408,7686+2]..[410,7715+11])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[408,7686+8]..[408,7686+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[408,7686+8]..[408,7686+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[409,7701+4]..[410,7715+5])
                  Ppat_or
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[409,7701+4]..[409,7701+13])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[409,7701+5]..[409,7701+6])
                      Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[409,7701+5]..[409,7701+6])
                      None
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[409,7701+9]..[409,7701+12])
                      Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[409,7701+9]..[409,7701+12])
                      []
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[410,7715+4]..[410,7715+5])
                    Ppat_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[410,7715+4]..[410,7715+5])
                    None
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[410,7715+9]..[410,7715+11])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[410,7715+9]..[410,7715+11])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[412,7730+0]..[420,7953+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[412,7730+9]..[420,7953+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[412,7730+9]..[420,7953+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[412,7730+9]..[414,7770+2])
              Pexp_constant PConst_string ("\nval j : M.t -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[412,7730+11]..[414,7770+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[414,7770+4]..[420,7953+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[414,7770+4]..[414,7770+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[414,7770+13]..[420,7953+2])
                  Pexp_constant PConst_string ("\nLine 4, characters 4-5:\n4 |   | B -> ()\n        ^\nWarning 18 [not-principal]: this type-based constructor disambiguation is not principal.\nval j : M.t -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[414,7770+15]..[420,7953+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[422,7958+0]..[425,7989+19])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[422,7958+4]..[422,7958+5])
          Ppat_var "k" (testsuite/tests/typing-misc/disambiguate_principality.ml[422,7958+4]..[422,7958+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[422,7958+6]..[425,7989+19]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[422,7958+6]..[422,7958+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[422,7958+6]..[422,7958+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[423,7968+2]..[425,7989+19])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[423,7968+8]..[423,7968+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[423,7968+8]..[423,7968+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[424,7983+4]..[425,7989+13])
                  Ppat_or
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[424,7983+4]..[424,7983+5])
                    Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[424,7983+4]..[424,7983+5])
                    None
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[425,7989+4]..[425,7989+13])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[425,7989+5]..[425,7989+6])
                      Ppat_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[425,7989+5]..[425,7989+6])
                      None
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[425,7989+9]..[425,7989+12])
                      Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[425,7989+9]..[425,7989+12])
                      []
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[425,7989+17]..[425,7989+19])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[425,7989+17]..[425,7989+19])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[427,8012+0]..[432,8097+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[427,8012+9]..[432,8097+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[427,8012+9]..[432,8097+2])
          Pexp_constant PConst_string ("\nLine 3, characters 4-5:\n3 |   | A\n        ^\nError: Unbound constructor A\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[427,8012+11]..[432,8097+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+0]..[436,8139+32])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+4]..[434,8102+5])
          Ppat_var "l" (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+4]..[434,8102+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+6]..[436,8139+32]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+6]..[434,8102+19])
            Ppat_constraint
            pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+7]..[434,8102+8])
              Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+7]..[434,8102+8])
            core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+11]..[434,8102+18])
              Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+15]..[434,8102+18])
              [
                core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+11]..[434,8102+14])
                  Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[434,8102+11]..[434,8102+14])
                  []
              ]
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[435,8124+2]..[436,8139+32])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[435,8124+8]..[435,8124+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[435,8124+8]..[435,8124+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[436,8139+4]..[436,8139+26])
                  Ppat_record Closed
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[436,8139+6]..[436,8139+14])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[436,8139+17]..[436,8139+24])
                        Ppat_or
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[436,8139+18]..[436,8139+19])
                          Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[436,8139+18]..[436,8139+19])
                          None
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[436,8139+22]..[436,8139+23])
                          Ppat_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[436,8139+22]..[436,8139+23])
                          None
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[436,8139+30]..[436,8139+32])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[436,8139+30]..[436,8139+32])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[438,8175+0]..[440,8219+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[438,8175+9]..[440,8219+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[438,8175+9]..[440,8219+2])
          Pexp_constant PConst_string ("\nval l : M.t ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[438,8175+11]..[440,8219+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[442,8224+0]..[444,8249+32])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[442,8224+4]..[442,8224+5])
          Ppat_var "m" (testsuite/tests/typing-misc/disambiguate_principality.ml[442,8224+4]..[442,8224+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[442,8224+6]..[444,8249+32]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[442,8224+6]..[442,8224+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[442,8224+6]..[442,8224+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[443,8234+2]..[444,8249+32])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[443,8234+8]..[443,8234+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[443,8234+8]..[443,8234+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[444,8249+4]..[444,8249+26])
                  Ppat_record Closed
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[444,8249+6]..[444,8249+14])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[444,8249+17]..[444,8249+24])
                        Ppat_or
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[444,8249+18]..[444,8249+19])
                          Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[444,8249+18]..[444,8249+19])
                          None
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[444,8249+22]..[444,8249+23])
                          Ppat_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[444,8249+22]..[444,8249+23])
                          None
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[444,8249+30]..[444,8249+32])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[444,8249+30]..[444,8249+32])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[446,8285+0]..[451,8413+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[446,8285+9]..[451,8413+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[446,8285+9]..[451,8413+2])
          Pexp_constant PConst_string ("\nLine 3, characters 18-19:\n3 |   | { contents = (A | B) } -> ()\n                      ^\nError: Unbound constructor A\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[446,8285+11]..[451,8413+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[453,8418+0]..[456,8467+26])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[453,8418+4]..[453,8418+5])
          Ppat_var "n" (testsuite/tests/typing-misc/disambiguate_principality.ml[453,8418+4]..[453,8418+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[453,8418+6]..[456,8467+26]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[453,8418+6]..[453,8418+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[453,8418+6]..[453,8418+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[454,8428+2]..[456,8467+26])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[454,8428+8]..[454,8428+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[454,8428+8]..[454,8428+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[455,8443+4]..[455,8443+17])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[455,8443+5]..[455,8443+6])
                    Ppat_any
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[455,8443+9]..[455,8443+16])
                    Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[455,8443+13]..[455,8443+16])
                    [
                      core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[455,8443+9]..[455,8443+12])
                        Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[455,8443+9]..[455,8443+12])
                        []
                    ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[455,8443+21]..[455,8443+23])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[455,8443+21]..[455,8443+23])
                  None
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[456,8467+4]..[456,8467+20])
                  Ppat_record Closed
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[456,8467+6]..[456,8467+14])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[456,8467+17]..[456,8467+18])
                        Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[456,8467+17]..[456,8467+18])
                        None
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[456,8467+24]..[456,8467+26])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[456,8467+24]..[456,8467+26])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[458,8497+0]..[474,9032+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[458,8497+9]..[474,9032+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[458,8497+9]..[474,9032+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[458,8497+9]..[464,8678+2])
              Pexp_constant PConst_string ("\nLine 4, characters 4-20:\n4 |   | { contents = A } -> ()\n        ^^^^^^^^^^^^^^^^\nWarning 11 [redundant-case]: this match case is unused.\nval n : M.t ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[458,8497+11]..[464,8678+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[464,8678+4]..[474,9032+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[464,8678+4]..[464,8678+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[464,8678+13]..[474,9032+2])
                  Pexp_constant PConst_string ("\nLine 4, characters 17-18:\n4 |   | { contents = A } -> ()\n                     ^\nWarning 18 [not-principal]: this type-based constructor disambiguation is not principal.\nLine 4, characters 4-20:\n4 |   | { contents = A } -> ()\n        ^^^^^^^^^^^^^^^^\nWarning 11 [redundant-case]: this match case is unused.\nval n : M.t ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[464,8678+15]..[474,9032+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[476,9037+0]..[479,9089+23])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[476,9037+4]..[476,9037+5])
          Ppat_var "o" (testsuite/tests/typing-misc/disambiguate_principality.ml[476,9037+4]..[476,9037+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[476,9037+6]..[479,9089+23]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[476,9037+6]..[476,9037+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[476,9037+6]..[476,9037+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[477,9047+2]..[479,9089+23])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[477,9047+8]..[477,9047+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[477,9047+8]..[477,9047+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[478,9062+4]..[478,9062+20])
                  Ppat_record Closed
                  [
                    "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[478,9062+6]..[478,9062+14])
                      pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[478,9062+17]..[478,9062+18])
                        Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[478,9062+17]..[478,9062+18])
                        None
                  ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[478,9062+24]..[478,9062+26])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[478,9062+24]..[478,9062+26])
                  None
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[479,9089+4]..[479,9089+17])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[479,9089+5]..[479,9089+6])
                    Ppat_any
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[479,9089+9]..[479,9089+16])
                    Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[479,9089+13]..[479,9089+16])
                    [
                      core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[479,9089+9]..[479,9089+12])
                        Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[479,9089+9]..[479,9089+12])
                        []
                    ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[479,9089+21]..[479,9089+23])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[479,9089+21]..[479,9089+23])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[481,9116+0]..[486,9237+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[481,9116+9]..[486,9237+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[481,9116+9]..[486,9237+2])
          Pexp_constant PConst_string ("\nLine 3, characters 17-18:\n3 |   | { contents = A } -> ()\n                     ^\nError: Unbound constructor A\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[481,9116+11]..[486,9237+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[488,9242+0]..[491,9285+26])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[488,9242+4]..[488,9242+5])
          Ppat_var "p" (testsuite/tests/typing-misc/disambiguate_principality.ml[488,9242+4]..[488,9242+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[488,9242+6]..[491,9285+26]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[488,9242+6]..[488,9242+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[488,9242+6]..[488,9242+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[489,9252+2]..[491,9285+26])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[489,9252+8]..[489,9252+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[489,9252+8]..[489,9252+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[490,9267+4]..[491,9285+20])
                  Ppat_or
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[490,9267+4]..[490,9267+17])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[490,9267+5]..[490,9267+6])
                      Ppat_any
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[490,9267+9]..[490,9267+16])
                      Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[490,9267+13]..[490,9267+16])
                      [
                        core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[490,9267+9]..[490,9267+12])
                          Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[490,9267+9]..[490,9267+12])
                          []
                      ]
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[491,9285+4]..[491,9285+20])
                    Ppat_record Closed
                    [
                      "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[491,9285+6]..[491,9285+14])
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[491,9285+17]..[491,9285+18])
                          Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[491,9285+17]..[491,9285+18])
                          None
                    ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[491,9285+24]..[491,9285+26])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[491,9285+24]..[491,9285+26])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[493,9315+0]..[509,9856+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[493,9315+9]..[509,9856+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[493,9315+9]..[509,9856+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[493,9315+9]..[499,9499+2])
              Pexp_constant PConst_string ("\nLine 4, characters 4-20:\n4 |   | { contents = A } -> ()\n        ^^^^^^^^^^^^^^^^\nWarning 12 [redundant-subpat]: this sub-pattern is unused.\nval p : M.t ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[493,9315+11]..[499,9499+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[499,9499+4]..[509,9856+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[499,9499+4]..[499,9499+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[499,9499+13]..[509,9856+2])
                  Pexp_constant PConst_string ("\nLine 4, characters 17-18:\n4 |   | { contents = A } -> ()\n                     ^\nWarning 18 [not-principal]: this type-based constructor disambiguation is not principal.\nLine 4, characters 4-20:\n4 |   | { contents = A } -> ()\n        ^^^^^^^^^^^^^^^^\nWarning 12 [redundant-subpat]: this sub-pattern is unused.\nval p : M.t ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[499,9499+15]..[509,9856+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[511,9861+0]..[514,9907+23])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[511,9861+4]..[511,9861+5])
          Ppat_var "q" (testsuite/tests/typing-misc/disambiguate_principality.ml[511,9861+4]..[511,9861+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[511,9861+6]..[514,9907+23]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[511,9861+6]..[511,9861+7])
            Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[511,9861+6]..[511,9861+7])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[512,9871+2]..[514,9907+23])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[512,9871+8]..[512,9871+9])
              Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[512,9871+8]..[512,9871+9])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[513,9886+4]..[514,9907+17])
                  Ppat_or
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[513,9886+4]..[513,9886+20])
                    Ppat_record Closed
                    [
                      "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[513,9886+6]..[513,9886+14])
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[513,9886+17]..[513,9886+18])
                          Ppat_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[513,9886+17]..[513,9886+18])
                          None
                    ]
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[514,9907+4]..[514,9907+17])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[514,9907+5]..[514,9907+6])
                      Ppat_any
                    core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[514,9907+9]..[514,9907+16])
                      Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[514,9907+13]..[514,9907+16])
                      [
                        core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[514,9907+9]..[514,9907+12])
                          Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[514,9907+9]..[514,9907+12])
                          []
                      ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[514,9907+21]..[514,9907+23])
                  Pexp_construct "()" (testsuite/tests/typing-misc/disambiguate_principality.ml[514,9907+21]..[514,9907+23])
                  None
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[516,9934+0]..[521,10049+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[516,9934+9]..[521,10049+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[516,9934+9]..[521,10049+2])
          Pexp_constant PConst_string ("\nLine 3, characters 17-18:\n3 |   | { contents = A }\n                     ^\nError: Unbound constructor A\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[516,9934+11]..[521,10049+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[523,10054+0]..[526,10104+10])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[523,10054+4]..[523,10054+5])
          Ppat_var "s" (testsuite/tests/typing-misc/disambiguate_principality.ml[523,10054+4]..[523,10054+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[523,10054+6]..[526,10104+10]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[523,10054+6]..[523,10054+9])
            Ppat_var "arg" (testsuite/tests/typing-misc/disambiguate_principality.ml[523,10054+6]..[523,10054+9])
          expression (testsuite/tests/typing-misc/disambiguate_principality.ml[524,10066+2]..[526,10104+10])
            Pexp_match
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[524,10066+8]..[524,10066+11])
              Pexp_ident "arg" (testsuite/tests/typing-misc/disambiguate_principality.ml[524,10066+8]..[524,10066+11])
            [
              <case>
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[525,10083+4]..[525,10083+17])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[525,10083+5]..[525,10083+6])
                    Ppat_var "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[525,10083+5]..[525,10083+6])
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[525,10083+9]..[525,10083+16])
                    Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[525,10083+13]..[525,10083+16])
                    [
                      core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[525,10083+9]..[525,10083+12])
                        Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[525,10083+9]..[525,10083+12])
                        []
                    ]
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[526,10104+4]..[526,10104+10])
                  Pexp_apply
                  expression (testsuite/tests/typing-misc/disambiguate_principality.ml[526,10104+6]..[526,10104+8])
                    Pexp_ident ":=" (testsuite/tests/typing-misc/disambiguate_principality.ml[526,10104+6]..[526,10104+8])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[526,10104+4]..[526,10104+5])
                        Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[526,10104+4]..[526,10104+5])
                    <arg>
                    Nolabel
                      expression (testsuite/tests/typing-misc/disambiguate_principality.ml[526,10104+9]..[526,10104+10])
                        Pexp_construct "A" (testsuite/tests/typing-misc/disambiguate_principality.ml[526,10104+9]..[526,10104+10])
                        None
                  ]
            ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[528,10118+0]..[536,10354+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[528,10118+9]..[536,10354+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[528,10118+9]..[536,10354+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[528,10118+9]..[530,10162+2])
              Pexp_constant PConst_string ("\nval s : M.t ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[528,10118+11]..[530,10162+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[530,10162+4]..[536,10354+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[530,10162+4]..[530,10162+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[530,10162+13]..[536,10354+2])
                  Pexp_constant PConst_string ("\nLine 4, characters 9-10:\n4 |     x := A\n             ^\nWarning 18 [not-principal]: this type-based constructor disambiguation is not principal.\nval s : M.t ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[530,10162+15]..[536,10354+0]),Some "")
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[538,10359+0]..[540,10419+10])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[538,10359+4]..[538,10359+5])
          Ppat_var "t" (testsuite/tests/typing-misc/disambiguate_principality.ml[538,10359+4]..[538,10359+5])
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[538,10359+8]..[540,10419+10])
          Pexp_function
          [
            <case>
              pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+4]..[539,10376+39])
                Ppat_alias "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+38]..[539,10376+39])
                pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+4]..[539,10376+34])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+5]..[539,10376+23])
                    Ppat_record Closed
                    [
                      "contents" (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+7]..[539,10376+15])
                        pattern (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+18]..[539,10376+21])
                          Ppat_construct "M.A" (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+18]..[539,10376+21])
                          None
                    ]
                  core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+26]..[539,10376+33])
                    Ptyp_constr "ref" (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+30]..[539,10376+33])
                    [
                      core_type (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+26]..[539,10376+29])
                        Ptyp_constr "M.t" (testsuite/tests/typing-misc/disambiguate_principality.ml[539,10376+26]..[539,10376+29])
                        []
                    ]
              expression (testsuite/tests/typing-misc/disambiguate_principality.ml[540,10419+4]..[540,10419+10])
                Pexp_apply
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[540,10419+6]..[540,10419+8])
                  Pexp_ident ":=" (testsuite/tests/typing-misc/disambiguate_principality.ml[540,10419+6]..[540,10419+8])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/typing-misc/disambiguate_principality.ml[540,10419+4]..[540,10419+5])
                      Pexp_ident "x" (testsuite/tests/typing-misc/disambiguate_principality.ml[540,10419+4]..[540,10419+5])
                  <arg>
                  Nolabel
                    expression (testsuite/tests/typing-misc/disambiguate_principality.ml[540,10419+9]..[540,10419+10])
                      Pexp_construct "B" (testsuite/tests/typing-misc/disambiguate_principality.ml[540,10419+9]..[540,10419+10])
                      None
                ]
          ]
    ]
  structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[542,10433+0]..[564,11153+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/disambiguate_principality.ml[542,10433+9]..[564,11153+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/disambiguate_principality.ml[542,10433+9]..[564,11153+2])
          Pexp_tuple
          [
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[542,10433+9]..[551,10719+2])
              Pexp_constant PConst_string ("\nLines 1-3, characters 8-10:\n1 | ........function\n2 |   | ({ contents = M.A } : M.t ref) as x ->\n3 |     x := B\nWarning 8 [partial-match]: this pattern-matching is not exhaustive.\nHere is an example of a case that is not matched:\n{contents=B}\nval t : M.t ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[542,10433+11]..[551,10719+0]),Some "")
            expression (testsuite/tests/typing-misc/disambiguate_principality.ml[551,10719+4]..[564,11153+2])
              Pexp_construct "Principal" (testsuite/tests/typing-misc/disambiguate_principality.ml[551,10719+4]..[551,10719+13])
              Some
                expression (testsuite/tests/typing-misc/disambiguate_principality.ml[551,10719+13]..[564,11153+2])
                  Pexp_constant PConst_string ("\nLine 3, characters 9-10:\n3 |     x := B\n             ^\nWarning 18 [not-principal]: this type-based constructor disambiguation is not principal.\nLines 1-3, characters 8-10:\n1 | ........function\n2 |   | ({ contents = M.A } : M.t ref) as x ->\n3 |     x := B\nWarning 8 [partial-match]: this pattern-matching is not exhaustive.\nHere is an example of a case that is not matched:\n{contents=B}\nval t : M.t ref -> unit = <fun>\n",(testsuite/tests/typing-misc/disambiguate_principality.ml[551,10719+15]..[564,11153+0]),Some "")
          ]
    ]
]

