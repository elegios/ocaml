[
  structure_item (testsuite/tests/lib-threads/prodcons2.ml[12,131+0]..[12,131+10])
    Pstr_open Fresh
    module_expr (testsuite/tests/lib-threads/prodcons2.ml[12,131+5]..[12,131+10])
      Pmod_ident "Event" (testsuite/tests/lib-threads/prodcons2.ml[12,131+5]..[12,131+10])
  structure_item (testsuite/tests/lib-threads/prodcons2.ml[14,143+0]..[16,194+69])
    Pstr_value Rec
    [
      <def>
        pattern (testsuite/tests/lib-threads/prodcons2.ml[14,143+8]..[14,143+15])
          Ppat_var "produce" (testsuite/tests/lib-threads/prodcons2.ml[14,143+8]..[14,143+15])
        expression (testsuite/tests/lib-threads/prodcons2.ml[14,143+16]..[16,194+69]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/lib-threads/prodcons2.ml[14,143+16]..[14,143+20])
            Ppat_var "chan" (testsuite/tests/lib-threads/prodcons2.ml[14,143+16]..[14,143+20])
          expression (testsuite/tests/lib-threads/prodcons2.ml[14,143+21]..[16,194+69]) ghost
            Pexp_fun
            Nolabel
            None
            pattern (testsuite/tests/lib-threads/prodcons2.ml[14,143+21]..[14,143+22])
              Ppat_var "n" (testsuite/tests/lib-threads/prodcons2.ml[14,143+21]..[14,143+22])
            expression (testsuite/tests/lib-threads/prodcons2.ml[14,143+23]..[16,194+69]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/lib-threads/prodcons2.ml[14,143+23]..[14,143+26])
                Ppat_var "max" (testsuite/tests/lib-threads/prodcons2.ml[14,143+23]..[14,143+26])
              expression (testsuite/tests/lib-threads/prodcons2.ml[15,172+2]..[16,194+69])
                Pexp_sequence
                expression (testsuite/tests/lib-threads/prodcons2.ml[15,172+2]..[15,172+20])
                  Pexp_apply
                  expression (testsuite/tests/lib-threads/prodcons2.ml[15,172+2]..[15,172+6])
                    Pexp_ident "sync" (testsuite/tests/lib-threads/prodcons2.ml[15,172+2]..[15,172+6])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons2.ml[15,172+7]..[15,172+20])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons2.ml[15,172+8]..[15,172+12])
                          Pexp_ident "send" (testsuite/tests/lib-threads/prodcons2.ml[15,172+8]..[15,172+12])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons2.ml[15,172+13]..[15,172+17])
                              Pexp_ident "chan" (testsuite/tests/lib-threads/prodcons2.ml[15,172+13]..[15,172+17])
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons2.ml[15,172+18]..[15,172+19])
                              Pexp_ident "n" (testsuite/tests/lib-threads/prodcons2.ml[15,172+18]..[15,172+19])
                        ]
                  ]
                expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+2]..[16,194+69])
                  Pexp_ifthenelse
                  expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+5]..[16,194+12])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+7]..[16,194+8])
                      Pexp_ident "<" (testsuite/tests/lib-threads/prodcons2.ml[16,194+7]..[16,194+8])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+5]..[16,194+6])
                          Pexp_ident "n" (testsuite/tests/lib-threads/prodcons2.ml[16,194+5]..[16,194+6])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+9]..[16,194+12])
                          Pexp_ident "max" (testsuite/tests/lib-threads/prodcons2.ml[16,194+9]..[16,194+12])
                    ]
                  expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+18]..[16,194+42])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+18]..[16,194+25])
                      Pexp_ident "produce" (testsuite/tests/lib-threads/prodcons2.ml[16,194+18]..[16,194+25])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+26]..[16,194+30])
                          Pexp_ident "chan" (testsuite/tests/lib-threads/prodcons2.ml[16,194+26]..[16,194+30])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+31]..[16,194+38])
                          Pexp_apply
                          expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+34]..[16,194+35])
                            Pexp_ident "+" (testsuite/tests/lib-threads/prodcons2.ml[16,194+34]..[16,194+35])
                          [
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+32]..[16,194+33])
                                Pexp_ident "n" (testsuite/tests/lib-threads/prodcons2.ml[16,194+32]..[16,194+33])
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+36]..[16,194+37])
                                Pexp_constant PConst_int (1,None)
                          ]
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+39]..[16,194+42])
                          Pexp_ident "max" (testsuite/tests/lib-threads/prodcons2.ml[16,194+39]..[16,194+42])
                    ]
                  Some
                    expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+48]..[16,194+69])
                      Pexp_apply
                      expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+48]..[16,194+52])
                        Pexp_ident "sync" (testsuite/tests/lib-threads/prodcons2.ml[16,194+48]..[16,194+52])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+53]..[16,194+69])
                            Pexp_apply
                            expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+54]..[16,194+58])
                              Pexp_ident "send" (testsuite/tests/lib-threads/prodcons2.ml[16,194+54]..[16,194+58])
                            [
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+59]..[16,194+63])
                                  Pexp_ident "chan" (testsuite/tests/lib-threads/prodcons2.ml[16,194+59]..[16,194+63])
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons2.ml[16,194+64]..[16,194+68])
                                  Pexp_constant PConst_int (-1,None)
                            ]
                      ]
    ]
  structure_item (testsuite/tests/lib-threads/prodcons2.ml[18,265+0]..[28,593+59])
    Pstr_value Rec
    [
      <def>
        pattern (testsuite/tests/lib-threads/prodcons2.ml[18,265+8]..[18,265+15])
          Ppat_var "consume" (testsuite/tests/lib-threads/prodcons2.ml[18,265+8]..[18,265+15])
        expression (testsuite/tests/lib-threads/prodcons2.ml[18,265+16]..[28,593+59]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/lib-threads/prodcons2.ml[18,265+16]..[18,265+21])
            Ppat_var "chans" (testsuite/tests/lib-threads/prodcons2.ml[18,265+16]..[18,265+21])
          expression (testsuite/tests/lib-threads/prodcons2.ml[18,265+22]..[28,593+59]) ghost
            Pexp_fun
            Nolabel
            None
            pattern (testsuite/tests/lib-threads/prodcons2.ml[18,265+22]..[18,265+25])
              Ppat_var "sum" (testsuite/tests/lib-threads/prodcons2.ml[18,265+22]..[18,265+25])
            expression (testsuite/tests/lib-threads/prodcons2.ml[19,293+2]..[28,593+59])
              Pexp_let Rec
              [
                <def>
                  pattern (testsuite/tests/lib-threads/prodcons2.ml[19,293+10]..[19,293+19])
                    Ppat_var "mkreceive" (testsuite/tests/lib-threads/prodcons2.ml[19,293+10]..[19,293+19])
                  expression (testsuite/tests/lib-threads/prodcons2.ml[19,293+20]..[26,548+39]) ghost
                    Pexp_fun
                    Nolabel
                    None
                    pattern (testsuite/tests/lib-threads/prodcons2.ml[19,293+20]..[19,293+24])
                      Ppat_var "prev" (testsuite/tests/lib-threads/prodcons2.ml[19,293+20]..[19,293+24])
                    expression (testsuite/tests/lib-threads/prodcons2.ml[19,293+27]..[26,548+39])
                      Pexp_function
                      [
                        <case>
                          pattern (testsuite/tests/lib-threads/prodcons2.ml[20,329+6]..[20,329+8])
                            Ppat_construct "[]" (testsuite/tests/lib-threads/prodcons2.ml[20,329+6]..[20,329+8])
                            None
                          expression (testsuite/tests/lib-threads/prodcons2.ml[20,329+12]..[20,329+14])
                            Pexp_construct "[]" (testsuite/tests/lib-threads/prodcons2.ml[20,329+12]..[20,329+14])
                            None
                        <case>
                          pattern (testsuite/tests/lib-threads/prodcons2.ml[21,344+6]..[21,344+26])
                            Ppat_alias "chans" (testsuite/tests/lib-threads/prodcons2.ml[21,344+21]..[21,344+26])
                            pattern (testsuite/tests/lib-threads/prodcons2.ml[21,344+6]..[21,344+17])
                              Ppat_construct "::" (testsuite/tests/lib-threads/prodcons2.ml[21,344+11]..[21,344+13])
                              Some
                                []
                                pattern (testsuite/tests/lib-threads/prodcons2.ml[21,344+6]..[21,344+17]) ghost
                                  Ppat_tuple
                                  [
                                    pattern (testsuite/tests/lib-threads/prodcons2.ml[21,344+6]..[21,344+10])
                                      Ppat_var "chan" (testsuite/tests/lib-threads/prodcons2.ml[21,344+6]..[21,344+10])
                                    pattern (testsuite/tests/lib-threads/prodcons2.ml[21,344+14]..[21,344+17])
                                      Ppat_var "rem" (testsuite/tests/lib-threads/prodcons2.ml[21,344+14]..[21,344+17])
                                  ]
                          expression (testsuite/tests/lib-threads/prodcons2.ml[22,374+8]..[26,548+39])
                            Pexp_construct "::" (testsuite/tests/lib-threads/prodcons2.ml[26,548+8]..[26,548+10])
                            Some
                              expression (testsuite/tests/lib-threads/prodcons2.ml[22,374+8]..[26,548+39]) ghost
                                Pexp_tuple
                                [
                                  expression (testsuite/tests/lib-threads/prodcons2.ml[22,374+8]..[25,485+62])
                                    Pexp_apply
                                    expression (testsuite/tests/lib-threads/prodcons2.ml[22,374+8]..[22,374+12])
                                      Pexp_ident "wrap" (testsuite/tests/lib-threads/prodcons2.ml[22,374+8]..[22,374+12])
                                    [
                                      <arg>
                                      Nolabel
                                        expression (testsuite/tests/lib-threads/prodcons2.ml[22,374+13]..[22,374+27])
                                          Pexp_apply
                                          expression (testsuite/tests/lib-threads/prodcons2.ml[22,374+14]..[22,374+21])
                                            Pexp_ident "receive" (testsuite/tests/lib-threads/prodcons2.ml[22,374+14]..[22,374+21])
                                          [
                                            <arg>
                                            Nolabel
                                              expression (testsuite/tests/lib-threads/prodcons2.ml[22,374+22]..[22,374+26])
                                                Pexp_ident "chan" (testsuite/tests/lib-threads/prodcons2.ml[22,374+22]..[22,374+26])
                                          ]
                                      <arg>
                                      Nolabel
                                        expression (testsuite/tests/lib-threads/prodcons2.ml[22,374+28]..[25,485+62])
                                          Pexp_fun
                                          Nolabel
                                          None
                                          pattern (testsuite/tests/lib-threads/prodcons2.ml[22,374+33]..[22,374+34])
                                            Ppat_var "n" (testsuite/tests/lib-threads/prodcons2.ml[22,374+33]..[22,374+34])
                                          expression (testsuite/tests/lib-threads/prodcons2.ml[23,412+10]..[25,485+61])
                                            Pexp_ifthenelse
                                            expression (testsuite/tests/lib-threads/prodcons2.ml[23,412+13]..[23,412+18])
                                              Pexp_apply
                                              expression (testsuite/tests/lib-threads/prodcons2.ml[23,412+15]..[23,412+16])
                                                Pexp_ident "<" (testsuite/tests/lib-threads/prodcons2.ml[23,412+15]..[23,412+16])
                                              [
                                                <arg>
                                                Nolabel
                                                  expression (testsuite/tests/lib-threads/prodcons2.ml[23,412+13]..[23,412+14])
                                                    Pexp_ident "n" (testsuite/tests/lib-threads/prodcons2.ml[23,412+13]..[23,412+14])
                                                <arg>
                                                Nolabel
                                                  expression (testsuite/tests/lib-threads/prodcons2.ml[23,412+17]..[23,412+18])
                                                    Pexp_constant PConst_int (0,None)
                                              ]
                                            expression (testsuite/tests/lib-threads/prodcons2.ml[24,431+15]..[24,431+53])
                                              Pexp_apply
                                              expression (testsuite/tests/lib-threads/prodcons2.ml[24,431+15]..[24,431+22])
                                                Pexp_ident "consume" (testsuite/tests/lib-threads/prodcons2.ml[24,431+15]..[24,431+22])
                                              [
                                                <arg>
                                                Nolabel
                                                  expression (testsuite/tests/lib-threads/prodcons2.ml[24,431+23]..[24,431+49])
                                                    Pexp_apply
                                                    expression (testsuite/tests/lib-threads/prodcons2.ml[24,431+24]..[24,431+39])
                                                      Pexp_ident "List.rev_append" (testsuite/tests/lib-threads/prodcons2.ml[24,431+24]..[24,431+39])
                                                    [
                                                      <arg>
                                                      Nolabel
                                                        expression (testsuite/tests/lib-threads/prodcons2.ml[24,431+40]..[24,431+43])
                                                          Pexp_ident "rem" (testsuite/tests/lib-threads/prodcons2.ml[24,431+40]..[24,431+43])
                                                      <arg>
                                                      Nolabel
                                                        expression (testsuite/tests/lib-threads/prodcons2.ml[24,431+44]..[24,431+48])
                                                          Pexp_ident "prev" (testsuite/tests/lib-threads/prodcons2.ml[24,431+44]..[24,431+48])
                                                    ]
                                                <arg>
                                                Nolabel
                                                  expression (testsuite/tests/lib-threads/prodcons2.ml[24,431+50]..[24,431+53])
                                                    Pexp_ident "sum" (testsuite/tests/lib-threads/prodcons2.ml[24,431+50]..[24,431+53])
                                              ]
                                            Some
                                              expression (testsuite/tests/lib-threads/prodcons2.ml[25,485+15]..[25,485+61])
                                                Pexp_apply
                                                expression (testsuite/tests/lib-threads/prodcons2.ml[25,485+15]..[25,485+22])
                                                  Pexp_ident "consume" (testsuite/tests/lib-threads/prodcons2.ml[25,485+15]..[25,485+22])
                                                [
                                                  <arg>
                                                  Nolabel
                                                    expression (testsuite/tests/lib-threads/prodcons2.ml[25,485+23]..[25,485+51])
                                                      Pexp_apply
                                                      expression (testsuite/tests/lib-threads/prodcons2.ml[25,485+24]..[25,485+39])
                                                        Pexp_ident "List.rev_append" (testsuite/tests/lib-threads/prodcons2.ml[25,485+24]..[25,485+39])
                                                      [
                                                        <arg>
                                                        Nolabel
                                                          expression (testsuite/tests/lib-threads/prodcons2.ml[25,485+40]..[25,485+45])
                                                            Pexp_ident "chans" (testsuite/tests/lib-threads/prodcons2.ml[25,485+40]..[25,485+45])
                                                        <arg>
                                                        Nolabel
                                                          expression (testsuite/tests/lib-threads/prodcons2.ml[25,485+46]..[25,485+50])
                                                            Pexp_ident "prev" (testsuite/tests/lib-threads/prodcons2.ml[25,485+46]..[25,485+50])
                                                      ]
                                                  <arg>
                                                  Nolabel
                                                    expression (testsuite/tests/lib-threads/prodcons2.ml[25,485+52]..[25,485+61])
                                                      Pexp_apply
                                                      expression (testsuite/tests/lib-threads/prodcons2.ml[25,485+57]..[25,485+58])
                                                        Pexp_ident "+" (testsuite/tests/lib-threads/prodcons2.ml[25,485+57]..[25,485+58])
                                                      [
                                                        <arg>
                                                        Nolabel
                                                          expression (testsuite/tests/lib-threads/prodcons2.ml[25,485+53]..[25,485+56])
                                                            Pexp_ident "sum" (testsuite/tests/lib-threads/prodcons2.ml[25,485+53]..[25,485+56])
                                                        <arg>
                                                        Nolabel
                                                          expression (testsuite/tests/lib-threads/prodcons2.ml[25,485+59]..[25,485+60])
                                                            Pexp_ident "n" (testsuite/tests/lib-threads/prodcons2.ml[25,485+59]..[25,485+60])
                                                      ]
                                                ]
                                    ]
                                  expression (testsuite/tests/lib-threads/prodcons2.ml[26,548+11]..[26,548+39])
                                    Pexp_apply
                                    expression (testsuite/tests/lib-threads/prodcons2.ml[26,548+11]..[26,548+20])
                                      Pexp_ident "mkreceive" (testsuite/tests/lib-threads/prodcons2.ml[26,548+11]..[26,548+20])
                                    [
                                      <arg>
                                      Nolabel
                                        expression (testsuite/tests/lib-threads/prodcons2.ml[26,548+21]..[26,548+35])
                                          Pexp_construct "::" (testsuite/tests/lib-threads/prodcons2.ml[26,548+27]..[26,548+29])
                                          Some
                                            expression (testsuite/tests/lib-threads/prodcons2.ml[26,548+22]..[26,548+34]) ghost
                                              Pexp_tuple
                                              [
                                                expression (testsuite/tests/lib-threads/prodcons2.ml[26,548+22]..[26,548+26])
                                                  Pexp_ident "chan" (testsuite/tests/lib-threads/prodcons2.ml[26,548+22]..[26,548+26])
                                                expression (testsuite/tests/lib-threads/prodcons2.ml[26,548+30]..[26,548+34])
                                                  Pexp_ident "prev" (testsuite/tests/lib-threads/prodcons2.ml[26,548+30]..[26,548+34])
                                              ]
                                      <arg>
                                      Nolabel
                                        expression (testsuite/tests/lib-threads/prodcons2.ml[26,548+36]..[26,548+39])
                                          Pexp_ident "rem" (testsuite/tests/lib-threads/prodcons2.ml[26,548+36]..[26,548+39])
                                    ]
                                ]
                      ]
              ]
              expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+4]..[28,593+59])
                Pexp_ifthenelse
                expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+7]..[28,593+17])
                  Pexp_apply
                  expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+13]..[28,593+14])
                    Pexp_ident "=" (testsuite/tests/lib-threads/prodcons2.ml[28,593+13]..[28,593+14])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+7]..[28,593+12])
                        Pexp_ident "chans" (testsuite/tests/lib-threads/prodcons2.ml[28,593+7]..[28,593+12])
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+15]..[28,593+17])
                        Pexp_construct "[]" (testsuite/tests/lib-threads/prodcons2.ml[28,593+15]..[28,593+17])
                        None
                  ]
                expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+23]..[28,593+26])
                  Pexp_ident "sum" (testsuite/tests/lib-threads/prodcons2.ml[28,593+23]..[28,593+26])
                Some
                  expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+32]..[28,593+59])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+32]..[28,593+38])
                      Pexp_ident "select" (testsuite/tests/lib-threads/prodcons2.ml[28,593+32]..[28,593+38])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+39]..[28,593+59])
                          Pexp_apply
                          expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+40]..[28,593+49])
                            Pexp_ident "mkreceive" (testsuite/tests/lib-threads/prodcons2.ml[28,593+40]..[28,593+49])
                          [
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+50]..[28,593+52])
                                Pexp_construct "[]" (testsuite/tests/lib-threads/prodcons2.ml[28,593+50]..[28,593+52])
                                None
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons2.ml[28,593+53]..[28,593+58])
                                Pexp_ident "chans" (testsuite/tests/lib-threads/prodcons2.ml[28,593+53]..[28,593+58])
                          ]
                    ]
    ]
  structure_item (testsuite/tests/lib-threads/prodcons2.ml[30,654+0]..[30,654+31])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/lib-threads/prodcons2.ml[30,654+4]..[30,654+11])
          Ppat_var "sum_0_n" (testsuite/tests/lib-threads/prodcons2.ml[30,654+4]..[30,654+11])
        expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+12]..[30,654+31]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/lib-threads/prodcons2.ml[30,654+12]..[30,654+13])
            Ppat_var "n" (testsuite/tests/lib-threads/prodcons2.ml[30,654+12]..[30,654+13])
          expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+16]..[30,654+31])
            Pexp_apply
            expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+28]..[30,654+29])
              Pexp_ident "/" (testsuite/tests/lib-threads/prodcons2.ml[30,654+28]..[30,654+29])
            [
              <arg>
              Nolabel
                expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+16]..[30,654+27])
                  Pexp_apply
                  expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+18]..[30,654+19])
                    Pexp_ident "*" (testsuite/tests/lib-threads/prodcons2.ml[30,654+18]..[30,654+19])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+16]..[30,654+17])
                        Pexp_ident "n" (testsuite/tests/lib-threads/prodcons2.ml[30,654+16]..[30,654+17])
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+20]..[30,654+27])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+23]..[30,654+24])
                          Pexp_ident "+" (testsuite/tests/lib-threads/prodcons2.ml[30,654+23]..[30,654+24])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+21]..[30,654+22])
                              Pexp_ident "n" (testsuite/tests/lib-threads/prodcons2.ml[30,654+21]..[30,654+22])
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+25]..[30,654+26])
                              Pexp_constant PConst_int (1,None)
                        ]
                  ]
              <arg>
              Nolabel
                expression (testsuite/tests/lib-threads/prodcons2.ml[30,654+30]..[30,654+31])
                  Pexp_constant PConst_int (2,None)
            ]
    ]
  structure_item (testsuite/tests/lib-threads/prodcons2.ml[32,687+0]..[42,1096+30])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/lib-threads/prodcons2.ml[32,687+4]..[32,687+5])
          Ppat_any
        expression (testsuite/tests/lib-threads/prodcons2.ml[33,695+2]..[42,1096+30])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/lib-threads/prodcons2.ml[33,695+6]..[33,695+11])
                Ppat_var "chan1" (testsuite/tests/lib-threads/prodcons2.ml[33,695+6]..[33,695+11])
              expression (testsuite/tests/lib-threads/prodcons2.ml[33,695+14]..[33,695+27])
                Pexp_apply
                expression (testsuite/tests/lib-threads/prodcons2.ml[33,695+14]..[33,695+25])
                  Pexp_ident "new_channel" (testsuite/tests/lib-threads/prodcons2.ml[33,695+14]..[33,695+25])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/lib-threads/prodcons2.ml[33,695+25]..[33,695+27])
                      Pexp_construct "()" (testsuite/tests/lib-threads/prodcons2.ml[33,695+25]..[33,695+27])
                      None
                ]
            <def>
              pattern (testsuite/tests/lib-threads/prodcons2.ml[34,723+6]..[34,723+11])
                Ppat_var "chan2" (testsuite/tests/lib-threads/prodcons2.ml[34,723+6]..[34,723+11])
              expression (testsuite/tests/lib-threads/prodcons2.ml[34,723+14]..[34,723+27])
                Pexp_apply
                expression (testsuite/tests/lib-threads/prodcons2.ml[34,723+14]..[34,723+25])
                  Pexp_ident "new_channel" (testsuite/tests/lib-threads/prodcons2.ml[34,723+14]..[34,723+25])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/lib-threads/prodcons2.ml[34,723+25]..[34,723+27])
                      Pexp_construct "()" (testsuite/tests/lib-threads/prodcons2.ml[34,723+25]..[34,723+27])
                      None
                ]
            <def>
              pattern (testsuite/tests/lib-threads/prodcons2.ml[35,751+6]..[35,751+11])
                Ppat_var "chan3" (testsuite/tests/lib-threads/prodcons2.ml[35,751+6]..[35,751+11])
              expression (testsuite/tests/lib-threads/prodcons2.ml[35,751+14]..[35,751+27])
                Pexp_apply
                expression (testsuite/tests/lib-threads/prodcons2.ml[35,751+14]..[35,751+25])
                  Pexp_ident "new_channel" (testsuite/tests/lib-threads/prodcons2.ml[35,751+14]..[35,751+25])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/lib-threads/prodcons2.ml[35,751+25]..[35,751+27])
                      Pexp_construct "()" (testsuite/tests/lib-threads/prodcons2.ml[35,751+25]..[35,751+27])
                      None
                ]
          ]
          expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+2]..[42,1096+30])
            Pexp_sequence
            expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+2]..[36,782+60])
              Pexp_apply
              expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+2]..[36,782+8])
                Pexp_ident "ignore" (testsuite/tests/lib-threads/prodcons2.ml[36,782+2]..[36,782+8])
              [
                <arg>
                Nolabel
                  expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+9]..[36,782+60])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+10]..[36,782+23])
                      Pexp_ident "Thread.create" (testsuite/tests/lib-threads/prodcons2.ml[36,782+10]..[36,782+23])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+24]..[36,782+56])
                          Pexp_fun
                          Nolabel
                          None
                          pattern (testsuite/tests/lib-threads/prodcons2.ml[36,782+29]..[36,782+31])
                            Ppat_construct "()" (testsuite/tests/lib-threads/prodcons2.ml[36,782+29]..[36,782+31])
                            None
                          expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+35]..[36,782+55])
                            Pexp_apply
                            expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+35]..[36,782+42])
                              Pexp_ident "produce" (testsuite/tests/lib-threads/prodcons2.ml[36,782+35]..[36,782+42])
                            [
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+43]..[36,782+48])
                                  Pexp_ident "chan1" (testsuite/tests/lib-threads/prodcons2.ml[36,782+43]..[36,782+48])
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+49]..[36,782+50])
                                  Pexp_constant PConst_int (0,None)
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+51]..[36,782+55])
                                  Pexp_constant PConst_int (5000,None)
                            ]
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons2.ml[36,782+57]..[36,782+59])
                          Pexp_construct "()" (testsuite/tests/lib-threads/prodcons2.ml[36,782+57]..[36,782+59])
                          None
                    ]
              ]
            expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+2]..[42,1096+30])
              Pexp_sequence
              expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+2]..[37,844+60])
                Pexp_apply
                expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+2]..[37,844+8])
                  Pexp_ident "ignore" (testsuite/tests/lib-threads/prodcons2.ml[37,844+2]..[37,844+8])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+9]..[37,844+60])
                      Pexp_apply
                      expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+10]..[37,844+23])
                        Pexp_ident "Thread.create" (testsuite/tests/lib-threads/prodcons2.ml[37,844+10]..[37,844+23])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+24]..[37,844+56])
                            Pexp_fun
                            Nolabel
                            None
                            pattern (testsuite/tests/lib-threads/prodcons2.ml[37,844+29]..[37,844+31])
                              Ppat_construct "()" (testsuite/tests/lib-threads/prodcons2.ml[37,844+29]..[37,844+31])
                              None
                            expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+35]..[37,844+55])
                              Pexp_apply
                              expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+35]..[37,844+42])
                                Pexp_ident "produce" (testsuite/tests/lib-threads/prodcons2.ml[37,844+35]..[37,844+42])
                              [
                                <arg>
                                Nolabel
                                  expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+43]..[37,844+48])
                                    Pexp_ident "chan2" (testsuite/tests/lib-threads/prodcons2.ml[37,844+43]..[37,844+48])
                                <arg>
                                Nolabel
                                  expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+49]..[37,844+50])
                                    Pexp_constant PConst_int (0,None)
                                <arg>
                                Nolabel
                                  expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+51]..[37,844+55])
                                    Pexp_constant PConst_int (2000,None)
                              ]
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons2.ml[37,844+57]..[37,844+59])
                            Pexp_construct "()" (testsuite/tests/lib-threads/prodcons2.ml[37,844+57]..[37,844+59])
                            None
                      ]
                ]
              expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+2]..[42,1096+30])
                Pexp_sequence
                expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+2]..[38,906+60])
                  Pexp_apply
                  expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+2]..[38,906+8])
                    Pexp_ident "ignore" (testsuite/tests/lib-threads/prodcons2.ml[38,906+2]..[38,906+8])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+9]..[38,906+60])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+10]..[38,906+23])
                          Pexp_ident "Thread.create" (testsuite/tests/lib-threads/prodcons2.ml[38,906+10]..[38,906+23])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+24]..[38,906+56])
                              Pexp_fun
                              Nolabel
                              None
                              pattern (testsuite/tests/lib-threads/prodcons2.ml[38,906+29]..[38,906+31])
                                Ppat_construct "()" (testsuite/tests/lib-threads/prodcons2.ml[38,906+29]..[38,906+31])
                                None
                              expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+35]..[38,906+55])
                                Pexp_apply
                                expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+35]..[38,906+42])
                                  Pexp_ident "produce" (testsuite/tests/lib-threads/prodcons2.ml[38,906+35]..[38,906+42])
                                [
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+43]..[38,906+48])
                                      Pexp_ident "chan3" (testsuite/tests/lib-threads/prodcons2.ml[38,906+43]..[38,906+48])
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+49]..[38,906+50])
                                      Pexp_constant PConst_int (0,None)
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+51]..[38,906+55])
                                      Pexp_constant PConst_int (1000,None)
                                ]
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons2.ml[38,906+57]..[38,906+59])
                              Pexp_construct "()" (testsuite/tests/lib-threads/prodcons2.ml[38,906+57]..[38,906+59])
                              None
                        ]
                  ]
                expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+2]..[42,1096+30])
                  Pexp_let Nonrec
                  [
                    <def>
                      pattern (testsuite/tests/lib-threads/prodcons2.ml[39,968+6]..[39,968+7])
                        Ppat_var "n" (testsuite/tests/lib-threads/prodcons2.ml[39,968+6]..[39,968+7])
                      expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+10]..[39,968+41])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+10]..[39,968+17])
                          Pexp_ident "consume" (testsuite/tests/lib-threads/prodcons2.ml[39,968+10]..[39,968+17])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+18]..[39,968+39])
                              Pexp_construct "::" (testsuite/tests/lib-threads/prodcons2.ml[39,968+19]..[39,968+39]) ghost
                              Some
                                expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+19]..[39,968+39]) ghost
                                  Pexp_tuple
                                  [
                                    expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+19]..[39,968+24])
                                      Pexp_ident "chan1" (testsuite/tests/lib-threads/prodcons2.ml[39,968+19]..[39,968+24])
                                    expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+26]..[39,968+39]) ghost
                                      Pexp_construct "::" (testsuite/tests/lib-threads/prodcons2.ml[39,968+26]..[39,968+39]) ghost
                                      Some
                                        expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+26]..[39,968+39]) ghost
                                          Pexp_tuple
                                          [
                                            expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+26]..[39,968+31])
                                              Pexp_ident "chan2" (testsuite/tests/lib-threads/prodcons2.ml[39,968+26]..[39,968+31])
                                            expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+33]..[39,968+39]) ghost
                                              Pexp_construct "::" (testsuite/tests/lib-threads/prodcons2.ml[39,968+33]..[39,968+39]) ghost
                                              Some
                                                expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+33]..[39,968+39]) ghost
                                                  Pexp_tuple
                                                  [
                                                    expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+33]..[39,968+38])
                                                      Pexp_ident "chan3" (testsuite/tests/lib-threads/prodcons2.ml[39,968+33]..[39,968+38])
                                                    expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+38]..[39,968+39]) ghost
                                                      Pexp_construct "[]" (testsuite/tests/lib-threads/prodcons2.ml[39,968+38]..[39,968+39]) ghost
                                                      None
                                                  ]
                                          ]
                                  ]
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons2.ml[39,968+40]..[39,968+41])
                              Pexp_constant PConst_int (0,None)
                        ]
                  ]
                  expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+2]..[42,1096+30])
                    Pexp_ifthenelse
                    expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+5]..[40,1013+51])
                      Pexp_apply
                      expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+7]..[40,1013+8])
                        Pexp_ident "=" (testsuite/tests/lib-threads/prodcons2.ml[40,1013+7]..[40,1013+8])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+5]..[40,1013+6])
                            Pexp_ident "n" (testsuite/tests/lib-threads/prodcons2.ml[40,1013+5]..[40,1013+6])
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+9]..[40,1013+51])
                            Pexp_apply
                            expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+37]..[40,1013+38])
                              Pexp_ident "+" (testsuite/tests/lib-threads/prodcons2.ml[40,1013+37]..[40,1013+38])
                            [
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+9]..[40,1013+36])
                                  Pexp_apply
                                  expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+22]..[40,1013+23])
                                    Pexp_ident "+" (testsuite/tests/lib-threads/prodcons2.ml[40,1013+22]..[40,1013+23])
                                  [
                                    <arg>
                                    Nolabel
                                      expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+9]..[40,1013+21])
                                        Pexp_apply
                                        expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+9]..[40,1013+16])
                                          Pexp_ident "sum_0_n" (testsuite/tests/lib-threads/prodcons2.ml[40,1013+9]..[40,1013+16])
                                        [
                                          <arg>
                                          Nolabel
                                            expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+17]..[40,1013+21])
                                              Pexp_constant PConst_int (5000,None)
                                        ]
                                    <arg>
                                    Nolabel
                                      expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+24]..[40,1013+36])
                                        Pexp_apply
                                        expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+24]..[40,1013+31])
                                          Pexp_ident "sum_0_n" (testsuite/tests/lib-threads/prodcons2.ml[40,1013+24]..[40,1013+31])
                                        [
                                          <arg>
                                          Nolabel
                                            expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+32]..[40,1013+36])
                                              Pexp_constant PConst_int (2000,None)
                                        ]
                                  ]
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+39]..[40,1013+51])
                                  Pexp_apply
                                  expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+39]..[40,1013+46])
                                    Pexp_ident "sum_0_n" (testsuite/tests/lib-threads/prodcons2.ml[40,1013+39]..[40,1013+46])
                                  [
                                    <arg>
                                    Nolabel
                                      expression (testsuite/tests/lib-threads/prodcons2.ml[40,1013+47]..[40,1013+51])
                                        Pexp_constant PConst_int (1000,None)
                                  ]
                            ]
                      ]
                    expression (testsuite/tests/lib-threads/prodcons2.ml[41,1065+7]..[41,1065+30])
                      Pexp_apply
                      expression (testsuite/tests/lib-threads/prodcons2.ml[41,1065+7]..[41,1065+19])
                        Pexp_ident "print_string" (testsuite/tests/lib-threads/prodcons2.ml[41,1065+7]..[41,1065+19])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons2.ml[41,1065+20]..[41,1065+30])
                            Pexp_constant PConst_string("passed\n",(testsuite/tests/lib-threads/prodcons2.ml[41,1065+21]..[41,1065+29]),None)
                      ]
                    Some
                      expression (testsuite/tests/lib-threads/prodcons2.ml[42,1096+7]..[42,1096+30])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons2.ml[42,1096+7]..[42,1096+19])
                          Pexp_ident "print_string" (testsuite/tests/lib-threads/prodcons2.ml[42,1096+7]..[42,1096+19])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons2.ml[42,1096+20]..[42,1096+30])
                              Pexp_constant PConst_string("FAILED\n",(testsuite/tests/lib-threads/prodcons2.ml[42,1096+21]..[42,1096+29]),None)
                        ]
    ]
]

