[
  structure_item (testsuite/tests/lib-threads/prodcons.ml[12,104+0]..[18,244+26])
    Pstr_type Rec
    [
      type_declaration "prodcons" (testsuite/tests/lib-threads/prodcons.ml[12,104+8]..[12,104+16]) (testsuite/tests/lib-threads/prodcons.ml[12,104+0]..[18,244+26])
        ptype_params =
          [
            core_type (testsuite/tests/lib-threads/prodcons.ml[12,104+5]..[12,104+7])
              Ptyp_var a
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_record
            [
              (testsuite/tests/lib-threads/prodcons.ml[13,123+4]..[13,123+21])
                Immutable
                "buffer" (testsuite/tests/lib-threads/prodcons.ml[13,123+4]..[13,123+10])                core_type (testsuite/tests/lib-threads/prodcons.ml[13,123+12]..[13,123+20])
                  Ptyp_constr "array" (testsuite/tests/lib-threads/prodcons.ml[13,123+15]..[13,123+20])
                  [
                    core_type (testsuite/tests/lib-threads/prodcons.ml[13,123+12]..[13,123+14])
                      Ptyp_var a
                  ]
              (testsuite/tests/lib-threads/prodcons.ml[14,145+4]..[14,145+18])
                Immutable
                "lock" (testsuite/tests/lib-threads/prodcons.ml[14,145+4]..[14,145+8])                core_type (testsuite/tests/lib-threads/prodcons.ml[14,145+10]..[14,145+17])
                  Ptyp_constr "Mutex.t" (testsuite/tests/lib-threads/prodcons.ml[14,145+10]..[14,145+17])
                  []
              (testsuite/tests/lib-threads/prodcons.ml[15,164+4]..[15,164+25])
                Mutable
                "readpos" (testsuite/tests/lib-threads/prodcons.ml[15,164+12]..[15,164+19])                core_type (testsuite/tests/lib-threads/prodcons.ml[15,164+21]..[15,164+24])
                  Ptyp_constr "int" (testsuite/tests/lib-threads/prodcons.ml[15,164+21]..[15,164+24])
                  []
              (testsuite/tests/lib-threads/prodcons.ml[16,190+4]..[16,190+26])
                Mutable
                "writepos" (testsuite/tests/lib-threads/prodcons.ml[16,190+12]..[16,190+20])                core_type (testsuite/tests/lib-threads/prodcons.ml[16,190+22]..[16,190+25])
                  Ptyp_constr "int" (testsuite/tests/lib-threads/prodcons.ml[16,190+22]..[16,190+25])
                  []
              (testsuite/tests/lib-threads/prodcons.ml[17,217+4]..[17,217+26])
                Immutable
                "notempty" (testsuite/tests/lib-threads/prodcons.ml[17,217+4]..[17,217+12])                core_type (testsuite/tests/lib-threads/prodcons.ml[17,217+14]..[17,217+25])
                  Ptyp_constr "Condition.t" (testsuite/tests/lib-threads/prodcons.ml[17,217+14]..[17,217+25])
                  []
              (testsuite/tests/lib-threads/prodcons.ml[18,244+4]..[18,244+24])
                Immutable
                "notfull" (testsuite/tests/lib-threads/prodcons.ml[18,244+4]..[18,244+11])                core_type (testsuite/tests/lib-threads/prodcons.ml[18,244+13]..[18,244+24])
                  Ptyp_constr "Condition.t" (testsuite/tests/lib-threads/prodcons.ml[18,244+13]..[18,244+24])
                  []
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/lib-threads/prodcons.ml[20,272+0]..[26,427+34])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/lib-threads/prodcons.ml[20,272+4]..[20,272+10])
          Ppat_var "create" (testsuite/tests/lib-threads/prodcons.ml[20,272+4]..[20,272+10])
        expression (testsuite/tests/lib-threads/prodcons.ml[20,272+11]..[26,427+34]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/lib-threads/prodcons.ml[20,272+11]..[20,272+15])
            Ppat_var "size" (testsuite/tests/lib-threads/prodcons.ml[20,272+11]..[20,272+15])
          expression (testsuite/tests/lib-threads/prodcons.ml[20,272+16]..[26,427+34]) ghost
            Pexp_fun
            Nolabel
            None
            pattern (testsuite/tests/lib-threads/prodcons.ml[20,272+16]..[20,272+20])
              Ppat_var "init" (testsuite/tests/lib-threads/prodcons.ml[20,272+16]..[20,272+20])
            expression (testsuite/tests/lib-threads/prodcons.ml[21,295+2]..[26,427+34])
              Pexp_record
              [
                "buffer" (testsuite/tests/lib-threads/prodcons.ml[21,295+4]..[21,295+10])
                  expression (testsuite/tests/lib-threads/prodcons.ml[21,295+13]..[21,295+33])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[21,295+13]..[21,295+23])
                      Pexp_ident "Array.make" (testsuite/tests/lib-threads/prodcons.ml[21,295+13]..[21,295+23])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[21,295+24]..[21,295+28])
                          Pexp_ident "size" (testsuite/tests/lib-threads/prodcons.ml[21,295+24]..[21,295+28])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[21,295+29]..[21,295+33])
                          Pexp_ident "init" (testsuite/tests/lib-threads/prodcons.ml[21,295+29]..[21,295+33])
                    ]
                "lock" (testsuite/tests/lib-threads/prodcons.ml[22,330+4]..[22,330+8])
                  expression (testsuite/tests/lib-threads/prodcons.ml[22,330+11]..[22,330+25])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[22,330+11]..[22,330+23])
                      Pexp_ident "Mutex.create" (testsuite/tests/lib-threads/prodcons.ml[22,330+11]..[22,330+23])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[22,330+23]..[22,330+25])
                          Pexp_construct "()" (testsuite/tests/lib-threads/prodcons.ml[22,330+23]..[22,330+25])
                          None
                    ]
                "readpos" (testsuite/tests/lib-threads/prodcons.ml[23,357+4]..[23,357+11])
                  expression (testsuite/tests/lib-threads/prodcons.ml[23,357+14]..[23,357+15])
                    Pexp_constant PConst_int (0,None)
                "writepos" (testsuite/tests/lib-threads/prodcons.ml[24,374+4]..[24,374+12])
                  expression (testsuite/tests/lib-threads/prodcons.ml[24,374+15]..[24,374+16])
                    Pexp_constant PConst_int (0,None)
                "notempty" (testsuite/tests/lib-threads/prodcons.ml[25,392+4]..[25,392+12])
                  expression (testsuite/tests/lib-threads/prodcons.ml[25,392+15]..[25,392+33])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[25,392+15]..[25,392+31])
                      Pexp_ident "Condition.create" (testsuite/tests/lib-threads/prodcons.ml[25,392+15]..[25,392+31])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[25,392+31]..[25,392+33])
                          Pexp_construct "()" (testsuite/tests/lib-threads/prodcons.ml[25,392+31]..[25,392+33])
                          None
                    ]
                "notfull" (testsuite/tests/lib-threads/prodcons.ml[26,427+4]..[26,427+11])
                  expression (testsuite/tests/lib-threads/prodcons.ml[26,427+14]..[26,427+32])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[26,427+14]..[26,427+30])
                      Pexp_ident "Condition.create" (testsuite/tests/lib-threads/prodcons.ml[26,427+14]..[26,427+30])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[26,427+30]..[26,427+32])
                          Pexp_construct "()" (testsuite/tests/lib-threads/prodcons.ml[26,427+30]..[26,427+32])
                          None
                    ]
              ]
              None
    ]
  structure_item (testsuite/tests/lib-threads/prodcons.ml[28,463+0]..[36,735+21])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/lib-threads/prodcons.ml[28,463+4]..[28,463+7])
          Ppat_var "put" (testsuite/tests/lib-threads/prodcons.ml[28,463+4]..[28,463+7])
        expression (testsuite/tests/lib-threads/prodcons.ml[28,463+8]..[36,735+21]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/lib-threads/prodcons.ml[28,463+8]..[28,463+9])
            Ppat_var "p" (testsuite/tests/lib-threads/prodcons.ml[28,463+8]..[28,463+9])
          expression (testsuite/tests/lib-threads/prodcons.ml[28,463+10]..[36,735+21]) ghost
            Pexp_fun
            Nolabel
            None
            pattern (testsuite/tests/lib-threads/prodcons.ml[28,463+10]..[28,463+14])
              Ppat_var "data" (testsuite/tests/lib-threads/prodcons.ml[28,463+10]..[28,463+14])
            expression (testsuite/tests/lib-threads/prodcons.ml[29,480+2]..[36,735+21])
              Pexp_sequence
              expression (testsuite/tests/lib-threads/prodcons.ml[29,480+2]..[29,480+19])
                Pexp_apply
                expression (testsuite/tests/lib-threads/prodcons.ml[29,480+2]..[29,480+12])
                  Pexp_ident "Mutex.lock" (testsuite/tests/lib-threads/prodcons.ml[29,480+2]..[29,480+12])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/lib-threads/prodcons.ml[29,480+13]..[29,480+19])
                      Pexp_field
                      expression (testsuite/tests/lib-threads/prodcons.ml[29,480+13]..[29,480+14])
                        Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[29,480+13]..[29,480+14])
                      "lock" (testsuite/tests/lib-threads/prodcons.ml[29,480+15]..[29,480+19])
                ]
              expression (testsuite/tests/lib-threads/prodcons.ml[30,501+2]..[36,735+21])
                Pexp_sequence
                expression (testsuite/tests/lib-threads/prodcons.ml[30,501+2]..[32,603+6])
                  Pexp_while
                  expression (testsuite/tests/lib-threads/prodcons.ml[30,501+8]..[30,501+62])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[30,501+51]..[30,501+52])
                      Pexp_ident "=" (testsuite/tests/lib-threads/prodcons.ml[30,501+51]..[30,501+52])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[30,501+8]..[30,501+50])
                          Pexp_apply
                          expression (testsuite/tests/lib-threads/prodcons.ml[30,501+25]..[30,501+28])
                            Pexp_ident "mod" (testsuite/tests/lib-threads/prodcons.ml[30,501+25]..[30,501+28])
                          [
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons.ml[30,501+8]..[30,501+24])
                                Pexp_apply
                                expression (testsuite/tests/lib-threads/prodcons.ml[30,501+20]..[30,501+21])
                                  Pexp_ident "+" (testsuite/tests/lib-threads/prodcons.ml[30,501+20]..[30,501+21])
                                [
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/lib-threads/prodcons.ml[30,501+9]..[30,501+19])
                                      Pexp_field
                                      expression (testsuite/tests/lib-threads/prodcons.ml[30,501+9]..[30,501+10])
                                        Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[30,501+9]..[30,501+10])
                                      "writepos" (testsuite/tests/lib-threads/prodcons.ml[30,501+11]..[30,501+19])
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/lib-threads/prodcons.ml[30,501+22]..[30,501+23])
                                      Pexp_constant PConst_int (1,None)
                                ]
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons.ml[30,501+29]..[30,501+50])
                                Pexp_apply
                                expression (testsuite/tests/lib-threads/prodcons.ml[30,501+29]..[30,501+41])
                                  Pexp_ident "Array.length" (testsuite/tests/lib-threads/prodcons.ml[30,501+29]..[30,501+41])
                                [
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/lib-threads/prodcons.ml[30,501+42]..[30,501+50])
                                      Pexp_field
                                      expression (testsuite/tests/lib-threads/prodcons.ml[30,501+42]..[30,501+43])
                                        Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[30,501+42]..[30,501+43])
                                      "buffer" (testsuite/tests/lib-threads/prodcons.ml[30,501+44]..[30,501+50])
                                ]
                          ]
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[30,501+53]..[30,501+62])
                          Pexp_field
                          expression (testsuite/tests/lib-threads/prodcons.ml[30,501+53]..[30,501+54])
                            Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[30,501+53]..[30,501+54])
                          "readpos" (testsuite/tests/lib-threads/prodcons.ml[30,501+55]..[30,501+62])
                    ]
                  expression (testsuite/tests/lib-threads/prodcons.ml[31,567+4]..[31,567+35])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[31,567+4]..[31,567+18])
                      Pexp_ident "Condition.wait" (testsuite/tests/lib-threads/prodcons.ml[31,567+4]..[31,567+18])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[31,567+19]..[31,567+28])
                          Pexp_field
                          expression (testsuite/tests/lib-threads/prodcons.ml[31,567+19]..[31,567+20])
                            Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[31,567+19]..[31,567+20])
                          "notfull" (testsuite/tests/lib-threads/prodcons.ml[31,567+21]..[31,567+28])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[31,567+29]..[31,567+35])
                          Pexp_field
                          expression (testsuite/tests/lib-threads/prodcons.ml[31,567+29]..[31,567+30])
                            Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[31,567+29]..[31,567+30])
                          "lock" (testsuite/tests/lib-threads/prodcons.ml[31,567+31]..[31,567+35])
                    ]
                expression (testsuite/tests/lib-threads/prodcons.ml[33,611+2]..[36,735+21])
                  Pexp_sequence
                  expression (testsuite/tests/lib-threads/prodcons.ml[33,611+2]..[33,611+31])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[33,611+2]..[33,611+31]) ghost
                      Pexp_ident "Array.set" (testsuite/tests/lib-threads/prodcons.ml[33,611+2]..[33,611+31]) ghost
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[33,611+2]..[33,611+10])
                          Pexp_field
                          expression (testsuite/tests/lib-threads/prodcons.ml[33,611+2]..[33,611+3])
                            Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[33,611+2]..[33,611+3])
                          "buffer" (testsuite/tests/lib-threads/prodcons.ml[33,611+4]..[33,611+10])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[33,611+12]..[33,611+22])
                          Pexp_field
                          expression (testsuite/tests/lib-threads/prodcons.ml[33,611+12]..[33,611+13])
                            Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[33,611+12]..[33,611+13])
                          "writepos" (testsuite/tests/lib-threads/prodcons.ml[33,611+14]..[33,611+22])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[33,611+27]..[33,611+31])
                          Pexp_ident "data" (testsuite/tests/lib-threads/prodcons.ml[33,611+27]..[33,611+31])
                    ]
                  expression (testsuite/tests/lib-threads/prodcons.ml[34,644+2]..[36,735+21])
                    Pexp_sequence
                    expression (testsuite/tests/lib-threads/prodcons.ml[34,644+2]..[34,644+58])
                      Pexp_setfield
                      expression (testsuite/tests/lib-threads/prodcons.ml[34,644+2]..[34,644+3])
                        Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[34,644+2]..[34,644+3])
                      "writepos" (testsuite/tests/lib-threads/prodcons.ml[34,644+4]..[34,644+12])
                      expression (testsuite/tests/lib-threads/prodcons.ml[34,644+16]..[34,644+58])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons.ml[34,644+33]..[34,644+36])
                          Pexp_ident "mod" (testsuite/tests/lib-threads/prodcons.ml[34,644+33]..[34,644+36])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[34,644+16]..[34,644+32])
                              Pexp_apply
                              expression (testsuite/tests/lib-threads/prodcons.ml[34,644+28]..[34,644+29])
                                Pexp_ident "+" (testsuite/tests/lib-threads/prodcons.ml[34,644+28]..[34,644+29])
                              [
                                <arg>
                                Nolabel
                                  expression (testsuite/tests/lib-threads/prodcons.ml[34,644+17]..[34,644+27])
                                    Pexp_field
                                    expression (testsuite/tests/lib-threads/prodcons.ml[34,644+17]..[34,644+18])
                                      Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[34,644+17]..[34,644+18])
                                    "writepos" (testsuite/tests/lib-threads/prodcons.ml[34,644+19]..[34,644+27])
                                <arg>
                                Nolabel
                                  expression (testsuite/tests/lib-threads/prodcons.ml[34,644+30]..[34,644+31])
                                    Pexp_constant PConst_int (1,None)
                              ]
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[34,644+37]..[34,644+58])
                              Pexp_apply
                              expression (testsuite/tests/lib-threads/prodcons.ml[34,644+37]..[34,644+49])
                                Pexp_ident "Array.length" (testsuite/tests/lib-threads/prodcons.ml[34,644+37]..[34,644+49])
                              [
                                <arg>
                                Nolabel
                                  expression (testsuite/tests/lib-threads/prodcons.ml[34,644+50]..[34,644+58])
                                    Pexp_field
                                    expression (testsuite/tests/lib-threads/prodcons.ml[34,644+50]..[34,644+51])
                                      Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[34,644+50]..[34,644+51])
                                    "buffer" (testsuite/tests/lib-threads/prodcons.ml[34,644+52]..[34,644+58])
                              ]
                        ]
                    expression (testsuite/tests/lib-threads/prodcons.ml[35,704+2]..[36,735+21])
                      Pexp_sequence
                      expression (testsuite/tests/lib-threads/prodcons.ml[35,704+2]..[35,704+29])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons.ml[35,704+2]..[35,704+18])
                          Pexp_ident "Condition.signal" (testsuite/tests/lib-threads/prodcons.ml[35,704+2]..[35,704+18])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[35,704+19]..[35,704+29])
                              Pexp_field
                              expression (testsuite/tests/lib-threads/prodcons.ml[35,704+19]..[35,704+20])
                                Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[35,704+19]..[35,704+20])
                              "notempty" (testsuite/tests/lib-threads/prodcons.ml[35,704+21]..[35,704+29])
                        ]
                      expression (testsuite/tests/lib-threads/prodcons.ml[36,735+2]..[36,735+21])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons.ml[36,735+2]..[36,735+14])
                          Pexp_ident "Mutex.unlock" (testsuite/tests/lib-threads/prodcons.ml[36,735+2]..[36,735+14])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[36,735+15]..[36,735+21])
                              Pexp_field
                              expression (testsuite/tests/lib-threads/prodcons.ml[36,735+15]..[36,735+16])
                                Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[36,735+15]..[36,735+16])
                              "lock" (testsuite/tests/lib-threads/prodcons.ml[36,735+17]..[36,735+21])
                        ]
    ]
  structure_item (testsuite/tests/lib-threads/prodcons.ml[38,758+0]..[47,1018+6])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/lib-threads/prodcons.ml[38,758+4]..[38,758+7])
          Ppat_var "get" (testsuite/tests/lib-threads/prodcons.ml[38,758+4]..[38,758+7])
        expression (testsuite/tests/lib-threads/prodcons.ml[38,758+8]..[47,1018+6]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/lib-threads/prodcons.ml[38,758+8]..[38,758+9])
            Ppat_var "p" (testsuite/tests/lib-threads/prodcons.ml[38,758+8]..[38,758+9])
          expression (testsuite/tests/lib-threads/prodcons.ml[39,770+2]..[47,1018+6])
            Pexp_sequence
            expression (testsuite/tests/lib-threads/prodcons.ml[39,770+2]..[39,770+19])
              Pexp_apply
              expression (testsuite/tests/lib-threads/prodcons.ml[39,770+2]..[39,770+12])
                Pexp_ident "Mutex.lock" (testsuite/tests/lib-threads/prodcons.ml[39,770+2]..[39,770+12])
              [
                <arg>
                Nolabel
                  expression (testsuite/tests/lib-threads/prodcons.ml[39,770+13]..[39,770+19])
                    Pexp_field
                    expression (testsuite/tests/lib-threads/prodcons.ml[39,770+13]..[39,770+14])
                      Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[39,770+13]..[39,770+14])
                    "lock" (testsuite/tests/lib-threads/prodcons.ml[39,770+15]..[39,770+19])
              ]
            expression (testsuite/tests/lib-threads/prodcons.ml[40,791+2]..[47,1018+6])
              Pexp_sequence
              expression (testsuite/tests/lib-threads/prodcons.ml[40,791+2]..[42,862+6])
                Pexp_while
                expression (testsuite/tests/lib-threads/prodcons.ml[40,791+8]..[40,791+30])
                  Pexp_apply
                  expression (testsuite/tests/lib-threads/prodcons.ml[40,791+19]..[40,791+20])
                    Pexp_ident "=" (testsuite/tests/lib-threads/prodcons.ml[40,791+19]..[40,791+20])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons.ml[40,791+8]..[40,791+18])
                        Pexp_field
                        expression (testsuite/tests/lib-threads/prodcons.ml[40,791+8]..[40,791+9])
                          Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[40,791+8]..[40,791+9])
                        "writepos" (testsuite/tests/lib-threads/prodcons.ml[40,791+10]..[40,791+18])
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons.ml[40,791+21]..[40,791+30])
                        Pexp_field
                        expression (testsuite/tests/lib-threads/prodcons.ml[40,791+21]..[40,791+22])
                          Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[40,791+21]..[40,791+22])
                        "readpos" (testsuite/tests/lib-threads/prodcons.ml[40,791+23]..[40,791+30])
                  ]
                expression (testsuite/tests/lib-threads/prodcons.ml[41,825+4]..[41,825+36])
                  Pexp_apply
                  expression (testsuite/tests/lib-threads/prodcons.ml[41,825+4]..[41,825+18])
                    Pexp_ident "Condition.wait" (testsuite/tests/lib-threads/prodcons.ml[41,825+4]..[41,825+18])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons.ml[41,825+19]..[41,825+29])
                        Pexp_field
                        expression (testsuite/tests/lib-threads/prodcons.ml[41,825+19]..[41,825+20])
                          Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[41,825+19]..[41,825+20])
                        "notempty" (testsuite/tests/lib-threads/prodcons.ml[41,825+21]..[41,825+29])
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons.ml[41,825+30]..[41,825+36])
                        Pexp_field
                        expression (testsuite/tests/lib-threads/prodcons.ml[41,825+30]..[41,825+31])
                          Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[41,825+30]..[41,825+31])
                        "lock" (testsuite/tests/lib-threads/prodcons.ml[41,825+32]..[41,825+36])
                  ]
              expression (testsuite/tests/lib-threads/prodcons.ml[43,870+2]..[47,1018+6])
                Pexp_let Nonrec
                [
                  <def>
                    pattern (testsuite/tests/lib-threads/prodcons.ml[43,870+6]..[43,870+10])
                      Ppat_var "data" (testsuite/tests/lib-threads/prodcons.ml[43,870+6]..[43,870+10])
                    expression (testsuite/tests/lib-threads/prodcons.ml[43,870+13]..[43,870+33])
                      Pexp_apply
                      expression (testsuite/tests/lib-threads/prodcons.ml[43,870+13]..[43,870+33]) ghost
                        Pexp_ident "Array.get" (testsuite/tests/lib-threads/prodcons.ml[43,870+13]..[43,870+33]) ghost
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons.ml[43,870+13]..[43,870+21])
                            Pexp_field
                            expression (testsuite/tests/lib-threads/prodcons.ml[43,870+13]..[43,870+14])
                              Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[43,870+13]..[43,870+14])
                            "buffer" (testsuite/tests/lib-threads/prodcons.ml[43,870+15]..[43,870+21])
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons.ml[43,870+23]..[43,870+32])
                            Pexp_field
                            expression (testsuite/tests/lib-threads/prodcons.ml[43,870+23]..[43,870+24])
                              Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[43,870+23]..[43,870+24])
                            "readpos" (testsuite/tests/lib-threads/prodcons.ml[43,870+25]..[43,870+32])
                      ]
                ]
                expression (testsuite/tests/lib-threads/prodcons.ml[44,907+2]..[47,1018+6])
                  Pexp_sequence
                  expression (testsuite/tests/lib-threads/prodcons.ml[44,907+2]..[44,907+56])
                    Pexp_setfield
                    expression (testsuite/tests/lib-threads/prodcons.ml[44,907+2]..[44,907+3])
                      Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[44,907+2]..[44,907+3])
                    "readpos" (testsuite/tests/lib-threads/prodcons.ml[44,907+4]..[44,907+11])
                    expression (testsuite/tests/lib-threads/prodcons.ml[44,907+15]..[44,907+56])
                      Pexp_apply
                      expression (testsuite/tests/lib-threads/prodcons.ml[44,907+31]..[44,907+34])
                        Pexp_ident "mod" (testsuite/tests/lib-threads/prodcons.ml[44,907+31]..[44,907+34])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons.ml[44,907+15]..[44,907+30])
                            Pexp_apply
                            expression (testsuite/tests/lib-threads/prodcons.ml[44,907+26]..[44,907+27])
                              Pexp_ident "+" (testsuite/tests/lib-threads/prodcons.ml[44,907+26]..[44,907+27])
                            [
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[44,907+16]..[44,907+25])
                                  Pexp_field
                                  expression (testsuite/tests/lib-threads/prodcons.ml[44,907+16]..[44,907+17])
                                    Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[44,907+16]..[44,907+17])
                                  "readpos" (testsuite/tests/lib-threads/prodcons.ml[44,907+18]..[44,907+25])
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[44,907+28]..[44,907+29])
                                  Pexp_constant PConst_int (1,None)
                            ]
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons.ml[44,907+35]..[44,907+56])
                            Pexp_apply
                            expression (testsuite/tests/lib-threads/prodcons.ml[44,907+35]..[44,907+47])
                              Pexp_ident "Array.length" (testsuite/tests/lib-threads/prodcons.ml[44,907+35]..[44,907+47])
                            [
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[44,907+48]..[44,907+56])
                                  Pexp_field
                                  expression (testsuite/tests/lib-threads/prodcons.ml[44,907+48]..[44,907+49])
                                    Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[44,907+48]..[44,907+49])
                                  "buffer" (testsuite/tests/lib-threads/prodcons.ml[44,907+50]..[44,907+56])
                            ]
                      ]
                  expression (testsuite/tests/lib-threads/prodcons.ml[45,965+2]..[47,1018+6])
                    Pexp_sequence
                    expression (testsuite/tests/lib-threads/prodcons.ml[45,965+2]..[45,965+28])
                      Pexp_apply
                      expression (testsuite/tests/lib-threads/prodcons.ml[45,965+2]..[45,965+18])
                        Pexp_ident "Condition.signal" (testsuite/tests/lib-threads/prodcons.ml[45,965+2]..[45,965+18])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons.ml[45,965+19]..[45,965+28])
                            Pexp_field
                            expression (testsuite/tests/lib-threads/prodcons.ml[45,965+19]..[45,965+20])
                              Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[45,965+19]..[45,965+20])
                            "notfull" (testsuite/tests/lib-threads/prodcons.ml[45,965+21]..[45,965+28])
                      ]
                    expression (testsuite/tests/lib-threads/prodcons.ml[46,995+2]..[47,1018+6])
                      Pexp_sequence
                      expression (testsuite/tests/lib-threads/prodcons.ml[46,995+2]..[46,995+21])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons.ml[46,995+2]..[46,995+14])
                          Pexp_ident "Mutex.unlock" (testsuite/tests/lib-threads/prodcons.ml[46,995+2]..[46,995+14])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[46,995+15]..[46,995+21])
                              Pexp_field
                              expression (testsuite/tests/lib-threads/prodcons.ml[46,995+15]..[46,995+16])
                                Pexp_ident "p" (testsuite/tests/lib-threads/prodcons.ml[46,995+15]..[46,995+16])
                              "lock" (testsuite/tests/lib-threads/prodcons.ml[46,995+17]..[46,995+21])
                        ]
                      expression (testsuite/tests/lib-threads/prodcons.ml[47,1018+2]..[47,1018+6])
                        Pexp_ident "data" (testsuite/tests/lib-threads/prodcons.ml[47,1018+2]..[47,1018+6])
    ]
  structure_item (testsuite/tests/lib-threads/prodcons.ml[51,1038+0]..[53,1081+40])
    Pstr_value Rec
    [
      <def>
        pattern (testsuite/tests/lib-threads/prodcons.ml[51,1038+8]..[51,1038+15])
          Ppat_var "produce" (testsuite/tests/lib-threads/prodcons.ml[51,1038+8]..[51,1038+15])
        expression (testsuite/tests/lib-threads/prodcons.ml[51,1038+16]..[53,1081+40]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/lib-threads/prodcons.ml[51,1038+16]..[51,1038+20])
            Ppat_var "buff" (testsuite/tests/lib-threads/prodcons.ml[51,1038+16]..[51,1038+20])
          expression (testsuite/tests/lib-threads/prodcons.ml[51,1038+21]..[53,1081+40]) ghost
            Pexp_fun
            Nolabel
            None
            pattern (testsuite/tests/lib-threads/prodcons.ml[51,1038+21]..[51,1038+22])
              Ppat_var "n" (testsuite/tests/lib-threads/prodcons.ml[51,1038+21]..[51,1038+22])
            expression (testsuite/tests/lib-threads/prodcons.ml[51,1038+23]..[53,1081+40]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/lib-threads/prodcons.ml[51,1038+23]..[51,1038+26])
                Ppat_var "max" (testsuite/tests/lib-threads/prodcons.ml[51,1038+23]..[51,1038+26])
              expression (testsuite/tests/lib-threads/prodcons.ml[52,1067+2]..[53,1081+40])
                Pexp_sequence
                expression (testsuite/tests/lib-threads/prodcons.ml[52,1067+2]..[52,1067+12])
                  Pexp_apply
                  expression (testsuite/tests/lib-threads/prodcons.ml[52,1067+2]..[52,1067+5])
                    Pexp_ident "put" (testsuite/tests/lib-threads/prodcons.ml[52,1067+2]..[52,1067+5])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons.ml[52,1067+6]..[52,1067+10])
                        Pexp_ident "buff" (testsuite/tests/lib-threads/prodcons.ml[52,1067+6]..[52,1067+10])
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons.ml[52,1067+11]..[52,1067+12])
                        Pexp_ident "n" (testsuite/tests/lib-threads/prodcons.ml[52,1067+11]..[52,1067+12])
                  ]
                expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+2]..[53,1081+40])
                  Pexp_ifthenelse
                  expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+5]..[53,1081+12])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+7]..[53,1081+8])
                      Pexp_ident "<" (testsuite/tests/lib-threads/prodcons.ml[53,1081+7]..[53,1081+8])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+5]..[53,1081+6])
                          Pexp_ident "n" (testsuite/tests/lib-threads/prodcons.ml[53,1081+5]..[53,1081+6])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+9]..[53,1081+12])
                          Pexp_ident "max" (testsuite/tests/lib-threads/prodcons.ml[53,1081+9]..[53,1081+12])
                    ]
                  expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+18]..[53,1081+40])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+18]..[53,1081+25])
                      Pexp_ident "produce" (testsuite/tests/lib-threads/prodcons.ml[53,1081+18]..[53,1081+25])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+26]..[53,1081+30])
                          Pexp_ident "buff" (testsuite/tests/lib-threads/prodcons.ml[53,1081+26]..[53,1081+30])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+31]..[53,1081+36])
                          Pexp_apply
                          expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+33]..[53,1081+34])
                            Pexp_ident "+" (testsuite/tests/lib-threads/prodcons.ml[53,1081+33]..[53,1081+34])
                          [
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+32]..[53,1081+33])
                                Pexp_ident "n" (testsuite/tests/lib-threads/prodcons.ml[53,1081+32]..[53,1081+33])
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+34]..[53,1081+35])
                                Pexp_constant PConst_int (1,None)
                          ]
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[53,1081+37]..[53,1081+40])
                          Pexp_ident "max" (testsuite/tests/lib-threads/prodcons.ml[53,1081+37]..[53,1081+40])
                    ]
                  None
    ]
  structure_item (testsuite/tests/lib-threads/prodcons.ml[55,1123+0]..[59,1229+33])
    Pstr_value Rec
    [
      <def>
        pattern (testsuite/tests/lib-threads/prodcons.ml[55,1123+8]..[55,1123+15])
          Ppat_var "consume" (testsuite/tests/lib-threads/prodcons.ml[55,1123+8]..[55,1123+15])
        expression (testsuite/tests/lib-threads/prodcons.ml[55,1123+16]..[59,1229+33]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/lib-threads/prodcons.ml[55,1123+16]..[55,1123+20])
            Ppat_var "buff" (testsuite/tests/lib-threads/prodcons.ml[55,1123+16]..[55,1123+20])
          expression (testsuite/tests/lib-threads/prodcons.ml[55,1123+21]..[59,1229+33]) ghost
            Pexp_fun
            Nolabel
            None
            pattern (testsuite/tests/lib-threads/prodcons.ml[55,1123+21]..[55,1123+24])
              Ppat_var "cur" (testsuite/tests/lib-threads/prodcons.ml[55,1123+21]..[55,1123+24])
            expression (testsuite/tests/lib-threads/prodcons.ml[55,1123+25]..[59,1229+33]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/lib-threads/prodcons.ml[55,1123+25]..[55,1123+28])
                Ppat_var "max" (testsuite/tests/lib-threads/prodcons.ml[55,1123+25]..[55,1123+28])
              expression (testsuite/tests/lib-threads/prodcons.ml[56,1154+2]..[59,1229+33])
                Pexp_let Nonrec
                [
                  <def>
                    pattern (testsuite/tests/lib-threads/prodcons.ml[56,1154+6]..[56,1154+7])
                      Ppat_var "n" (testsuite/tests/lib-threads/prodcons.ml[56,1154+6]..[56,1154+7])
                    expression (testsuite/tests/lib-threads/prodcons.ml[56,1154+10]..[56,1154+18])
                      Pexp_apply
                      expression (testsuite/tests/lib-threads/prodcons.ml[56,1154+10]..[56,1154+13])
                        Pexp_ident "get" (testsuite/tests/lib-threads/prodcons.ml[56,1154+10]..[56,1154+13])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons.ml[56,1154+14]..[56,1154+18])
                            Pexp_ident "buff" (testsuite/tests/lib-threads/prodcons.ml[56,1154+14]..[56,1154+18])
                      ]
                ]
                expression (testsuite/tests/lib-threads/prodcons.ml[57,1176+2]..[59,1229+33])
                  Pexp_ifthenelse
                  expression (testsuite/tests/lib-threads/prodcons.ml[57,1176+5]..[57,1176+13])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[57,1176+7]..[57,1176+9])
                      Pexp_ident "<>" (testsuite/tests/lib-threads/prodcons.ml[57,1176+7]..[57,1176+9])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[57,1176+5]..[57,1176+6])
                          Pexp_ident "n" (testsuite/tests/lib-threads/prodcons.ml[57,1176+5]..[57,1176+6])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[57,1176+10]..[57,1176+13])
                          Pexp_ident "cur" (testsuite/tests/lib-threads/prodcons.ml[57,1176+10]..[57,1176+13])
                    ]
                  expression (testsuite/tests/lib-threads/prodcons.ml[57,1176+19]..[57,1176+24])
                    Pexp_construct "false" (testsuite/tests/lib-threads/prodcons.ml[57,1176+19]..[57,1176+24])
                    None
                  Some
                    expression (testsuite/tests/lib-threads/prodcons.ml[58,1201+7]..[59,1229+33])
                      Pexp_ifthenelse
                      expression (testsuite/tests/lib-threads/prodcons.ml[58,1201+10]..[58,1201+17])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons.ml[58,1201+12]..[58,1201+13])
                          Pexp_ident "=" (testsuite/tests/lib-threads/prodcons.ml[58,1201+12]..[58,1201+13])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[58,1201+10]..[58,1201+11])
                              Pexp_ident "n" (testsuite/tests/lib-threads/prodcons.ml[58,1201+10]..[58,1201+11])
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[58,1201+14]..[58,1201+17])
                              Pexp_ident "max" (testsuite/tests/lib-threads/prodcons.ml[58,1201+14]..[58,1201+17])
                        ]
                      expression (testsuite/tests/lib-threads/prodcons.ml[58,1201+23]..[58,1201+27])
                        Pexp_construct "true" (testsuite/tests/lib-threads/prodcons.ml[58,1201+23]..[58,1201+27])
                        None
                      Some
                        expression (testsuite/tests/lib-threads/prodcons.ml[59,1229+7]..[59,1229+33])
                          Pexp_apply
                          expression (testsuite/tests/lib-threads/prodcons.ml[59,1229+7]..[59,1229+14])
                            Pexp_ident "consume" (testsuite/tests/lib-threads/prodcons.ml[59,1229+7]..[59,1229+14])
                          [
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons.ml[59,1229+15]..[59,1229+19])
                                Pexp_ident "buff" (testsuite/tests/lib-threads/prodcons.ml[59,1229+15]..[59,1229+19])
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons.ml[59,1229+20]..[59,1229+29])
                                Pexp_apply
                                expression (testsuite/tests/lib-threads/prodcons.ml[59,1229+25]..[59,1229+26])
                                  Pexp_ident "+" (testsuite/tests/lib-threads/prodcons.ml[59,1229+25]..[59,1229+26])
                                [
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/lib-threads/prodcons.ml[59,1229+21]..[59,1229+24])
                                      Pexp_ident "cur" (testsuite/tests/lib-threads/prodcons.ml[59,1229+21]..[59,1229+24])
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/lib-threads/prodcons.ml[59,1229+27]..[59,1229+28])
                                      Pexp_constant PConst_int (1,None)
                                ]
                            <arg>
                            Nolabel
                              expression (testsuite/tests/lib-threads/prodcons.ml[59,1229+30]..[59,1229+33])
                                Pexp_ident "max" (testsuite/tests/lib-threads/prodcons.ml[59,1229+30]..[59,1229+33])
                          ]
    ]
  structure_item (testsuite/tests/lib-threads/prodcons.ml[61,1264+0]..[71,1665+30])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/lib-threads/prodcons.ml[61,1264+4]..[61,1264+5])
          Ppat_any
        expression (testsuite/tests/lib-threads/prodcons.ml[62,1272+2]..[71,1665+30])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/lib-threads/prodcons.ml[62,1272+6]..[62,1272+11])
                Ppat_var "buff1" (testsuite/tests/lib-threads/prodcons.ml[62,1272+6]..[62,1272+11])
              expression (testsuite/tests/lib-threads/prodcons.ml[62,1272+14]..[62,1272+25])
                Pexp_apply
                expression (testsuite/tests/lib-threads/prodcons.ml[62,1272+14]..[62,1272+20])
                  Pexp_ident "create" (testsuite/tests/lib-threads/prodcons.ml[62,1272+14]..[62,1272+20])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/lib-threads/prodcons.ml[62,1272+21]..[62,1272+23])
                      Pexp_constant PConst_int (20,None)
                  <arg>
                  Nolabel
                    expression (testsuite/tests/lib-threads/prodcons.ml[62,1272+24]..[62,1272+25])
                      Pexp_constant PConst_int (0,None)
                ]
            <def>
              pattern (testsuite/tests/lib-threads/prodcons.ml[62,1272+30]..[62,1272+35])
                Ppat_var "buff2" (testsuite/tests/lib-threads/prodcons.ml[62,1272+30]..[62,1272+35])
              expression (testsuite/tests/lib-threads/prodcons.ml[62,1272+38]..[62,1272+49])
                Pexp_apply
                expression (testsuite/tests/lib-threads/prodcons.ml[62,1272+38]..[62,1272+44])
                  Pexp_ident "create" (testsuite/tests/lib-threads/prodcons.ml[62,1272+38]..[62,1272+44])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/lib-threads/prodcons.ml[62,1272+45]..[62,1272+47])
                      Pexp_constant PConst_int (30,None)
                  <arg>
                  Nolabel
                    expression (testsuite/tests/lib-threads/prodcons.ml[62,1272+48]..[62,1272+49])
                      Pexp_constant PConst_int (0,None)
                ]
          ]
          expression (testsuite/tests/lib-threads/prodcons.ml[63,1325+2]..[71,1665+30])
            Pexp_let Nonrec
            [
              <def>
                pattern (testsuite/tests/lib-threads/prodcons.ml[63,1325+6]..[63,1325+9])
                  Ppat_var "ok1" (testsuite/tests/lib-threads/prodcons.ml[63,1325+6]..[63,1325+9])
                expression (testsuite/tests/lib-threads/prodcons.ml[63,1325+12]..[63,1325+21])
                  Pexp_apply
                  expression (testsuite/tests/lib-threads/prodcons.ml[63,1325+12]..[63,1325+15])
                    Pexp_ident "ref" (testsuite/tests/lib-threads/prodcons.ml[63,1325+12]..[63,1325+15])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons.ml[63,1325+16]..[63,1325+21])
                        Pexp_construct "false" (testsuite/tests/lib-threads/prodcons.ml[63,1325+16]..[63,1325+21])
                        None
                  ]
              <def>
                pattern (testsuite/tests/lib-threads/prodcons.ml[63,1325+26]..[63,1325+29])
                  Ppat_var "ok2" (testsuite/tests/lib-threads/prodcons.ml[63,1325+26]..[63,1325+29])
                expression (testsuite/tests/lib-threads/prodcons.ml[63,1325+32]..[63,1325+41])
                  Pexp_apply
                  expression (testsuite/tests/lib-threads/prodcons.ml[63,1325+32]..[63,1325+35])
                    Pexp_ident "ref" (testsuite/tests/lib-threads/prodcons.ml[63,1325+32]..[63,1325+35])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons.ml[63,1325+36]..[63,1325+41])
                        Pexp_construct "false" (testsuite/tests/lib-threads/prodcons.ml[63,1325+36]..[63,1325+41])
                        None
                  ]
            ]
            expression (testsuite/tests/lib-threads/prodcons.ml[64,1370+2]..[71,1665+30])
              Pexp_let Nonrec
              [
                <def>
                  pattern (testsuite/tests/lib-threads/prodcons.ml[64,1370+6]..[64,1370+9])
                    Ppat_var "_p1" (testsuite/tests/lib-threads/prodcons.ml[64,1370+6]..[64,1370+9])
                  expression (testsuite/tests/lib-threads/prodcons.ml[64,1370+12]..[64,1370+62])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[64,1370+12]..[64,1370+25])
                      Pexp_ident "Thread.create" (testsuite/tests/lib-threads/prodcons.ml[64,1370+12]..[64,1370+25])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[64,1370+26]..[64,1370+59])
                          Pexp_fun
                          Nolabel
                          None
                          pattern (testsuite/tests/lib-threads/prodcons.ml[64,1370+31]..[64,1370+33])
                            Ppat_construct "()" (testsuite/tests/lib-threads/prodcons.ml[64,1370+31]..[64,1370+33])
                            None
                          expression (testsuite/tests/lib-threads/prodcons.ml[64,1370+37]..[64,1370+58])
                            Pexp_apply
                            expression (testsuite/tests/lib-threads/prodcons.ml[64,1370+37]..[64,1370+44])
                              Pexp_ident "produce" (testsuite/tests/lib-threads/prodcons.ml[64,1370+37]..[64,1370+44])
                            [
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[64,1370+45]..[64,1370+50])
                                  Pexp_ident "buff1" (testsuite/tests/lib-threads/prodcons.ml[64,1370+45]..[64,1370+50])
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[64,1370+51]..[64,1370+52])
                                  Pexp_constant PConst_int (0,None)
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[64,1370+53]..[64,1370+58])
                                  Pexp_constant PConst_int (10000,None)
                            ]
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[64,1370+60]..[64,1370+62])
                          Pexp_construct "()" (testsuite/tests/lib-threads/prodcons.ml[64,1370+60]..[64,1370+62])
                          None
                    ]
                <def>
                  pattern (testsuite/tests/lib-threads/prodcons.ml[65,1433+6]..[65,1433+9])
                    Ppat_var "_p2" (testsuite/tests/lib-threads/prodcons.ml[65,1433+6]..[65,1433+9])
                  expression (testsuite/tests/lib-threads/prodcons.ml[65,1433+12]..[65,1433+61])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[65,1433+12]..[65,1433+25])
                      Pexp_ident "Thread.create" (testsuite/tests/lib-threads/prodcons.ml[65,1433+12]..[65,1433+25])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[65,1433+26]..[65,1433+58])
                          Pexp_fun
                          Nolabel
                          None
                          pattern (testsuite/tests/lib-threads/prodcons.ml[65,1433+31]..[65,1433+33])
                            Ppat_construct "()" (testsuite/tests/lib-threads/prodcons.ml[65,1433+31]..[65,1433+33])
                            None
                          expression (testsuite/tests/lib-threads/prodcons.ml[65,1433+37]..[65,1433+57])
                            Pexp_apply
                            expression (testsuite/tests/lib-threads/prodcons.ml[65,1433+37]..[65,1433+44])
                              Pexp_ident "produce" (testsuite/tests/lib-threads/prodcons.ml[65,1433+37]..[65,1433+44])
                            [
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[65,1433+45]..[65,1433+50])
                                  Pexp_ident "buff2" (testsuite/tests/lib-threads/prodcons.ml[65,1433+45]..[65,1433+50])
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[65,1433+51]..[65,1433+52])
                                  Pexp_constant PConst_int (0,None)
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[65,1433+53]..[65,1433+57])
                                  Pexp_constant PConst_int (8000,None)
                            ]
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[65,1433+59]..[65,1433+61])
                          Pexp_construct "()" (testsuite/tests/lib-threads/prodcons.ml[65,1433+59]..[65,1433+61])
                          None
                    ]
                <def>
                  pattern (testsuite/tests/lib-threads/prodcons.ml[66,1495+6]..[66,1495+8])
                    Ppat_var "c1" (testsuite/tests/lib-threads/prodcons.ml[66,1495+6]..[66,1495+8])
                  expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+11]..[66,1495+68])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+11]..[66,1495+24])
                      Pexp_ident "Thread.create" (testsuite/tests/lib-threads/prodcons.ml[66,1495+11]..[66,1495+24])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+25]..[66,1495+65])
                          Pexp_fun
                          Nolabel
                          None
                          pattern (testsuite/tests/lib-threads/prodcons.ml[66,1495+30]..[66,1495+32])
                            Ppat_construct "()" (testsuite/tests/lib-threads/prodcons.ml[66,1495+30]..[66,1495+32])
                            None
                          expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+36]..[66,1495+64])
                            Pexp_apply
                            expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+40]..[66,1495+42])
                              Pexp_ident ":=" (testsuite/tests/lib-threads/prodcons.ml[66,1495+40]..[66,1495+42])
                            [
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+36]..[66,1495+39])
                                  Pexp_ident "ok1" (testsuite/tests/lib-threads/prodcons.ml[66,1495+36]..[66,1495+39])
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+43]..[66,1495+64])
                                  Pexp_apply
                                  expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+43]..[66,1495+50])
                                    Pexp_ident "consume" (testsuite/tests/lib-threads/prodcons.ml[66,1495+43]..[66,1495+50])
                                  [
                                    <arg>
                                    Nolabel
                                      expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+51]..[66,1495+56])
                                        Pexp_ident "buff1" (testsuite/tests/lib-threads/prodcons.ml[66,1495+51]..[66,1495+56])
                                    <arg>
                                    Nolabel
                                      expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+57]..[66,1495+58])
                                        Pexp_constant PConst_int (0,None)
                                    <arg>
                                    Nolabel
                                      expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+59]..[66,1495+64])
                                        Pexp_constant PConst_int (10000,None)
                                  ]
                            ]
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[66,1495+66]..[66,1495+68])
                          Pexp_construct "()" (testsuite/tests/lib-threads/prodcons.ml[66,1495+66]..[66,1495+68])
                          None
                    ]
              ]
              expression (testsuite/tests/lib-threads/prodcons.ml[67,1567+2]..[71,1665+30])
                Pexp_sequence
                expression (testsuite/tests/lib-threads/prodcons.ml[67,1567+2]..[67,1567+29])
                  Pexp_apply
                  expression (testsuite/tests/lib-threads/prodcons.ml[67,1567+6]..[67,1567+8])
                    Pexp_ident ":=" (testsuite/tests/lib-threads/prodcons.ml[67,1567+6]..[67,1567+8])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons.ml[67,1567+2]..[67,1567+5])
                        Pexp_ident "ok2" (testsuite/tests/lib-threads/prodcons.ml[67,1567+2]..[67,1567+5])
                    <arg>
                    Nolabel
                      expression (testsuite/tests/lib-threads/prodcons.ml[67,1567+9]..[67,1567+29])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons.ml[67,1567+9]..[67,1567+16])
                          Pexp_ident "consume" (testsuite/tests/lib-threads/prodcons.ml[67,1567+9]..[67,1567+16])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[67,1567+17]..[67,1567+22])
                              Pexp_ident "buff2" (testsuite/tests/lib-threads/prodcons.ml[67,1567+17]..[67,1567+22])
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[67,1567+23]..[67,1567+24])
                              Pexp_constant PConst_int (0,None)
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[67,1567+25]..[67,1567+29])
                              Pexp_constant PConst_int (8000,None)
                        ]
                  ]
                expression (testsuite/tests/lib-threads/prodcons.ml[68,1598+2]..[71,1665+30])
                  Pexp_sequence
                  expression (testsuite/tests/lib-threads/prodcons.ml[68,1598+2]..[68,1598+16])
                    Pexp_apply
                    expression (testsuite/tests/lib-threads/prodcons.ml[68,1598+2]..[68,1598+13])
                      Pexp_ident "Thread.join" (testsuite/tests/lib-threads/prodcons.ml[68,1598+2]..[68,1598+13])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/lib-threads/prodcons.ml[68,1598+14]..[68,1598+16])
                          Pexp_ident "c1" (testsuite/tests/lib-threads/prodcons.ml[68,1598+14]..[68,1598+16])
                    ]
                  expression (testsuite/tests/lib-threads/prodcons.ml[69,1616+2]..[71,1665+30])
                    Pexp_ifthenelse
                    expression (testsuite/tests/lib-threads/prodcons.ml[69,1616+5]..[69,1616+17])
                      Pexp_apply
                      expression (testsuite/tests/lib-threads/prodcons.ml[69,1616+10]..[69,1616+12])
                        Pexp_ident "&&" (testsuite/tests/lib-threads/prodcons.ml[69,1616+10]..[69,1616+12])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons.ml[69,1616+5]..[69,1616+9])
                            Pexp_apply
                            expression (testsuite/tests/lib-threads/prodcons.ml[69,1616+5]..[69,1616+6])
                              Pexp_ident "!" (testsuite/tests/lib-threads/prodcons.ml[69,1616+5]..[69,1616+6])
                            [
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[69,1616+6]..[69,1616+9])
                                  Pexp_ident "ok1" (testsuite/tests/lib-threads/prodcons.ml[69,1616+6]..[69,1616+9])
                            ]
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons.ml[69,1616+13]..[69,1616+17])
                            Pexp_apply
                            expression (testsuite/tests/lib-threads/prodcons.ml[69,1616+13]..[69,1616+14])
                              Pexp_ident "!" (testsuite/tests/lib-threads/prodcons.ml[69,1616+13]..[69,1616+14])
                            [
                              <arg>
                              Nolabel
                                expression (testsuite/tests/lib-threads/prodcons.ml[69,1616+14]..[69,1616+17])
                                  Pexp_ident "ok2" (testsuite/tests/lib-threads/prodcons.ml[69,1616+14]..[69,1616+17])
                            ]
                      ]
                    expression (testsuite/tests/lib-threads/prodcons.ml[70,1634+7]..[70,1634+30])
                      Pexp_apply
                      expression (testsuite/tests/lib-threads/prodcons.ml[70,1634+7]..[70,1634+19])
                        Pexp_ident "print_string" (testsuite/tests/lib-threads/prodcons.ml[70,1634+7]..[70,1634+19])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/lib-threads/prodcons.ml[70,1634+20]..[70,1634+30])
                            Pexp_constant PConst_string("passed\n",(testsuite/tests/lib-threads/prodcons.ml[70,1634+21]..[70,1634+29]),None)
                      ]
                    Some
                      expression (testsuite/tests/lib-threads/prodcons.ml[71,1665+7]..[71,1665+30])
                        Pexp_apply
                        expression (testsuite/tests/lib-threads/prodcons.ml[71,1665+7]..[71,1665+19])
                          Pexp_ident "print_string" (testsuite/tests/lib-threads/prodcons.ml[71,1665+7]..[71,1665+19])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/lib-threads/prodcons.ml[71,1665+20]..[71,1665+30])
                              Pexp_constant PConst_string("FAILED\n",(testsuite/tests/lib-threads/prodcons.ml[71,1665+21]..[71,1665+29]),None)
                        ]
    ]
]

