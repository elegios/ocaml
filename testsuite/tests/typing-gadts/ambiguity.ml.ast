[
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[5,24+0]..[5,24+23])
    Pstr_attribute "warning"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[5,24+12]..[5,24+22])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[5,24+12]..[5,24+22])
          Pexp_constant PConst_string("-8-11-12",(testsuite/tests/typing-gadts/ambiguity.ml[5,24+13]..[5,24+21]),None)
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[7,73+0]..[7,73+37])
    Pstr_type Rec
    [
      type_declaration "eq" (testsuite/tests/typing-gadts/ambiguity.ml[7,73+14]..[7,73+16]) (testsuite/tests/typing-gadts/ambiguity.ml[7,73+0]..[7,73+37])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/ambiguity.ml[7,73+6]..[7,73+8])
              Ptyp_var a
            core_type (testsuite/tests/typing-gadts/ambiguity.ml[7,73+10]..[7,73+12])
              Ptyp_var b
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/ambiguity.ml[7,73+19]..[7,73+37])
                "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[7,73+19]..[7,73+23])
                []
                Some
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[7,73+26]..[7,73+37])
                    Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[7,73+35]..[7,73+37])
                    [
                      core_type (testsuite/tests/typing-gadts/ambiguity.ml[7,73+27]..[7,73+29])
                        Ptyp_var a
                      core_type (testsuite/tests/typing-gadts/ambiguity.ml[7,73+31]..[7,73+33])
                        Ptyp_var a
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[8,113+0]..[10,163+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[8,113+9]..[10,163+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[8,113+9]..[10,163+2])
          Pexp_constant PConst_string ("\ntype ('a, 'b) eq = Refl : ('a, 'a) eq\n",(testsuite/tests/typing-gadts/ambiguity.ml[8,113+11]..[10,163+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[12,170+0]..[15,287+10])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[12,170+4]..[12,170+10])
          Ppat_var "ret_e1" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+4]..[12,170+10])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[12,170+11]..[15,287+10])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[12,170+11]..[15,287+10])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-gadts/ambiguity.ml[12,170+22]..[15,287+10]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[12,170+22]..[12,170+32])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[12,170+23]..[12,170+24])
                  Ppat_var "b" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+23]..[12,170+24])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[12,170+27]..[12,170+31])
                  Ptyp_constr "bool" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+27]..[12,170+31])
                  []
              expression (testsuite/tests/typing-gadts/ambiguity.ml[12,170+33]..[15,287+10]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[12,170+33]..[12,170+50])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[12,170+34]..[12,170+37])
                    Ppat_var "wit" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+34]..[12,170+37])
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[12,170+40]..[12,170+49])
                    Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+47]..[12,170+49])
                    [
                      core_type (testsuite/tests/typing-gadts/ambiguity.ml[12,170+41]..[12,170+42])
                        Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+41]..[12,170+42])
                        []
                      core_type (testsuite/tests/typing-gadts/ambiguity.ml[12,170+44]..[12,170+45])
                        Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+44]..[12,170+45])
                        []
                    ]
                expression (testsuite/tests/typing-gadts/ambiguity.ml[12,170+51]..[15,287+10]) ghost
                  Pexp_fun
                  Nolabel
                  None
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[12,170+51]..[12,170+58])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[12,170+52]..[12,170+53])
                      Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+52]..[12,170+53])
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[12,170+56]..[12,170+57])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+56]..[12,170+57])
                      []
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[12,170+59]..[15,287+10]) ghost
                    Pexp_fun
                    Nolabel
                    None
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[12,170+59]..[12,170+66])
                      Ppat_constraint
                      pattern (testsuite/tests/typing-gadts/ambiguity.ml[12,170+60]..[12,170+61])
                        Ppat_var "y" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+60]..[12,170+61])
                      core_type (testsuite/tests/typing-gadts/ambiguity.ml[12,170+64]..[12,170+65])
                        Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[12,170+64]..[12,170+65])
                        []
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[13,239+2]..[15,287+10])
                      Pexp_match
                      expression (testsuite/tests/typing-gadts/ambiguity.ml[13,239+8]..[13,239+11])
                        Pexp_ident "wit" (testsuite/tests/typing-gadts/ambiguity.ml[13,239+8]..[13,239+11])
                      [
                        <case>
                          pattern (testsuite/tests/typing-gadts/ambiguity.ml[14,256+4]..[14,256+8])
                            Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[14,256+4]..[14,256+8])
                            None
                          expression (testsuite/tests/typing-gadts/ambiguity.ml[14,256+12]..[14,256+30])
                            Pexp_ifthenelse
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[14,256+15]..[14,256+16])
                              Pexp_ident "b" (testsuite/tests/typing-gadts/ambiguity.ml[14,256+15]..[14,256+16])
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[14,256+22]..[14,256+23])
                              Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[14,256+22]..[14,256+23])
                            Some
                              expression (testsuite/tests/typing-gadts/ambiguity.ml[14,256+29]..[14,256+30])
                                Pexp_ident "y" (testsuite/tests/typing-gadts/ambiguity.ml[14,256+29]..[14,256+30])
                        <case>
                          pattern (testsuite/tests/typing-gadts/ambiguity.ml[15,287+4]..[15,287+5])
                            Ppat_any
                          expression (testsuite/tests/typing-gadts/ambiguity.ml[15,287+9]..[15,287+10])
                            Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[15,287+9]..[15,287+10])
                      ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[17,301+0]..[25,586+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[17,301+9]..[25,586+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[17,301+9]..[25,586+2])
          Pexp_constant PConst_string ("\nLine 3, characters 29-30:\n3 |   | Refl -> if b then x else y\n                                 ^\nError: This expression has type b = a but an expression was expected of type\n         a\n       This instance of a is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[17,301+11]..[25,586+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[27,591+0]..[30,708+10])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[27,591+4]..[27,591+10])
          Ppat_var "ret_e2" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+4]..[27,591+10])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[27,591+11]..[30,708+10])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[27,591+11]..[30,708+10])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-gadts/ambiguity.ml[27,591+22]..[30,708+10]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[27,591+22]..[27,591+32])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[27,591+23]..[27,591+24])
                  Ppat_var "b" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+23]..[27,591+24])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[27,591+27]..[27,591+31])
                  Ptyp_constr "bool" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+27]..[27,591+31])
                  []
              expression (testsuite/tests/typing-gadts/ambiguity.ml[27,591+33]..[30,708+10]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[27,591+33]..[27,591+50])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[27,591+34]..[27,591+37])
                    Ppat_var "wit" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+34]..[27,591+37])
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[27,591+40]..[27,591+49])
                    Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+47]..[27,591+49])
                    [
                      core_type (testsuite/tests/typing-gadts/ambiguity.ml[27,591+41]..[27,591+42])
                        Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+41]..[27,591+42])
                        []
                      core_type (testsuite/tests/typing-gadts/ambiguity.ml[27,591+44]..[27,591+45])
                        Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+44]..[27,591+45])
                        []
                    ]
                expression (testsuite/tests/typing-gadts/ambiguity.ml[27,591+51]..[30,708+10]) ghost
                  Pexp_fun
                  Nolabel
                  None
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[27,591+51]..[27,591+58])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[27,591+52]..[27,591+53])
                      Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+52]..[27,591+53])
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[27,591+56]..[27,591+57])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+56]..[27,591+57])
                      []
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[27,591+59]..[30,708+10]) ghost
                    Pexp_fun
                    Nolabel
                    None
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[27,591+59]..[27,591+66])
                      Ppat_constraint
                      pattern (testsuite/tests/typing-gadts/ambiguity.ml[27,591+60]..[27,591+61])
                        Ppat_var "y" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+60]..[27,591+61])
                      core_type (testsuite/tests/typing-gadts/ambiguity.ml[27,591+64]..[27,591+65])
                        Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[27,591+64]..[27,591+65])
                        []
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[28,660+2]..[30,708+10])
                      Pexp_match
                      expression (testsuite/tests/typing-gadts/ambiguity.ml[28,660+8]..[28,660+11])
                        Pexp_ident "wit" (testsuite/tests/typing-gadts/ambiguity.ml[28,660+8]..[28,660+11])
                      [
                        <case>
                          pattern (testsuite/tests/typing-gadts/ambiguity.ml[29,677+4]..[29,677+8])
                            Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[29,677+4]..[29,677+8])
                            None
                          expression (testsuite/tests/typing-gadts/ambiguity.ml[29,677+12]..[29,677+30])
                            Pexp_ifthenelse
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[29,677+15]..[29,677+16])
                              Pexp_ident "b" (testsuite/tests/typing-gadts/ambiguity.ml[29,677+15]..[29,677+16])
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[29,677+22]..[29,677+23])
                              Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[29,677+22]..[29,677+23])
                            Some
                              expression (testsuite/tests/typing-gadts/ambiguity.ml[29,677+29]..[29,677+30])
                                Pexp_ident "y" (testsuite/tests/typing-gadts/ambiguity.ml[29,677+29]..[29,677+30])
                        <case>
                          pattern (testsuite/tests/typing-gadts/ambiguity.ml[30,708+4]..[30,708+5])
                            Ppat_any
                          expression (testsuite/tests/typing-gadts/ambiguity.ml[30,708+9]..[30,708+10])
                            Pexp_ident "y" (testsuite/tests/typing-gadts/ambiguity.ml[30,708+9]..[30,708+10])
                      ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[32,722+0]..[40,1007+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[32,722+9]..[40,1007+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[32,722+9]..[40,1007+2])
          Pexp_constant PConst_string ("\nLine 3, characters 29-30:\n3 |   | Refl -> if b then x else y\n                                 ^\nError: This expression has type b = a but an expression was expected of type\n         a\n       This instance of a is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[32,722+11]..[40,1007+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+0]..[45,1122+10])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+4]..[42,1012+11])
          Ppat_var "ret_ei1" (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+4]..[42,1012+11])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+12]..[45,1122+10])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+21]..[45,1122+10]) ghost
            Pexp_fun
            Nolabel
            None
            pattern (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+21]..[42,1012+31])
              Ppat_constraint
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+22]..[42,1012+23])
                Ppat_var "b" (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+22]..[42,1012+23])
              core_type (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+26]..[42,1012+30])
                Ptyp_constr "bool" (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+26]..[42,1012+30])
                []
            expression (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+32]..[45,1122+10]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+32]..[42,1012+51])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+33]..[42,1012+36])
                  Ppat_var "wit" (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+33]..[42,1012+36])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+39]..[42,1012+50])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+48]..[42,1012+50])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+40]..[42,1012+41])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+40]..[42,1012+41])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+43]..[42,1012+46])
                      Ptyp_constr "int" (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+43]..[42,1012+46])
                      []
                  ]
              expression (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+52]..[45,1122+10]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+52]..[42,1012+59])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+53]..[42,1012+54])
                    Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+53]..[42,1012+54])
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+57]..[42,1012+58])
                    Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[42,1012+57]..[42,1012+58])
                    []
                expression (testsuite/tests/typing-gadts/ambiguity.ml[43,1074+2]..[45,1122+10])
                  Pexp_match
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[43,1074+8]..[43,1074+11])
                    Pexp_ident "wit" (testsuite/tests/typing-gadts/ambiguity.ml[43,1074+8]..[43,1074+11])
                  [
                    <case>
                      pattern (testsuite/tests/typing-gadts/ambiguity.ml[44,1091+4]..[44,1091+8])
                        Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[44,1091+4]..[44,1091+8])
                        None
                      expression (testsuite/tests/typing-gadts/ambiguity.ml[44,1091+12]..[44,1091+30])
                        Pexp_ifthenelse
                        expression (testsuite/tests/typing-gadts/ambiguity.ml[44,1091+15]..[44,1091+16])
                          Pexp_ident "b" (testsuite/tests/typing-gadts/ambiguity.ml[44,1091+15]..[44,1091+16])
                        expression (testsuite/tests/typing-gadts/ambiguity.ml[44,1091+22]..[44,1091+23])
                          Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[44,1091+22]..[44,1091+23])
                        Some
                          expression (testsuite/tests/typing-gadts/ambiguity.ml[44,1091+29]..[44,1091+30])
                            Pexp_constant PConst_int (0,None)
                    <case>
                      pattern (testsuite/tests/typing-gadts/ambiguity.ml[45,1122+4]..[45,1122+5])
                        Ppat_any
                      expression (testsuite/tests/typing-gadts/ambiguity.ml[45,1122+9]..[45,1122+10])
                        Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[45,1122+9]..[45,1122+10])
                  ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[47,1136+0]..[55,1427+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[47,1136+9]..[55,1427+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[47,1136+9]..[55,1427+2])
          Pexp_constant PConst_string ("\nLine 3, characters 29-30:\n3 |   | Refl -> if b then x else 0\n                                 ^\nError: This expression has type int but an expression was expected of type\n         a = int\n       This instance of int is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[47,1136+11]..[55,1427+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+0]..[60,1542+10])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+4]..[57,1432+11])
          Ppat_var "ret_ei2" (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+4]..[57,1432+11])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+12]..[60,1542+10])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+21]..[60,1542+10]) ghost
            Pexp_fun
            Nolabel
            None
            pattern (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+21]..[57,1432+31])
              Ppat_constraint
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+22]..[57,1432+23])
                Ppat_var "b" (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+22]..[57,1432+23])
              core_type (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+26]..[57,1432+30])
                Ptyp_constr "bool" (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+26]..[57,1432+30])
                []
            expression (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+32]..[60,1542+10]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+32]..[57,1432+51])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+33]..[57,1432+36])
                  Ppat_var "wit" (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+33]..[57,1432+36])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+39]..[57,1432+50])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+48]..[57,1432+50])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+40]..[57,1432+41])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+40]..[57,1432+41])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+43]..[57,1432+46])
                      Ptyp_constr "int" (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+43]..[57,1432+46])
                      []
                  ]
              expression (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+52]..[60,1542+10]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+52]..[57,1432+59])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+53]..[57,1432+54])
                    Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+53]..[57,1432+54])
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+57]..[57,1432+58])
                    Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[57,1432+57]..[57,1432+58])
                    []
                expression (testsuite/tests/typing-gadts/ambiguity.ml[58,1494+2]..[60,1542+10])
                  Pexp_match
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[58,1494+8]..[58,1494+11])
                    Pexp_ident "wit" (testsuite/tests/typing-gadts/ambiguity.ml[58,1494+8]..[58,1494+11])
                  [
                    <case>
                      pattern (testsuite/tests/typing-gadts/ambiguity.ml[59,1511+4]..[59,1511+8])
                        Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[59,1511+4]..[59,1511+8])
                        None
                      expression (testsuite/tests/typing-gadts/ambiguity.ml[59,1511+12]..[59,1511+30])
                        Pexp_ifthenelse
                        expression (testsuite/tests/typing-gadts/ambiguity.ml[59,1511+15]..[59,1511+16])
                          Pexp_ident "b" (testsuite/tests/typing-gadts/ambiguity.ml[59,1511+15]..[59,1511+16])
                        expression (testsuite/tests/typing-gadts/ambiguity.ml[59,1511+22]..[59,1511+23])
                          Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[59,1511+22]..[59,1511+23])
                        Some
                          expression (testsuite/tests/typing-gadts/ambiguity.ml[59,1511+29]..[59,1511+30])
                            Pexp_constant PConst_int (0,None)
                    <case>
                      pattern (testsuite/tests/typing-gadts/ambiguity.ml[60,1542+4]..[60,1542+5])
                        Ppat_any
                      expression (testsuite/tests/typing-gadts/ambiguity.ml[60,1542+9]..[60,1542+10])
                        Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[60,1542+9]..[60,1542+10])
                  ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[62,1556+0]..[70,1847+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[62,1556+9]..[70,1847+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[62,1556+9]..[70,1847+2])
          Pexp_constant PConst_string ("\nLine 3, characters 29-30:\n3 |   | Refl -> if b then x else 0\n                                 ^\nError: This expression has type int but an expression was expected of type\n         a = int\n       This instance of int is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[62,1556+11]..[70,1847+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+0]..[76,1946+12])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+4]..[73,1853+9])
          Ppat_var "ret_f" (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+4]..[73,1853+9])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+10]..[76,1946+12])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+10]..[76,1946+12])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+21]..[76,1946+12]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+21]..[73,1853+38])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+22]..[73,1853+25])
                  Ppat_var "wit" (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+22]..[73,1853+25])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+28]..[73,1853+37])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+35]..[73,1853+37])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+29]..[73,1853+30])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+29]..[73,1853+30])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+32]..[73,1853+33])
                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+32]..[73,1853+33])
                      []
                  ]
              expression (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+39]..[76,1946+12]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+39]..[73,1853+46])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+40]..[73,1853+41])
                    Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+40]..[73,1853+41])
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+44]..[73,1853+45])
                    Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+44]..[73,1853+45])
                    []
                expression (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+47]..[76,1946+12]) ghost
                  Pexp_fun
                  Nolabel
                  None
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+47]..[73,1853+54])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+48]..[73,1853+49])
                      Ppat_var "y" (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+48]..[73,1853+49])
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+52]..[73,1853+53])
                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[73,1853+52]..[73,1853+53])
                      []
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[74,1910+2]..[76,1946+12])
                    Pexp_match
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[74,1910+8]..[74,1910+11])
                      Pexp_ident "wit" (testsuite/tests/typing-gadts/ambiguity.ml[74,1910+8]..[74,1910+11])
                    [
                      <case>
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+4]..[75,1927+8])
                          Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+4]..[75,1927+8])
                          None
                        expression (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+12]..[75,1927+18])
                          Pexp_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+13]..[75,1927+18]) ghost
                          Some
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+13]..[75,1927+18]) ghost
                              Pexp_tuple
                              [
                                expression (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+13]..[75,1927+14])
                                  Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+13]..[75,1927+14])
                                expression (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+16]..[75,1927+18]) ghost
                                  Pexp_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+16]..[75,1927+18]) ghost
                                  Some
                                    expression (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+16]..[75,1927+18]) ghost
                                      Pexp_tuple
                                      [
                                        expression (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+16]..[75,1927+17])
                                          Pexp_ident "y" (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+16]..[75,1927+17])
                                        expression (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+17]..[75,1927+18]) ghost
                                          Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[75,1927+17]..[75,1927+18]) ghost
                                          None
                                      ]
                              ]
                      <case>
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[76,1946+4]..[76,1946+5])
                          Ppat_any
                        expression (testsuite/tests/typing-gadts/ambiguity.ml[76,1946+9]..[76,1946+12])
                          Pexp_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[76,1946+10]..[76,1946+12]) ghost
                          Some
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[76,1946+10]..[76,1946+12]) ghost
                              Pexp_tuple
                              [
                                expression (testsuite/tests/typing-gadts/ambiguity.ml[76,1946+10]..[76,1946+11])
                                  Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[76,1946+10]..[76,1946+11])
                                expression (testsuite/tests/typing-gadts/ambiguity.ml[76,1946+11]..[76,1946+12]) ghost
                                  Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[76,1946+11]..[76,1946+12]) ghost
                                  None
                              ]
                    ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[78,1962+0]..[86,2222+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[78,1962+9]..[86,2222+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[78,1962+9]..[86,2222+2])
          Pexp_constant PConst_string ("\nLine 3, characters 16-17:\n3 |   | Refl -> [x; y]\n                    ^\nError: This expression has type b = a but an expression was expected of type\n         a\n       This instance of a is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[78,1962+11]..[86,2222+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+0]..[91,2321+12])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+4]..[88,2227+10])
          Ppat_var "ret_g1" (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+4]..[88,2227+10])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+11]..[91,2321+12])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+11]..[91,2321+12])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+22]..[91,2321+12]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+22]..[88,2227+39])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+23]..[88,2227+26])
                  Ppat_var "wit" (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+23]..[88,2227+26])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+29]..[88,2227+38])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+36]..[88,2227+38])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+30]..[88,2227+31])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+30]..[88,2227+31])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+33]..[88,2227+34])
                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+33]..[88,2227+34])
                      []
                  ]
              expression (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+40]..[91,2321+12]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+40]..[88,2227+47])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+41]..[88,2227+42])
                    Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+41]..[88,2227+42])
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+45]..[88,2227+46])
                    Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+45]..[88,2227+46])
                    []
                expression (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+48]..[91,2321+12]) ghost
                  Pexp_fun
                  Nolabel
                  None
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+48]..[88,2227+55])
                    Ppat_constraint
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+49]..[88,2227+50])
                      Ppat_var "y" (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+49]..[88,2227+50])
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+53]..[88,2227+54])
                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[88,2227+53]..[88,2227+54])
                      []
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[89,2285+2]..[91,2321+12])
                    Pexp_match
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[89,2285+8]..[89,2285+11])
                      Pexp_ident "wit" (testsuite/tests/typing-gadts/ambiguity.ml[89,2285+8]..[89,2285+11])
                    [
                      <case>
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+4]..[90,2302+8])
                          Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+4]..[90,2302+8])
                          None
                        expression (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+12]..[90,2302+18])
                          Pexp_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+13]..[90,2302+18]) ghost
                          Some
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+13]..[90,2302+18]) ghost
                              Pexp_tuple
                              [
                                expression (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+13]..[90,2302+14])
                                  Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+13]..[90,2302+14])
                                expression (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+16]..[90,2302+18]) ghost
                                  Pexp_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+16]..[90,2302+18]) ghost
                                  Some
                                    expression (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+16]..[90,2302+18]) ghost
                                      Pexp_tuple
                                      [
                                        expression (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+16]..[90,2302+17])
                                          Pexp_ident "y" (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+16]..[90,2302+17])
                                        expression (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+17]..[90,2302+18]) ghost
                                          Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[90,2302+17]..[90,2302+18]) ghost
                                          None
                                      ]
                              ]
                      <case>
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[91,2321+4]..[91,2321+5])
                          Ppat_any
                        expression (testsuite/tests/typing-gadts/ambiguity.ml[91,2321+9]..[91,2321+12])
                          Pexp_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[91,2321+10]..[91,2321+12]) ghost
                          Some
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[91,2321+10]..[91,2321+12]) ghost
                              Pexp_tuple
                              [
                                expression (testsuite/tests/typing-gadts/ambiguity.ml[91,2321+10]..[91,2321+11])
                                  Pexp_ident "y" (testsuite/tests/typing-gadts/ambiguity.ml[91,2321+10]..[91,2321+11])
                                expression (testsuite/tests/typing-gadts/ambiguity.ml[91,2321+11]..[91,2321+12]) ghost
                                  Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[91,2321+11]..[91,2321+12]) ghost
                                  None
                              ]
                    ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[93,2337+0]..[101,2597+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[93,2337+9]..[101,2597+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[93,2337+9]..[101,2597+2])
          Pexp_constant PConst_string ("\nLine 3, characters 16-17:\n3 |   | Refl -> [x; y]\n                    ^\nError: This expression has type b = a but an expression was expected of type\n         a\n       This instance of a is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[93,2337+11]..[101,2597+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+0]..[113,3121+22])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+4]..[110,3031+5])
          Ppat_var "f" (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+4]..[110,3031+5])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+6]..[113,3121+22])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+6]..[113,3121+22])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+17]..[113,3121+22]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+17]..[110,3031+32])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+18]..[110,3031+19])
                  Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+18]..[110,3031+19])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+22]..[110,3031+31])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+29]..[110,3031+31])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+23]..[110,3031+24])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+23]..[110,3031+24])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+26]..[110,3031+27])
                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[110,3031+26]..[110,3031+27])
                      []
                  ]
              expression (testsuite/tests/typing-gadts/ambiguity.ml[111,3066+2]..[113,3121+22])
                Pexp_match
                expression (testsuite/tests/typing-gadts/ambiguity.ml[111,3066+8]..[111,3066+13])
                  Pexp_tuple
                  [
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[111,3066+8]..[111,3066+9])
                      Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[111,3066+8]..[111,3066+9])
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[111,3066+11]..[111,3066+13])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[111,3066+11]..[111,3066+13])
                      None
                  ]
                [
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+4]..[112,3085+29])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+4]..[112,3085+8])
                          Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+4]..[112,3085+8])
                          None
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+10]..[112,3085+29])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+11]..[112,3085+29]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+11]..[112,3085+29]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+11]..[112,3085+28])
                                  Ppat_or
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+11]..[112,3085+18])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+12]..[112,3085+13])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+16]..[112,3085+17])
                                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+16]..[112,3085+17])
                                      []
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+21]..[112,3085+28])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+22]..[112,3085+23])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+26]..[112,3085+27])
                                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+26]..[112,3085+27])
                                      []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+28]..[112,3085+29]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+28]..[112,3085+29]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+33]..[112,3085+35])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[112,3085+33]..[112,3085+35])
                      None
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+4]..[113,3121+16])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+4]..[113,3121+5])
                          Ppat_any
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+7]..[113,3121+16])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+8]..[113,3121+16]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+8]..[113,3121+16]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+8]..[113,3121+15])
                                  Ppat_constraint
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+9]..[113,3121+10])
                                    Ppat_any
                                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+13]..[113,3121+14])
                                    Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+13]..[113,3121+14])
                                    []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+15]..[113,3121+16]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+15]..[113,3121+16]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+20]..[113,3121+22])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[113,3121+20]..[113,3121+22])
                      None
                ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[115,3147+0]..[122,3409+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[115,3147+9]..[122,3409+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[115,3147+9]..[122,3409+2])
          Pexp_constant PConst_string ("\nLine 3, characters 4-29:\n3 |   | Refl, [(_ : a) | (_ : b)] -> []\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This pattern matches values of type (a, b) eq * b list\n       This instance of b is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[115,3147+11]..[122,3409+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+0]..[127,3505+22])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+4]..[124,3414+6])
          Ppat_var "g1" (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+4]..[124,3414+6])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+7]..[127,3505+22])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+7]..[127,3505+22])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+18]..[127,3505+22]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+18]..[124,3414+33])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+19]..[124,3414+20])
                  Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+19]..[124,3414+20])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+23]..[124,3414+32])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+30]..[124,3414+32])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+24]..[124,3414+25])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+24]..[124,3414+25])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+27]..[124,3414+28])
                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[124,3414+27]..[124,3414+28])
                      []
                  ]
              expression (testsuite/tests/typing-gadts/ambiguity.ml[125,3450+2]..[127,3505+22])
                Pexp_match
                expression (testsuite/tests/typing-gadts/ambiguity.ml[125,3450+8]..[125,3450+13])
                  Pexp_tuple
                  [
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[125,3450+8]..[125,3450+9])
                      Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[125,3450+8]..[125,3450+9])
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[125,3450+11]..[125,3450+13])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[125,3450+11]..[125,3450+13])
                      None
                  ]
                [
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+4]..[126,3469+29])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+4]..[126,3469+8])
                          Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+4]..[126,3469+8])
                          None
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+10]..[126,3469+29])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+11]..[126,3469+29]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+11]..[126,3469+29]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+11]..[126,3469+28])
                                  Ppat_or
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+11]..[126,3469+18])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+12]..[126,3469+13])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+16]..[126,3469+17])
                                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+16]..[126,3469+17])
                                      []
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+21]..[126,3469+28])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+22]..[126,3469+23])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+26]..[126,3469+27])
                                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+26]..[126,3469+27])
                                      []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+28]..[126,3469+29]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+28]..[126,3469+29]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+33]..[126,3469+35])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[126,3469+33]..[126,3469+35])
                      None
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+4]..[127,3505+16])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+4]..[127,3505+5])
                          Ppat_any
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+7]..[127,3505+16])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+8]..[127,3505+16]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+8]..[127,3505+16]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+8]..[127,3505+15])
                                  Ppat_constraint
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+9]..[127,3505+10])
                                    Ppat_any
                                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+13]..[127,3505+14])
                                    Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+13]..[127,3505+14])
                                    []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+15]..[127,3505+16]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+15]..[127,3505+16]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+20]..[127,3505+22])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[127,3505+20]..[127,3505+22])
                      None
                ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[129,3531+0]..[136,3793+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[129,3531+9]..[136,3793+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[129,3531+9]..[136,3793+2])
          Pexp_constant PConst_string ("\nLine 3, characters 4-29:\n3 |   | Refl, [(_ : a) | (_ : b)] -> []\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This pattern matches values of type (a, b) eq * b list\n       This instance of b is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[129,3531+11]..[136,3793+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+0]..[141,3889+22])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+4]..[138,3798+6])
          Ppat_var "g2" (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+4]..[138,3798+6])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+7]..[141,3889+22])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+7]..[141,3889+22])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+18]..[141,3889+22]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+18]..[138,3798+33])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+19]..[138,3798+20])
                  Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+19]..[138,3798+20])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+23]..[138,3798+32])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+30]..[138,3798+32])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+24]..[138,3798+25])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+24]..[138,3798+25])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+27]..[138,3798+28])
                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[138,3798+27]..[138,3798+28])
                      []
                  ]
              expression (testsuite/tests/typing-gadts/ambiguity.ml[139,3834+2]..[141,3889+22])
                Pexp_match
                expression (testsuite/tests/typing-gadts/ambiguity.ml[139,3834+8]..[139,3834+13])
                  Pexp_tuple
                  [
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[139,3834+8]..[139,3834+9])
                      Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[139,3834+8]..[139,3834+9])
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[139,3834+11]..[139,3834+13])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[139,3834+11]..[139,3834+13])
                      None
                  ]
                [
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+4]..[140,3853+29])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+4]..[140,3853+8])
                          Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+4]..[140,3853+8])
                          None
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+10]..[140,3853+29])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+11]..[140,3853+29]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+11]..[140,3853+29]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+11]..[140,3853+28])
                                  Ppat_or
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+11]..[140,3853+18])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+12]..[140,3853+13])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+16]..[140,3853+17])
                                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+16]..[140,3853+17])
                                      []
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+21]..[140,3853+28])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+22]..[140,3853+23])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+26]..[140,3853+27])
                                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+26]..[140,3853+27])
                                      []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+28]..[140,3853+29]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+28]..[140,3853+29]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+33]..[140,3853+35])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[140,3853+33]..[140,3853+35])
                      None
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+4]..[141,3889+16])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+4]..[141,3889+5])
                          Ppat_any
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+7]..[141,3889+16])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+8]..[141,3889+16]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+8]..[141,3889+16]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+8]..[141,3889+15])
                                  Ppat_constraint
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+9]..[141,3889+10])
                                    Ppat_any
                                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+13]..[141,3889+14])
                                    Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+13]..[141,3889+14])
                                    []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+15]..[141,3889+16]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+15]..[141,3889+16]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+20]..[141,3889+22])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[141,3889+20]..[141,3889+22])
                      None
                ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[143,3915+0]..[150,4177+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[143,3915+9]..[150,4177+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[143,3915+9]..[150,4177+2])
          Pexp_constant PConst_string ("\nLine 3, characters 4-29:\n3 |   | Refl, [(_ : b) | (_ : a)] -> []\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This pattern matches values of type (a, b) eq * b list\n       This instance of b is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[143,3915+11]..[150,4177+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+0]..[155,4260+35])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+4]..[152,4182+6])
          Ppat_var "h1" (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+4]..[152,4182+6])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+7]..[155,4260+35])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+7]..[155,4260+35])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+18]..[155,4260+35]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+18]..[152,4182+33])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+19]..[152,4182+20])
                  Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+19]..[152,4182+20])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+23]..[152,4182+32])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+30]..[152,4182+32])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+24]..[152,4182+25])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+24]..[152,4182+25])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+27]..[152,4182+28])
                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[152,4182+27]..[152,4182+28])
                      []
                  ]
              expression (testsuite/tests/typing-gadts/ambiguity.ml[153,4218+2]..[155,4260+35])
                Pexp_match
                expression (testsuite/tests/typing-gadts/ambiguity.ml[153,4218+8]..[153,4218+13])
                  Pexp_tuple
                  [
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[153,4218+8]..[153,4218+9])
                      Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[153,4218+8]..[153,4218+9])
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[153,4218+11]..[153,4218+13])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[153,4218+11]..[153,4218+13])
                      None
                  ]
                [
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+4]..[154,4237+16])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+4]..[154,4237+5])
                          Ppat_any
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+7]..[154,4237+16])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+8]..[154,4237+16]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+8]..[154,4237+16]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+8]..[154,4237+15])
                                  Ppat_constraint
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+9]..[154,4237+10])
                                    Ppat_any
                                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+13]..[154,4237+14])
                                    Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+13]..[154,4237+14])
                                    []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+15]..[154,4237+16]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+15]..[154,4237+16]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+20]..[154,4237+22])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[154,4237+20]..[154,4237+22])
                      None
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+4]..[155,4260+29])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+4]..[155,4260+8])
                          Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+4]..[155,4260+8])
                          None
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+10]..[155,4260+29])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+11]..[155,4260+29]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+11]..[155,4260+29]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+11]..[155,4260+28])
                                  Ppat_or
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+11]..[155,4260+18])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+12]..[155,4260+13])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+16]..[155,4260+17])
                                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+16]..[155,4260+17])
                                      []
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+21]..[155,4260+28])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+22]..[155,4260+23])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+26]..[155,4260+27])
                                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+26]..[155,4260+27])
                                      []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+28]..[155,4260+29]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+28]..[155,4260+29]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+33]..[155,4260+35])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[155,4260+33]..[155,4260+35])
                      None
                ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[157,4299+0]..[164,4561+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[157,4299+9]..[164,4561+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[157,4299+9]..[164,4561+2])
          Pexp_constant PConst_string ("\nLine 4, characters 4-29:\n4 |   | Refl, [(_ : a) | (_ : b)] -> []\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This pattern matches values of type (a, b) eq * b list\n       This instance of b is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[157,4299+11]..[164,4561+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+0]..[169,4644+35])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+4]..[166,4566+6])
          Ppat_var "h2" (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+4]..[166,4566+6])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+7]..[169,4644+35])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+7]..[169,4644+35])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+18]..[169,4644+35]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+18]..[166,4566+33])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+19]..[166,4566+20])
                  Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+19]..[166,4566+20])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+23]..[166,4566+32])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+30]..[166,4566+32])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+24]..[166,4566+25])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+24]..[166,4566+25])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+27]..[166,4566+28])
                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[166,4566+27]..[166,4566+28])
                      []
                  ]
              expression (testsuite/tests/typing-gadts/ambiguity.ml[167,4602+2]..[169,4644+35])
                Pexp_match
                expression (testsuite/tests/typing-gadts/ambiguity.ml[167,4602+8]..[167,4602+13])
                  Pexp_tuple
                  [
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[167,4602+8]..[167,4602+9])
                      Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[167,4602+8]..[167,4602+9])
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[167,4602+11]..[167,4602+13])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[167,4602+11]..[167,4602+13])
                      None
                  ]
                [
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+4]..[168,4621+16])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+4]..[168,4621+5])
                          Ppat_any
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+7]..[168,4621+16])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+8]..[168,4621+16]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+8]..[168,4621+16]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+8]..[168,4621+15])
                                  Ppat_constraint
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+9]..[168,4621+10])
                                    Ppat_any
                                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+13]..[168,4621+14])
                                    Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+13]..[168,4621+14])
                                    []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+15]..[168,4621+16]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+15]..[168,4621+16]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+20]..[168,4621+22])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[168,4621+20]..[168,4621+22])
                      None
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+4]..[169,4644+29])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+4]..[169,4644+8])
                          Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+4]..[169,4644+8])
                          None
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+10]..[169,4644+29])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+11]..[169,4644+29]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+11]..[169,4644+29]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+11]..[169,4644+28])
                                  Ppat_or
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+11]..[169,4644+18])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+12]..[169,4644+13])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+16]..[169,4644+17])
                                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+16]..[169,4644+17])
                                      []
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+21]..[169,4644+28])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+22]..[169,4644+23])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+26]..[169,4644+27])
                                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+26]..[169,4644+27])
                                      []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+28]..[169,4644+29]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+28]..[169,4644+29]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+33]..[169,4644+35])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[169,4644+33]..[169,4644+35])
                      None
                ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[171,4683+0]..[178,4945+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[171,4683+9]..[178,4945+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[171,4683+9]..[178,4945+2])
          Pexp_constant PConst_string ("\nLine 4, characters 4-29:\n4 |   | Refl, [(_ : a) | (_ : b)] -> []\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This pattern matches values of type (a, b) eq * b list\n       This instance of b is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[171,4683+11]..[178,4945+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+0]..[183,5028+35])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+4]..[180,4950+6])
          Ppat_var "h3" (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+4]..[180,4950+6])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+7]..[183,5028+35])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+7]..[183,5028+35])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+18]..[183,5028+35]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+18]..[180,4950+33])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+19]..[180,4950+20])
                  Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+19]..[180,4950+20])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+23]..[180,4950+32])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+30]..[180,4950+32])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+24]..[180,4950+25])
                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+24]..[180,4950+25])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+27]..[180,4950+28])
                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[180,4950+27]..[180,4950+28])
                      []
                  ]
              expression (testsuite/tests/typing-gadts/ambiguity.ml[181,4986+2]..[183,5028+35])
                Pexp_match
                expression (testsuite/tests/typing-gadts/ambiguity.ml[181,4986+8]..[181,4986+13])
                  Pexp_tuple
                  [
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[181,4986+8]..[181,4986+9])
                      Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[181,4986+8]..[181,4986+9])
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[181,4986+11]..[181,4986+13])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[181,4986+11]..[181,4986+13])
                      None
                  ]
                [
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+4]..[182,5005+16])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+4]..[182,5005+5])
                          Ppat_any
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+7]..[182,5005+16])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+8]..[182,5005+16]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+8]..[182,5005+16]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+8]..[182,5005+15])
                                  Ppat_constraint
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+9]..[182,5005+10])
                                    Ppat_any
                                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+13]..[182,5005+14])
                                    Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+13]..[182,5005+14])
                                    []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+15]..[182,5005+16]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+15]..[182,5005+16]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+20]..[182,5005+22])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[182,5005+20]..[182,5005+22])
                      None
                  <case>
                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+4]..[183,5028+29])
                      Ppat_tuple
                      [
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+4]..[183,5028+8])
                          Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+4]..[183,5028+8])
                          None
                        pattern (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+10]..[183,5028+29])
                          Ppat_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+11]..[183,5028+29]) ghost
                          Some
                            []
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+11]..[183,5028+29]) ghost
                              Ppat_tuple
                              [
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+11]..[183,5028+28])
                                  Ppat_or
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+11]..[183,5028+18])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+12]..[183,5028+13])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+16]..[183,5028+17])
                                      Ptyp_constr "b" (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+16]..[183,5028+17])
                                      []
                                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+21]..[183,5028+28])
                                    Ppat_constraint
                                    pattern (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+22]..[183,5028+23])
                                      Ppat_any
                                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+26]..[183,5028+27])
                                      Ptyp_constr "a" (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+26]..[183,5028+27])
                                      []
                                pattern (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+28]..[183,5028+29]) ghost
                                  Ppat_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+28]..[183,5028+29]) ghost
                                  None
                              ]
                      ]
                    expression (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+33]..[183,5028+35])
                      Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[183,5028+33]..[183,5028+35])
                      None
                ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[185,5067+0]..[192,5329+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[185,5067+9]..[192,5329+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[185,5067+9]..[192,5329+2])
          Pexp_constant PConst_string ("\nLine 4, characters 4-29:\n4 |   | Refl, [(_ : b) | (_ : a)] -> []\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This pattern matches values of type (a, b) eq * b list\n       This instance of b is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[185,5067+11]..[192,5329+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[194,5334+0]..[202,5447+3])
    Pstr_module
    "T" (testsuite/tests/typing-gadts/ambiguity.ml[194,5334+7]..[194,5334+8])
      module_expr (testsuite/tests/typing-gadts/ambiguity.ml[194,5334+9]..[202,5447+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-gadts/ambiguity.ml[198,5388+6]..[202,5447+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-gadts/ambiguity.ml[199,5401+2]..[199,5401+14])
              Pstr_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-gadts/ambiguity.ml[199,5401+7]..[199,5401+8]) (testsuite/tests/typing-gadts/ambiguity.ml[199,5401+2]..[199,5401+14])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-gadts/ambiguity.ml[199,5401+11]..[199,5401+14])
                        Ptyp_constr "int" (testsuite/tests/typing-gadts/ambiguity.ml[199,5401+11]..[199,5401+14])
                        []
              ]
            structure_item (testsuite/tests/typing-gadts/ambiguity.ml[200,5416+2]..[200,5416+14])
              Pstr_type Rec
              [
                type_declaration "u" (testsuite/tests/typing-gadts/ambiguity.ml[200,5416+7]..[200,5416+8]) (testsuite/tests/typing-gadts/ambiguity.ml[200,5416+2]..[200,5416+14])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-gadts/ambiguity.ml[200,5416+11]..[200,5416+14])
                        Ptyp_constr "int" (testsuite/tests/typing-gadts/ambiguity.ml[200,5416+11]..[200,5416+14])
                        []
              ]
            structure_item (testsuite/tests/typing-gadts/ambiguity.ml[201,5431+2]..[201,5431+15])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[201,5431+6]..[201,5431+8])
                    Ppat_var "eq" (testsuite/tests/typing-gadts/ambiguity.ml[201,5431+6]..[201,5431+8])
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[201,5431+11]..[201,5431+15])
                    Pexp_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[201,5431+11]..[201,5431+15])
                    None
              ]
          ]
        module_type (testsuite/tests/typing-gadts/ambiguity.ml[194,5334+11]..[198,5388+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-gadts/ambiguity.ml[195,5349+2]..[195,5349+8])
              Psig_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-gadts/ambiguity.ml[195,5349+7]..[195,5349+8]) (testsuite/tests/typing-gadts/ambiguity.ml[195,5349+2]..[195,5349+8])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-gadts/ambiguity.ml[196,5358+2]..[196,5358+8])
              Psig_type Rec
              [
                type_declaration "u" (testsuite/tests/typing-gadts/ambiguity.ml[196,5358+7]..[196,5358+8]) (testsuite/tests/typing-gadts/ambiguity.ml[196,5358+2]..[196,5358+8])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-gadts/ambiguity.ml[197,5367+2]..[197,5367+20])
              Psig_value
              value_description "eq" (testsuite/tests/typing-gadts/ambiguity.ml[197,5367+6]..[197,5367+8]) (testsuite/tests/typing-gadts/ambiguity.ml[197,5367+2]..[197,5367+20])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[197,5367+11]..[197,5367+20])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[197,5367+18]..[197,5367+20])
                  [
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[197,5367+12]..[197,5367+13])
                      Ptyp_constr "t" (testsuite/tests/typing-gadts/ambiguity.ml[197,5367+12]..[197,5367+13])
                      []
                    core_type (testsuite/tests/typing-gadts/ambiguity.ml[197,5367+15]..[197,5367+16])
                      Ptyp_constr "u" (testsuite/tests/typing-gadts/ambiguity.ml[197,5367+15]..[197,5367+16])
                      []
                  ]
                []
          ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[203,5453+0]..[205,5517+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[203,5453+9]..[205,5517+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[203,5453+9]..[205,5517+2])
          Pexp_constant PConst_string ("\nmodule T : sig type t type u val eq : (t, u) eq end\n",(testsuite/tests/typing-gadts/ambiguity.ml[203,5453+11]..[205,5517+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[207,5522+0]..[209,5557+3])
    Pstr_module
    "M" (testsuite/tests/typing-gadts/ambiguity.ml[207,5522+7]..[207,5522+8])
      module_expr (testsuite/tests/typing-gadts/ambiguity.ml[207,5522+11]..[209,5557+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-gadts/ambiguity.ml[208,5540+2]..[208,5540+16])
            Pstr_value Nonrec
            [
              <def>
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[208,5540+6]..[208,5540+7])
                  Ppat_var "r" (testsuite/tests/typing-gadts/ambiguity.ml[208,5540+6]..[208,5540+7])
                expression (testsuite/tests/typing-gadts/ambiguity.ml[208,5540+10]..[208,5540+16])
                  Pexp_apply
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[208,5540+10]..[208,5540+13])
                    Pexp_ident "ref" (testsuite/tests/typing-gadts/ambiguity.ml[208,5540+10]..[208,5540+13])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/typing-gadts/ambiguity.ml[208,5540+14]..[208,5540+16])
                        Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[208,5540+14]..[208,5540+16])
                        None
                  ]
            ]
        ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+0]..[219,5806+6])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+4]..[211,5562+7])
          Ppat_var "foo" (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+4]..[211,5562+7])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+8]..[219,5806+6]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+8]..[211,5562+9])
            Ppat_var "p" (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+8]..[211,5562+9])
          expression (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+10]..[219,5806+6]) ghost
            Pexp_fun
            Nolabel
            None
            pattern (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+10]..[211,5562+29])
              Ppat_constraint
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+11]..[211,5562+12])
                Ppat_var "e" (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+11]..[211,5562+12])
              core_type (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+15]..[211,5562+28])
                Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+26]..[211,5562+28])
                [
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+16]..[211,5562+19])
                    Ptyp_constr "T.t" (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+16]..[211,5562+19])
                    []
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+21]..[211,5562+24])
                    Ptyp_constr "T.u" (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+21]..[211,5562+24])
                    []
                ]
            expression (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+30]..[219,5806+6]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+30]..[211,5562+39])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+31]..[211,5562+32])
                  Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+31]..[211,5562+32])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+35]..[211,5562+38])
                  Ptyp_constr "T.t" (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+35]..[211,5562+38])
                  []
              expression (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+40]..[219,5806+6]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+40]..[211,5562+49])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+41]..[211,5562+42])
                    Ppat_var "y" (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+41]..[211,5562+42])
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+45]..[211,5562+48])
                    Ptyp_constr "T.u" (testsuite/tests/typing-gadts/ambiguity.ml[211,5562+45]..[211,5562+48])
                    []
                expression (testsuite/tests/typing-gadts/ambiguity.ml[212,5614+2]..[219,5806+6])
                  Pexp_match
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[212,5614+8]..[212,5614+9])
                    Pexp_ident "e" (testsuite/tests/typing-gadts/ambiguity.ml[212,5614+8]..[212,5614+9])
                  [
                    <case>
                      pattern (testsuite/tests/typing-gadts/ambiguity.ml[213,5629+4]..[213,5629+8])
                        Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[213,5629+4]..[213,5629+8])
                        None
                      expression (testsuite/tests/typing-gadts/ambiguity.ml[214,5641+4]..[219,5806+6])
                        Pexp_let Nonrec
                        [
                          <def>
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[214,5641+8]..[214,5641+9])
                              Ppat_var "z" (testsuite/tests/typing-gadts/ambiguity.ml[214,5641+8]..[214,5641+9])
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[214,5641+12]..[214,5641+30])
                              Pexp_ifthenelse
                              expression (testsuite/tests/typing-gadts/ambiguity.ml[214,5641+15]..[214,5641+16])
                                Pexp_ident "p" (testsuite/tests/typing-gadts/ambiguity.ml[214,5641+15]..[214,5641+16])
                              expression (testsuite/tests/typing-gadts/ambiguity.ml[214,5641+22]..[214,5641+23])
                                Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[214,5641+22]..[214,5641+23])
                              Some
                                expression (testsuite/tests/typing-gadts/ambiguity.ml[214,5641+29]..[214,5641+30])
                                  Pexp_ident "y" (testsuite/tests/typing-gadts/ambiguity.ml[214,5641+29]..[214,5641+30])
                        ]
                        expression (testsuite/tests/typing-gadts/ambiguity.ml[215,5675+4]..[219,5806+6])
                          Pexp_letmodule "N" (testsuite/tests/typing-gadts/ambiguity.ml[215,5675+15]..[215,5675+16])
                          module_expr (testsuite/tests/typing-gadts/ambiguity.ml[215,5675+19]..[217,5765+7])
                            Pmod_structure
                            [
                              structure_item (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+6]..[216,5701+63])
                                Pstr_modtype "S" (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+18]..[216,5701+19])
                                  module_type (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+22]..[216,5701+63])
                                    Pmty_typeof
                                    module_expr (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+37]..[216,5701+63])
                                      Pmod_structure
                                      [
                                        structure_item (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+44]..[216,5701+59])
                                          Pstr_value Nonrec
                                          [
                                            <def>
                                              pattern (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+48]..[216,5701+49])
                                                Ppat_var "r" (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+48]..[216,5701+49])
                                              expression (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+52]..[216,5701+59])
                                                Pexp_apply
                                                expression (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+52]..[216,5701+55])
                                                  Pexp_ident "ref" (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+52]..[216,5701+55])
                                                [
                                                  <arg>
                                                  Nolabel
                                                    expression (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+56]..[216,5701+59])
                                                      Pexp_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+57]..[216,5701+59]) ghost
                                                      Some
                                                        expression (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+57]..[216,5701+59]) ghost
                                                          Pexp_tuple
                                                          [
                                                            expression (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+57]..[216,5701+58])
                                                              Pexp_ident "z" (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+57]..[216,5701+58])
                                                            expression (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+58]..[216,5701+59]) ghost
                                                              Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[216,5701+58]..[216,5701+59]) ghost
                                                              None
                                                          ]
                                                ]
                                          ]
                                      ]
                            ]
                          expression (testsuite/tests/typing-gadts/ambiguity.ml[218,5776+4]..[219,5806+6])
                            Pexp_letmodule "O" (testsuite/tests/typing-gadts/ambiguity.ml[218,5776+15]..[218,5776+16])
                            module_expr (testsuite/tests/typing-gadts/ambiguity.ml[218,5776+17]..[218,5776+26])
                              Pmod_constraint
                              module_expr (testsuite/tests/typing-gadts/ambiguity.ml[218,5776+25]..[218,5776+26])
                                Pmod_ident "M" (testsuite/tests/typing-gadts/ambiguity.ml[218,5776+25]..[218,5776+26])
                              module_type (testsuite/tests/typing-gadts/ambiguity.ml[218,5776+19]..[218,5776+22])
                                Pmty_ident "N.S" (testsuite/tests/typing-gadts/ambiguity.ml[218,5776+19]..[218,5776+22])
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[219,5806+4]..[219,5806+6])
                              Pexp_construct "()" (testsuite/tests/typing-gadts/ambiguity.ml[219,5806+4]..[219,5806+6])
                              None
                  ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[221,5814+0]..[221,5814+32])
    Pstr_modtype "S" (testsuite/tests/typing-gadts/ambiguity.ml[221,5814+12]..[221,5814+13])
      module_type (testsuite/tests/typing-gadts/ambiguity.ml[221,5814+16]..[221,5814+32])
        Pmty_typeof
        module_expr (testsuite/tests/typing-gadts/ambiguity.ml[221,5814+31]..[221,5814+32])
          Pmod_ident "M" (testsuite/tests/typing-gadts/ambiguity.ml[221,5814+31]..[221,5814+32])
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[222,5850+0]..[240,6482+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[222,5850+9]..[240,6482+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[222,5850+9]..[240,6482+2])
          Pexp_constant PConst_string ("\nmodule M : sig val r : '_weak1 list ref end\nLine 12, characters 25-26:\n12 |     let module O : N.S = M in\n                              ^\nError: Signature mismatch:\n       Modules do not match:\n         sig val r : '_weak1 list ref end\n       is not included in\n         N.S\n       Values do not match:\n         val r : '_weak1 list ref\n       is not included in\n         val r : T.u list ref\n       The type '_weak1 list ref is not compatible with the type T.u list ref\n       Type '_weak1 is not compatible with type T.u = T.t\n       This instance of T.t is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[222,5850+11]..[240,6482+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[242,6487+0]..[244,6522+3])
    Pstr_module
    "M" (testsuite/tests/typing-gadts/ambiguity.ml[242,6487+7]..[242,6487+8])
      module_expr (testsuite/tests/typing-gadts/ambiguity.ml[242,6487+11]..[244,6522+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-gadts/ambiguity.ml[243,6505+2]..[243,6505+16])
            Pstr_value Nonrec
            [
              <def>
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[243,6505+6]..[243,6505+7])
                  Ppat_var "r" (testsuite/tests/typing-gadts/ambiguity.ml[243,6505+6]..[243,6505+7])
                expression (testsuite/tests/typing-gadts/ambiguity.ml[243,6505+10]..[243,6505+16])
                  Pexp_apply
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[243,6505+10]..[243,6505+13])
                    Pexp_ident "ref" (testsuite/tests/typing-gadts/ambiguity.ml[243,6505+10]..[243,6505+13])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/typing-gadts/ambiguity.ml[243,6505+14]..[243,6505+16])
                        Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[243,6505+14]..[243,6505+16])
                        None
                  ]
            ]
        ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+0]..[254,6771+6])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+4]..[246,6527+7])
          Ppat_var "foo" (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+4]..[246,6527+7])
        expression (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+8]..[254,6771+6]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+8]..[246,6527+9])
            Ppat_var "p" (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+8]..[246,6527+9])
          expression (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+10]..[254,6771+6]) ghost
            Pexp_fun
            Nolabel
            None
            pattern (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+10]..[246,6527+29])
              Ppat_constraint
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+11]..[246,6527+12])
                Ppat_var "e" (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+11]..[246,6527+12])
              core_type (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+15]..[246,6527+28])
                Ptyp_constr "eq" (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+26]..[246,6527+28])
                [
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+16]..[246,6527+19])
                    Ptyp_constr "T.u" (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+16]..[246,6527+19])
                    []
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+21]..[246,6527+24])
                    Ptyp_constr "T.t" (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+21]..[246,6527+24])
                    []
                ]
            expression (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+30]..[254,6771+6]) ghost
              Pexp_fun
              Nolabel
              None
              pattern (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+30]..[246,6527+39])
                Ppat_constraint
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+31]..[246,6527+32])
                  Ppat_var "x" (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+31]..[246,6527+32])
                core_type (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+35]..[246,6527+38])
                  Ptyp_constr "T.t" (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+35]..[246,6527+38])
                  []
              expression (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+40]..[254,6771+6]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+40]..[246,6527+49])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+41]..[246,6527+42])
                    Ppat_var "y" (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+41]..[246,6527+42])
                  core_type (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+45]..[246,6527+48])
                    Ptyp_constr "T.u" (testsuite/tests/typing-gadts/ambiguity.ml[246,6527+45]..[246,6527+48])
                    []
                expression (testsuite/tests/typing-gadts/ambiguity.ml[247,6579+2]..[254,6771+6])
                  Pexp_match
                  expression (testsuite/tests/typing-gadts/ambiguity.ml[247,6579+8]..[247,6579+9])
                    Pexp_ident "e" (testsuite/tests/typing-gadts/ambiguity.ml[247,6579+8]..[247,6579+9])
                  [
                    <case>
                      pattern (testsuite/tests/typing-gadts/ambiguity.ml[248,6594+4]..[248,6594+8])
                        Ppat_construct "Refl" (testsuite/tests/typing-gadts/ambiguity.ml[248,6594+4]..[248,6594+8])
                        None
                      expression (testsuite/tests/typing-gadts/ambiguity.ml[249,6606+4]..[254,6771+6])
                        Pexp_let Nonrec
                        [
                          <def>
                            pattern (testsuite/tests/typing-gadts/ambiguity.ml[249,6606+8]..[249,6606+9])
                              Ppat_var "z" (testsuite/tests/typing-gadts/ambiguity.ml[249,6606+8]..[249,6606+9])
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[249,6606+12]..[249,6606+30])
                              Pexp_ifthenelse
                              expression (testsuite/tests/typing-gadts/ambiguity.ml[249,6606+15]..[249,6606+16])
                                Pexp_ident "p" (testsuite/tests/typing-gadts/ambiguity.ml[249,6606+15]..[249,6606+16])
                              expression (testsuite/tests/typing-gadts/ambiguity.ml[249,6606+22]..[249,6606+23])
                                Pexp_ident "x" (testsuite/tests/typing-gadts/ambiguity.ml[249,6606+22]..[249,6606+23])
                              Some
                                expression (testsuite/tests/typing-gadts/ambiguity.ml[249,6606+29]..[249,6606+30])
                                  Pexp_ident "y" (testsuite/tests/typing-gadts/ambiguity.ml[249,6606+29]..[249,6606+30])
                        ]
                        expression (testsuite/tests/typing-gadts/ambiguity.ml[250,6640+4]..[254,6771+6])
                          Pexp_letmodule "N" (testsuite/tests/typing-gadts/ambiguity.ml[250,6640+15]..[250,6640+16])
                          module_expr (testsuite/tests/typing-gadts/ambiguity.ml[250,6640+19]..[252,6730+7])
                            Pmod_structure
                            [
                              structure_item (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+6]..[251,6666+63])
                                Pstr_modtype "S" (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+18]..[251,6666+19])
                                  module_type (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+22]..[251,6666+63])
                                    Pmty_typeof
                                    module_expr (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+37]..[251,6666+63])
                                      Pmod_structure
                                      [
                                        structure_item (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+44]..[251,6666+59])
                                          Pstr_value Nonrec
                                          [
                                            <def>
                                              pattern (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+48]..[251,6666+49])
                                                Ppat_var "r" (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+48]..[251,6666+49])
                                              expression (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+52]..[251,6666+59])
                                                Pexp_apply
                                                expression (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+52]..[251,6666+55])
                                                  Pexp_ident "ref" (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+52]..[251,6666+55])
                                                [
                                                  <arg>
                                                  Nolabel
                                                    expression (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+56]..[251,6666+59])
                                                      Pexp_construct "::" (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+57]..[251,6666+59]) ghost
                                                      Some
                                                        expression (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+57]..[251,6666+59]) ghost
                                                          Pexp_tuple
                                                          [
                                                            expression (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+57]..[251,6666+58])
                                                              Pexp_ident "z" (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+57]..[251,6666+58])
                                                            expression (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+58]..[251,6666+59]) ghost
                                                              Pexp_construct "[]" (testsuite/tests/typing-gadts/ambiguity.ml[251,6666+58]..[251,6666+59]) ghost
                                                              None
                                                          ]
                                                ]
                                          ]
                                      ]
                            ]
                          expression (testsuite/tests/typing-gadts/ambiguity.ml[253,6741+4]..[254,6771+6])
                            Pexp_letmodule "O" (testsuite/tests/typing-gadts/ambiguity.ml[253,6741+15]..[253,6741+16])
                            module_expr (testsuite/tests/typing-gadts/ambiguity.ml[253,6741+17]..[253,6741+26])
                              Pmod_constraint
                              module_expr (testsuite/tests/typing-gadts/ambiguity.ml[253,6741+25]..[253,6741+26])
                                Pmod_ident "M" (testsuite/tests/typing-gadts/ambiguity.ml[253,6741+25]..[253,6741+26])
                              module_type (testsuite/tests/typing-gadts/ambiguity.ml[253,6741+19]..[253,6741+22])
                                Pmty_ident "N.S" (testsuite/tests/typing-gadts/ambiguity.ml[253,6741+19]..[253,6741+22])
                            expression (testsuite/tests/typing-gadts/ambiguity.ml[254,6771+4]..[254,6771+6])
                              Pexp_construct "()" (testsuite/tests/typing-gadts/ambiguity.ml[254,6771+4]..[254,6771+6])
                              None
                  ]
    ]
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[256,6779+0]..[256,6779+32])
    Pstr_modtype "S" (testsuite/tests/typing-gadts/ambiguity.ml[256,6779+12]..[256,6779+13])
      module_type (testsuite/tests/typing-gadts/ambiguity.ml[256,6779+16]..[256,6779+32])
        Pmty_typeof
        module_expr (testsuite/tests/typing-gadts/ambiguity.ml[256,6779+31]..[256,6779+32])
          Pmod_ident "M" (testsuite/tests/typing-gadts/ambiguity.ml[256,6779+31]..[256,6779+32])
  structure_item (testsuite/tests/typing-gadts/ambiguity.ml[257,6815+0]..[275,7447+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/ambiguity.ml[257,6815+9]..[275,7447+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/ambiguity.ml[257,6815+9]..[275,7447+2])
          Pexp_constant PConst_string ("\nmodule M : sig val r : '_weak2 list ref end\nLine 12, characters 25-26:\n12 |     let module O : N.S = M in\n                              ^\nError: Signature mismatch:\n       Modules do not match:\n         sig val r : '_weak2 list ref end\n       is not included in\n         N.S\n       Values do not match:\n         val r : '_weak2 list ref\n       is not included in\n         val r : T.t list ref\n       The type '_weak2 list ref is not compatible with the type T.t list ref\n       Type '_weak2 is not compatible with type T.t = T.u\n       This instance of T.u is ambiguous:\n       it would escape the scope of its equation\n",(testsuite/tests/typing-gadts/ambiguity.ml[257,6815+11]..[275,7447+0]),Some "")
    ]
]

