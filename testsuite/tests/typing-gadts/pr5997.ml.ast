[
  structure_item (testsuite/tests/typing-gadts/pr5997.ml[5,24+0]..[7,66+24])
    Pstr_type Rec
    [
      type_declaration "comp" (testsuite/tests/typing-gadts/pr5997.ml[5,24+12]..[5,24+16]) (testsuite/tests/typing-gadts/pr5997.ml[5,24+0]..[7,66+24])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5997.ml[5,24+6]..[5,24+7])
              Ptyp_any
            core_type (testsuite/tests/typing-gadts/pr5997.ml[5,24+9]..[5,24+10])
              Ptyp_any
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr5997.ml[6,43+2]..[6,43+22])
                "Eq" (testsuite/tests/typing-gadts/pr5997.ml[6,43+4]..[6,43+6])
                []
                Some
                  core_type (testsuite/tests/typing-gadts/pr5997.ml[6,43+9]..[6,43+22])
                    Ptyp_constr "comp" (testsuite/tests/typing-gadts/pr5997.ml[6,43+18]..[6,43+22])
                    [
                      core_type (testsuite/tests/typing-gadts/pr5997.ml[6,43+10]..[6,43+12])
                        Ptyp_var a
                      core_type (testsuite/tests/typing-gadts/pr5997.ml[6,43+14]..[6,43+16])
                        Ptyp_var a
                    ]
              (testsuite/tests/typing-gadts/pr5997.ml[7,66+2]..[7,66+24])
                "Diff" (testsuite/tests/typing-gadts/pr5997.ml[7,66+4]..[7,66+8])
                []
                Some
                  core_type (testsuite/tests/typing-gadts/pr5997.ml[7,66+11]..[7,66+24])
                    Ptyp_constr "comp" (testsuite/tests/typing-gadts/pr5997.ml[7,66+20]..[7,66+24])
                    [
                      core_type (testsuite/tests/typing-gadts/pr5997.ml[7,66+12]..[7,66+14])
                        Ptyp_var a
                      core_type (testsuite/tests/typing-gadts/pr5997.ml[7,66+16]..[7,66+18])
                        Ptyp_var b
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr5997.ml[10,95+0]..[10,95+32])
    Pstr_module
    "U" (testsuite/tests/typing-gadts/pr5997.ml[10,95+7]..[10,95+8])
      module_expr (testsuite/tests/typing-gadts/pr5997.ml[10,95+11]..[10,95+32])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-gadts/pr5997.ml[10,95+18]..[10,95+28])
            Pstr_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-gadts/pr5997.ml[10,95+23]..[10,95+24]) (testsuite/tests/typing-gadts/pr5997.ml[10,95+18]..[10,95+28])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_variant
                    [
                      (testsuite/tests/typing-gadts/pr5997.ml[10,95+27]..[10,95+28])
                        "T" (testsuite/tests/typing-gadts/pr5997.ml[10,95+27]..[10,95+28])
                        []
                        None
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-gadts/pr5997.ml[12,131+0]..[18,227+3])
    Pstr_module
    "M" (testsuite/tests/typing-gadts/pr5997.ml[12,131+7]..[12,131+8])
      module_expr (testsuite/tests/typing-gadts/pr5997.ml[12,131+9]..[18,227+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-gadts/pr5997.ml[15,186+6]..[18,227+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-gadts/pr5997.ml[16,199+2]..[16,199+11])
              Pstr_include              module_expr (testsuite/tests/typing-gadts/pr5997.ml[16,199+10]..[16,199+11])
                Pmod_ident "U" (testsuite/tests/typing-gadts/pr5997.ml[16,199+10]..[16,199+11])
            structure_item (testsuite/tests/typing-gadts/pr5997.ml[17,211+2]..[17,211+15])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/typing-gadts/pr5997.ml[17,211+6]..[17,211+10])
                    Ppat_var "comp" (testsuite/tests/typing-gadts/pr5997.ml[17,211+6]..[17,211+10])
                  expression (testsuite/tests/typing-gadts/pr5997.ml[17,211+13]..[17,211+15])
                    Pexp_construct "Eq" (testsuite/tests/typing-gadts/pr5997.ml[17,211+13]..[17,211+15])
                    None
              ]
          ]
        module_type (testsuite/tests/typing-gadts/pr5997.ml[12,131+11]..[15,186+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-gadts/pr5997.ml[13,146+2]..[13,146+12])
              Psig_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-gadts/pr5997.ml[13,146+7]..[13,146+8]) (testsuite/tests/typing-gadts/pr5997.ml[13,146+2]..[13,146+12])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_variant
                      [
                        (testsuite/tests/typing-gadts/pr5997.ml[13,146+11]..[13,146+12])
                          "T" (testsuite/tests/typing-gadts/pr5997.ml[13,146+11]..[13,146+12])
                          []
                          None
                      ]
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-gadts/pr5997.ml[14,159+2]..[14,159+26])
              Psig_value
              value_description "comp" (testsuite/tests/typing-gadts/pr5997.ml[14,159+6]..[14,159+10]) (testsuite/tests/typing-gadts/pr5997.ml[14,159+2]..[14,159+26])
                core_type (testsuite/tests/typing-gadts/pr5997.ml[14,159+13]..[14,159+26])
                  Ptyp_constr "comp" (testsuite/tests/typing-gadts/pr5997.ml[14,159+22]..[14,159+26])
                  [
                    core_type (testsuite/tests/typing-gadts/pr5997.ml[14,159+14]..[14,159+17])
                      Ptyp_constr "U.t" (testsuite/tests/typing-gadts/pr5997.ml[14,159+14]..[14,159+17])
                      []
                    core_type (testsuite/tests/typing-gadts/pr5997.ml[14,159+19]..[14,159+20])
                      Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5997.ml[14,159+19]..[14,159+20])
                      []
                  ]
                []
          ]
  structure_item (testsuite/tests/typing-gadts/pr5997.ml[20,234+0]..[20,234+33])
    Pstr_eval
    expression (testsuite/tests/typing-gadts/pr5997.ml[20,234+0]..[20,234+33])
      Pexp_match
      expression (testsuite/tests/typing-gadts/pr5997.ml[20,234+6]..[20,234+12])
        Pexp_ident "M.comp" (testsuite/tests/typing-gadts/pr5997.ml[20,234+6]..[20,234+12])
      [
        <case>
          pattern (testsuite/tests/typing-gadts/pr5997.ml[20,234+20]..[20,234+24])
            Ppat_construct "Diff" (testsuite/tests/typing-gadts/pr5997.ml[20,234+20]..[20,234+24])
            None
          expression (testsuite/tests/typing-gadts/pr5997.ml[20,234+28]..[20,234+33])
            Pexp_construct "false" (testsuite/tests/typing-gadts/pr5997.ml[20,234+28]..[20,234+33])
            None
      ]
  structure_item (testsuite/tests/typing-gadts/pr5997.ml[21,270+0]..[32,693+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5997.ml[21,270+9]..[32,693+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5997.ml[21,270+9]..[32,693+2])
          Pexp_constant PConst_string ("\ntype (_, _) comp = Eq : ('a, 'a) comp | Diff : ('a, 'b) comp\nmodule U : sig type t = T end\nmodule M : sig type t = T val comp : (U.t, t) comp end\nLine 16, characters 0-33:\n16 | match M.comp with | Diff -> false;;\n     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nWarning 8 [partial-match]: this pattern-matching is not exhaustive.\nHere is an example of a case that is not matched:\nEq\nException: Match_failure (\"\", 16, 0).\n",(testsuite/tests/typing-gadts/pr5997.ml[21,270+11]..[32,693+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5997.ml[34,700+0]..[34,700+40])
    Pstr_module
    "U" (testsuite/tests/typing-gadts/pr5997.ml[34,700+7]..[34,700+8])
      module_expr (testsuite/tests/typing-gadts/pr5997.ml[34,700+11]..[34,700+40])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-gadts/pr5997.ml[34,700+18]..[34,700+36])
            Pstr_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-gadts/pr5997.ml[34,700+23]..[34,700+24]) (testsuite/tests/typing-gadts/pr5997.ml[34,700+18]..[34,700+36])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_record
                    [
                      (testsuite/tests/typing-gadts/pr5997.ml[34,700+28]..[34,700+35])
                        Immutable
                        "x" (testsuite/tests/typing-gadts/pr5997.ml[34,700+28]..[34,700+29])                        core_type (testsuite/tests/typing-gadts/pr5997.ml[34,700+32]..[34,700+35])
                          Ptyp_constr "int" (testsuite/tests/typing-gadts/pr5997.ml[34,700+32]..[34,700+35])
                          []
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-gadts/pr5997.ml[36,744+0]..[42,848+3])
    Pstr_module
    "M" (testsuite/tests/typing-gadts/pr5997.ml[36,744+7]..[36,744+8])
      module_expr (testsuite/tests/typing-gadts/pr5997.ml[36,744+9]..[42,848+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-gadts/pr5997.ml[39,807+6]..[42,848+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-gadts/pr5997.ml[40,820+2]..[40,820+11])
              Pstr_include              module_expr (testsuite/tests/typing-gadts/pr5997.ml[40,820+10]..[40,820+11])
                Pmod_ident "U" (testsuite/tests/typing-gadts/pr5997.ml[40,820+10]..[40,820+11])
            structure_item (testsuite/tests/typing-gadts/pr5997.ml[41,832+2]..[41,832+15])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/typing-gadts/pr5997.ml[41,832+6]..[41,832+10])
                    Ppat_var "comp" (testsuite/tests/typing-gadts/pr5997.ml[41,832+6]..[41,832+10])
                  expression (testsuite/tests/typing-gadts/pr5997.ml[41,832+13]..[41,832+15])
                    Pexp_construct "Eq" (testsuite/tests/typing-gadts/pr5997.ml[41,832+13]..[41,832+15])
                    None
              ]
          ]
        module_type (testsuite/tests/typing-gadts/pr5997.ml[36,744+11]..[39,807+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-gadts/pr5997.ml[37,759+2]..[37,759+20])
              Psig_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-gadts/pr5997.ml[37,759+7]..[37,759+8]) (testsuite/tests/typing-gadts/pr5997.ml[37,759+2]..[37,759+20])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_record
                      [
                        (testsuite/tests/typing-gadts/pr5997.ml[37,759+12]..[37,759+19])
                          Immutable
                          "x" (testsuite/tests/typing-gadts/pr5997.ml[37,759+12]..[37,759+13])                          core_type (testsuite/tests/typing-gadts/pr5997.ml[37,759+16]..[37,759+19])
                            Ptyp_constr "int" (testsuite/tests/typing-gadts/pr5997.ml[37,759+16]..[37,759+19])
                            []
                      ]
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-gadts/pr5997.ml[38,780+2]..[38,780+26])
              Psig_value
              value_description "comp" (testsuite/tests/typing-gadts/pr5997.ml[38,780+6]..[38,780+10]) (testsuite/tests/typing-gadts/pr5997.ml[38,780+2]..[38,780+26])
                core_type (testsuite/tests/typing-gadts/pr5997.ml[38,780+13]..[38,780+26])
                  Ptyp_constr "comp" (testsuite/tests/typing-gadts/pr5997.ml[38,780+22]..[38,780+26])
                  [
                    core_type (testsuite/tests/typing-gadts/pr5997.ml[38,780+14]..[38,780+17])
                      Ptyp_constr "U.t" (testsuite/tests/typing-gadts/pr5997.ml[38,780+14]..[38,780+17])
                      []
                    core_type (testsuite/tests/typing-gadts/pr5997.ml[38,780+19]..[38,780+20])
                      Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5997.ml[38,780+19]..[38,780+20])
                      []
                  ]
                []
          ]
  structure_item (testsuite/tests/typing-gadts/pr5997.ml[44,855+0]..[44,855+33])
    Pstr_eval
    expression (testsuite/tests/typing-gadts/pr5997.ml[44,855+0]..[44,855+33])
      Pexp_match
      expression (testsuite/tests/typing-gadts/pr5997.ml[44,855+6]..[44,855+12])
        Pexp_ident "M.comp" (testsuite/tests/typing-gadts/pr5997.ml[44,855+6]..[44,855+12])
      [
        <case>
          pattern (testsuite/tests/typing-gadts/pr5997.ml[44,855+20]..[44,855+24])
            Ppat_construct "Diff" (testsuite/tests/typing-gadts/pr5997.ml[44,855+20]..[44,855+24])
            None
          expression (testsuite/tests/typing-gadts/pr5997.ml[44,855+28]..[44,855+33])
            Pexp_construct "false" (testsuite/tests/typing-gadts/pr5997.ml[44,855+28]..[44,855+33])
            None
      ]
  structure_item (testsuite/tests/typing-gadts/pr5997.ml[45,891+0]..[55,1275+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5997.ml[45,891+9]..[55,1275+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5997.ml[45,891+9]..[55,1275+2])
          Pexp_constant PConst_string ("\nmodule U : sig type t = { x : int; } end\nmodule M : sig type t = { x : int; } val comp : (U.t, t) comp end\nLine 11, characters 0-33:\n11 | match M.comp with | Diff -> false;;\n     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nWarning 8 [partial-match]: this pattern-matching is not exhaustive.\nHere is an example of a case that is not matched:\nEq\nException: Match_failure (\"\", 11, 0).\n",(testsuite/tests/typing-gadts/pr5997.ml[45,891+11]..[55,1275+0]),Some "")
    ]
]

