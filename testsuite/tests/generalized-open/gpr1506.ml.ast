[
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[5,24+0]..[5,24+10])
    Pstr_type Rec
    [
      type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[5,24+5]..[5,24+6]) (testsuite/tests/generalized-open/gpr1506.ml[5,24+0]..[5,24+10])
        ptype_params =
          []
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/generalized-open/gpr1506.ml[5,24+9]..[5,24+10])
                "A" (testsuite/tests/generalized-open/gpr1506.ml[5,24+9]..[5,24+10])
                []
                None
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[6,35+0]..[8,58+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[6,35+9]..[8,58+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[6,35+9]..[8,58+2])
          Pexp_constant PConst_string ("\ntype t = A\n",(testsuite/tests/generalized-open/gpr1506.ml[6,35+11]..[8,58+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[10,63+0]..[13,142+3])
    Pstr_module
    "M" (testsuite/tests/generalized-open/gpr1506.ml[10,63+7]..[10,63+8])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[10,63+11]..[13,142+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/generalized-open/gpr1506.ml[11,81+4]..[11,81+31])
            Pstr_open Fresh
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[11,81+9]..[11,81+31])
              Pmod_structure
              [
                structure_item (testsuite/tests/generalized-open/gpr1506.ml[11,81+16]..[11,81+27])
                  Pstr_type Rec
                  [
                    type_declaration "t'" (testsuite/tests/generalized-open/gpr1506.ml[11,81+21]..[11,81+23]) (testsuite/tests/generalized-open/gpr1506.ml[11,81+16]..[11,81+27])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        Some
                          core_type (testsuite/tests/generalized-open/gpr1506.ml[11,81+26]..[11,81+27])
                            Ptyp_constr "t" (testsuite/tests/generalized-open/gpr1506.ml[11,81+26]..[11,81+27])
                            []
                  ]
              ]
          structure_item (testsuite/tests/generalized-open/gpr1506.ml[12,113+4]..[12,113+28])
            Pstr_type Rec
            [
              type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[12,113+9]..[12,113+10]) (testsuite/tests/generalized-open/gpr1506.ml[12,113+4]..[12,113+28])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_variant
                    [
                      (testsuite/tests/generalized-open/gpr1506.ml[12,113+13]..[12,113+24])
                        "B" (testsuite/tests/generalized-open/gpr1506.ml[12,113+13]..[12,113+14])
                        [
                          core_type (testsuite/tests/generalized-open/gpr1506.ml[12,113+18]..[12,113+19])
                            Ptyp_constr "t" (testsuite/tests/generalized-open/gpr1506.ml[12,113+18]..[12,113+19])
                            []
                          core_type (testsuite/tests/generalized-open/gpr1506.ml[12,113+22]..[12,113+24])
                            Ptyp_constr "t'" (testsuite/tests/generalized-open/gpr1506.ml[12,113+22]..[12,113+24])
                            []
                        ]
                        None
                      (testsuite/tests/generalized-open/gpr1506.ml[12,113+25]..[12,113+28])
                        "C" (testsuite/tests/generalized-open/gpr1506.ml[12,113+27]..[12,113+28])
                        []
                        None
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[14,146+0]..[16,205+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[14,146+9]..[16,205+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[14,146+9]..[16,205+2])
          Pexp_constant PConst_string ("\nmodule M : sig type t = B of t/1 * t/2 | C end\n",(testsuite/tests/generalized-open/gpr1506.ml[14,146+11]..[16,205+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[19,221+0]..[22,274+3])
    Pstr_include    module_expr (testsuite/tests/generalized-open/gpr1506.ml[19,221+8]..[22,274+3])
      Pmod_structure
      [
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[20,236+2]..[20,236+8])
          Pstr_open Fresh
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[20,236+7]..[20,236+8])
            Pmod_ident "M" (testsuite/tests/generalized-open/gpr1506.ml[20,236+7]..[20,236+8])
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[21,245+2]..[21,245+28])
          Pstr_value Nonrec
          [
            <def>
              pattern (testsuite/tests/generalized-open/gpr1506.ml[21,245+6]..[21,245+10])
                Ppat_var "test" (testsuite/tests/generalized-open/gpr1506.ml[21,245+6]..[21,245+10])
              expression (testsuite/tests/generalized-open/gpr1506.ml[21,245+13]..[21,245+28])
                Pexp_construct "B" (testsuite/tests/generalized-open/gpr1506.ml[21,245+13]..[21,245+14])
                Some
                  expression (testsuite/tests/generalized-open/gpr1506.ml[21,245+15]..[21,245+28])
                    Pexp_tuple
                    [
                      expression (testsuite/tests/generalized-open/gpr1506.ml[21,245+16]..[21,245+24])
                        Pexp_construct "B" (testsuite/tests/generalized-open/gpr1506.ml[21,245+16]..[21,245+17])
                        Some
                          expression (testsuite/tests/generalized-open/gpr1506.ml[21,245+18]..[21,245+24])
                            Pexp_tuple
                            [
                              expression (testsuite/tests/generalized-open/gpr1506.ml[21,245+19]..[21,245+20])
                                Pexp_construct "C" (testsuite/tests/generalized-open/gpr1506.ml[21,245+19]..[21,245+20])
                                None
                              expression (testsuite/tests/generalized-open/gpr1506.ml[21,245+22]..[21,245+23])
                                Pexp_construct "A" (testsuite/tests/generalized-open/gpr1506.ml[21,245+22]..[21,245+23])
                                None
                            ]
                      expression (testsuite/tests/generalized-open/gpr1506.ml[21,245+26]..[21,245+27])
                        Pexp_construct "A" (testsuite/tests/generalized-open/gpr1506.ml[21,245+26]..[21,245+27])
                        None
                    ]
          ]
      ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[23,278+0]..[25,329+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[23,278+9]..[25,329+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[23,278+9]..[25,329+2])
          Pexp_constant PConst_string ("\nval test : M.t = M.B (M.B (M.C, A), A)\n",(testsuite/tests/generalized-open/gpr1506.ml[23,278+11]..[25,329+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[27,334+0]..[31,427+3])
    Pstr_include    module_expr (testsuite/tests/generalized-open/gpr1506.ml[27,334+8]..[31,427+3])
      Pmod_structure
      [
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[28,349+2]..[28,349+37])
          Pstr_open Fresh
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[28,349+7]..[28,349+37])
            Pmod_structure
            [
              structure_item (testsuite/tests/generalized-open/gpr1506.ml[28,349+14]..[28,349+33])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/generalized-open/gpr1506.ml[28,349+18]..[28,349+21])
                      Ppat_var "aux" (testsuite/tests/generalized-open/gpr1506.ml[28,349+18]..[28,349+21])
                    expression (testsuite/tests/generalized-open/gpr1506.ml[28,349+22]..[28,349+33]) ghost
                      Pexp_fun
                      Nolabel
                      None
                      pattern (testsuite/tests/generalized-open/gpr1506.ml[28,349+22]..[28,349+23])
                        Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[28,349+22]..[28,349+23])
                      expression (testsuite/tests/generalized-open/gpr1506.ml[28,349+24]..[28,349+33]) ghost
                        Pexp_fun
                        Nolabel
                        None
                        pattern (testsuite/tests/generalized-open/gpr1506.ml[28,349+24]..[28,349+25])
                          Ppat_var "y" (testsuite/tests/generalized-open/gpr1506.ml[28,349+24]..[28,349+25])
                        expression (testsuite/tests/generalized-open/gpr1506.ml[28,349+28]..[28,349+33])
                          Pexp_apply
                          expression (testsuite/tests/generalized-open/gpr1506.ml[28,349+30]..[28,349+31])
                            Pexp_ident "/" (testsuite/tests/generalized-open/gpr1506.ml[28,349+30]..[28,349+31])
                          [
                            <arg>
                            Nolabel
                              expression (testsuite/tests/generalized-open/gpr1506.ml[28,349+28]..[28,349+29])
                                Pexp_ident "x" (testsuite/tests/generalized-open/gpr1506.ml[28,349+28]..[28,349+29])
                            <arg>
                            Nolabel
                              expression (testsuite/tests/generalized-open/gpr1506.ml[28,349+32]..[28,349+33])
                                Pexp_ident "y" (testsuite/tests/generalized-open/gpr1506.ml[28,349+32]..[28,349+33])
                          ]
                ]
            ]
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[29,387+2]..[29,387+19])
          Pstr_value Nonrec
          [
            <def>
              pattern (testsuite/tests/generalized-open/gpr1506.ml[29,387+6]..[29,387+7])
                Ppat_var "f" (testsuite/tests/generalized-open/gpr1506.ml[29,387+6]..[29,387+7])
              expression (testsuite/tests/generalized-open/gpr1506.ml[29,387+8]..[29,387+19]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/generalized-open/gpr1506.ml[29,387+8]..[29,387+9])
                  Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[29,387+8]..[29,387+9])
                expression (testsuite/tests/generalized-open/gpr1506.ml[29,387+12]..[29,387+19])
                  Pexp_apply
                  expression (testsuite/tests/generalized-open/gpr1506.ml[29,387+12]..[29,387+15])
                    Pexp_ident "aux" (testsuite/tests/generalized-open/gpr1506.ml[29,387+12]..[29,387+15])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[29,387+16]..[29,387+17])
                        Pexp_ident "x" (testsuite/tests/generalized-open/gpr1506.ml[29,387+16]..[29,387+17])
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[29,387+18]..[29,387+19])
                        Pexp_constant PConst_int (2,None)
                  ]
          ]
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[30,407+2]..[30,407+19])
          Pstr_value Nonrec
          [
            <def>
              pattern (testsuite/tests/generalized-open/gpr1506.ml[30,407+6]..[30,407+7])
                Ppat_var "g" (testsuite/tests/generalized-open/gpr1506.ml[30,407+6]..[30,407+7])
              expression (testsuite/tests/generalized-open/gpr1506.ml[30,407+8]..[30,407+19]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/generalized-open/gpr1506.ml[30,407+8]..[30,407+9])
                  Ppat_var "y" (testsuite/tests/generalized-open/gpr1506.ml[30,407+8]..[30,407+9])
                expression (testsuite/tests/generalized-open/gpr1506.ml[30,407+12]..[30,407+19])
                  Pexp_apply
                  expression (testsuite/tests/generalized-open/gpr1506.ml[30,407+12]..[30,407+15])
                    Pexp_ident "aux" (testsuite/tests/generalized-open/gpr1506.ml[30,407+12]..[30,407+15])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[30,407+16]..[30,407+17])
                        Pexp_constant PConst_int (3,None)
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[30,407+18]..[30,407+19])
                        Pexp_ident "y" (testsuite/tests/generalized-open/gpr1506.ml[30,407+18]..[30,407+19])
                  ]
          ]
      ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[32,431+0]..[35,497+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[32,431+9]..[35,497+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[32,431+9]..[35,497+2])
          Pexp_constant PConst_string ("\nval f : int -> int = <fun>\nval g : int -> int = <fun>\n",(testsuite/tests/generalized-open/gpr1506.ml[32,431+11]..[35,497+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[37,504+0]..[43,670+3])
    Pstr_include    module_expr (testsuite/tests/generalized-open/gpr1506.ml[37,504+8]..[43,670+3])
      Pmod_structure
      [
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[38,519+2]..[38,519+37])
          Pstr_open Fresh
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[38,519+7]..[38,519+37])
            Pmod_structure
            [
              structure_item (testsuite/tests/generalized-open/gpr1506.ml[38,519+14]..[38,519+33])
                Pstr_exception
                type_exception
                  ptyext_constructor =
                    extension_constructor (testsuite/tests/generalized-open/gpr1506.ml[38,519+14]..[38,519+33])
                      pext_name = "Interrupt"
                      pext_kind =
                        Pext_decl
                          []
                          None
            ]
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[39,557+2]..[40,572+19])
          Pstr_value Nonrec
          [
            <def>
              pattern (testsuite/tests/generalized-open/gpr1506.ml[39,557+6]..[39,557+9])
                Ppat_var "run" (testsuite/tests/generalized-open/gpr1506.ml[39,557+6]..[39,557+9])
              expression (testsuite/tests/generalized-open/gpr1506.ml[39,557+10]..[40,572+19]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/generalized-open/gpr1506.ml[39,557+10]..[39,557+12])
                  Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[39,557+10]..[39,557+12])
                  None
                expression (testsuite/tests/generalized-open/gpr1506.ml[40,572+4]..[40,572+19])
                  Pexp_apply
                  expression (testsuite/tests/generalized-open/gpr1506.ml[40,572+4]..[40,572+9])
                    Pexp_ident "raise" (testsuite/tests/generalized-open/gpr1506.ml[40,572+4]..[40,572+9])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[40,572+10]..[40,572+19])
                        Pexp_construct "Interrupt" (testsuite/tests/generalized-open/gpr1506.ml[40,572+10]..[40,572+19])
                        None
                  ]
          ]
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[41,592+2]..[42,603+66])
          Pstr_value Nonrec
          [
            <def>
              pattern (testsuite/tests/generalized-open/gpr1506.ml[41,592+6]..[41,592+8])
                Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[41,592+6]..[41,592+8])
                None
              expression (testsuite/tests/generalized-open/gpr1506.ml[42,603+4]..[42,603+66])
                Pexp_match
                expression (testsuite/tests/generalized-open/gpr1506.ml[42,603+10]..[42,603+15])
                  Pexp_apply
                  expression (testsuite/tests/generalized-open/gpr1506.ml[42,603+10]..[42,603+13])
                    Pexp_ident "run" (testsuite/tests/generalized-open/gpr1506.ml[42,603+10]..[42,603+13])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[42,603+13]..[42,603+15])
                        Pexp_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[42,603+13]..[42,603+15])
                        None
                  ]
                [
                  <case>
                    pattern (testsuite/tests/generalized-open/gpr1506.ml[42,603+21]..[42,603+40])
                      Ppat_exception
                      pattern (testsuite/tests/generalized-open/gpr1506.ml[42,603+31]..[42,603+40])
                        Ppat_construct "Interrupt" (testsuite/tests/generalized-open/gpr1506.ml[42,603+31]..[42,603+40])
                        None
                    expression (testsuite/tests/generalized-open/gpr1506.ml[42,603+44]..[42,603+46])
                      Pexp_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[42,603+44]..[42,603+46])
                      None
                  <case>
                    pattern (testsuite/tests/generalized-open/gpr1506.ml[42,603+49]..[42,603+50])
                      Ppat_any
                    expression (testsuite/tests/generalized-open/gpr1506.ml[42,603+54]..[42,603+66])
                      Pexp_assert
                      expression (testsuite/tests/generalized-open/gpr1506.ml[42,603+61]..[42,603+66])
                        Pexp_construct "false" (testsuite/tests/generalized-open/gpr1506.ml[42,603+61]..[42,603+66])
                        None
                ]
          ]
      ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[44,674+0]..[46,715+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[44,674+9]..[46,715+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[44,674+9]..[46,715+2])
          Pexp_constant PConst_string ("\nval run : unit -> 'a = <fun>\n",(testsuite/tests/generalized-open/gpr1506.ml[44,674+11]..[46,715+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[71,1039+0]..[74,1128+3])
    Pstr_module
    "M" (testsuite/tests/generalized-open/gpr1506.ml[71,1039+7]..[71,1039+8])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[71,1039+11]..[74,1128+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/generalized-open/gpr1506.ml[72,1057+2]..[72,1057+49])
            Pstr_module
            "M" (testsuite/tests/generalized-open/gpr1506.ml[72,1057+9]..[72,1057+10])
              module_expr (testsuite/tests/generalized-open/gpr1506.ml[72,1057+11]..[72,1057+49])
                Pmod_functor "F" (testsuite/tests/generalized-open/gpr1506.ml[72,1057+12]..[72,1057+13])
                module_type (testsuite/tests/generalized-open/gpr1506.ml[72,1057+15]..[72,1057+22])
                  Pmty_signature
                  []
                module_expr (testsuite/tests/generalized-open/gpr1506.ml[72,1057+24]..[72,1057+49])
                  Pmod_functor "X" (testsuite/tests/generalized-open/gpr1506.ml[72,1057+25]..[72,1057+26])
                  module_type (testsuite/tests/generalized-open/gpr1506.ml[72,1057+28]..[72,1057+35])
                    Pmty_signature
                    []
                  module_expr (testsuite/tests/generalized-open/gpr1506.ml[72,1057+39]..[72,1057+49])
                    Pmod_structure
                    []
          structure_item (testsuite/tests/generalized-open/gpr1506.ml[73,1107+2]..[73,1107+20])
            Pstr_open Fresh
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[73,1107+7]..[73,1107+20])
              Pmod_apply
              module_expr (testsuite/tests/generalized-open/gpr1506.ml[73,1107+7]..[73,1107+8])
                Pmod_ident "M" (testsuite/tests/generalized-open/gpr1506.ml[73,1107+7]..[73,1107+8])
              module_expr (testsuite/tests/generalized-open/gpr1506.ml[73,1107+9]..[73,1107+19])
                Pmod_structure
                []
        ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[75,1132+0]..[81,1310+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[75,1132+9]..[81,1310+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[75,1132+9]..[81,1310+2])
          Pexp_constant PConst_string ("\nLine 3, characters 7-20:\n3 |   open M(struct end)\n           ^^^^^^^^^^^^^\nError: This module is not a structure; it has type\n       functor (X : sig end) -> sig end\n",(testsuite/tests/generalized-open/gpr1506.ml[75,1132+11]..[81,1310+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[83,1315+0]..[88,1449+3])
    Pstr_open Fresh
    module_expr (testsuite/tests/generalized-open/gpr1506.ml[83,1315+5]..[88,1449+3])
      Pmod_structure
      [
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[84,1327+2]..[84,1327+37])
          Pstr_open Fresh
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[84,1327+7]..[84,1327+37])
            Pmod_structure
            [
              structure_item (testsuite/tests/generalized-open/gpr1506.ml[84,1327+14]..[84,1327+33])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/generalized-open/gpr1506.ml[84,1327+18]..[84,1327+25])
                      Ppat_var "counter" (testsuite/tests/generalized-open/gpr1506.ml[84,1327+18]..[84,1327+25])
                    expression (testsuite/tests/generalized-open/gpr1506.ml[84,1327+28]..[84,1327+33])
                      Pexp_apply
                      expression (testsuite/tests/generalized-open/gpr1506.ml[84,1327+28]..[84,1327+31])
                        Pexp_ident "ref" (testsuite/tests/generalized-open/gpr1506.ml[84,1327+28]..[84,1327+31])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/generalized-open/gpr1506.ml[84,1327+32]..[84,1327+33])
                            Pexp_constant PConst_int (0,None)
                      ]
                ]
            ]
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[85,1365+2]..[85,1365+27])
          Pstr_value Nonrec
          [
            <def>
              pattern (testsuite/tests/generalized-open/gpr1506.ml[85,1365+6]..[85,1365+9])
                Ppat_var "inc" (testsuite/tests/generalized-open/gpr1506.ml[85,1365+6]..[85,1365+9])
              expression (testsuite/tests/generalized-open/gpr1506.ml[85,1365+10]..[85,1365+27]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/generalized-open/gpr1506.ml[85,1365+10]..[85,1365+12])
                  Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[85,1365+10]..[85,1365+12])
                  None
                expression (testsuite/tests/generalized-open/gpr1506.ml[85,1365+15]..[85,1365+27])
                  Pexp_apply
                  expression (testsuite/tests/generalized-open/gpr1506.ml[85,1365+15]..[85,1365+19])
                    Pexp_ident "incr" (testsuite/tests/generalized-open/gpr1506.ml[85,1365+15]..[85,1365+19])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[85,1365+20]..[85,1365+27])
                        Pexp_ident "counter" (testsuite/tests/generalized-open/gpr1506.ml[85,1365+20]..[85,1365+27])
                  ]
          ]
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[86,1393+2]..[86,1393+27])
          Pstr_value Nonrec
          [
            <def>
              pattern (testsuite/tests/generalized-open/gpr1506.ml[86,1393+6]..[86,1393+9])
                Ppat_var "dec" (testsuite/tests/generalized-open/gpr1506.ml[86,1393+6]..[86,1393+9])
              expression (testsuite/tests/generalized-open/gpr1506.ml[86,1393+10]..[86,1393+27]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/generalized-open/gpr1506.ml[86,1393+10]..[86,1393+12])
                  Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[86,1393+10]..[86,1393+12])
                  None
                expression (testsuite/tests/generalized-open/gpr1506.ml[86,1393+15]..[86,1393+27])
                  Pexp_apply
                  expression (testsuite/tests/generalized-open/gpr1506.ml[86,1393+15]..[86,1393+19])
                    Pexp_ident "decr" (testsuite/tests/generalized-open/gpr1506.ml[86,1393+15]..[86,1393+19])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[86,1393+20]..[86,1393+27])
                        Pexp_ident "counter" (testsuite/tests/generalized-open/gpr1506.ml[86,1393+20]..[86,1393+27])
                  ]
          ]
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[87,1421+2]..[87,1421+27])
          Pstr_value Nonrec
          [
            <def>
              pattern (testsuite/tests/generalized-open/gpr1506.ml[87,1421+6]..[87,1421+13])
                Ppat_var "current" (testsuite/tests/generalized-open/gpr1506.ml[87,1421+6]..[87,1421+13])
              expression (testsuite/tests/generalized-open/gpr1506.ml[87,1421+14]..[87,1421+27]) ghost
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/generalized-open/gpr1506.ml[87,1421+14]..[87,1421+16])
                  Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[87,1421+14]..[87,1421+16])
                  None
                expression (testsuite/tests/generalized-open/gpr1506.ml[87,1421+19]..[87,1421+27])
                  Pexp_apply
                  expression (testsuite/tests/generalized-open/gpr1506.ml[87,1421+19]..[87,1421+20])
                    Pexp_ident "!" (testsuite/tests/generalized-open/gpr1506.ml[87,1421+19]..[87,1421+20])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[87,1421+20]..[87,1421+27])
                        Pexp_ident "counter" (testsuite/tests/generalized-open/gpr1506.ml[87,1421+20]..[87,1421+27])
                  ]
          ]
      ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[89,1453+0]..[93,1561+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[89,1453+9]..[93,1561+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[89,1453+9]..[93,1561+2])
          Pexp_constant PConst_string ("\nval inc : unit -> unit = <fun>\nval dec : unit -> unit = <fun>\nval current : unit -> int = <fun>\n",(testsuite/tests/generalized-open/gpr1506.ml[89,1453+11]..[93,1561+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[95,1566+0]..[97,1599+25])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/generalized-open/gpr1506.ml[95,1566+4]..[95,1566+6])
          Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[95,1566+4]..[95,1566+6])
          None
        expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+2]..[97,1599+25])
          Pexp_sequence
          expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+2]..[96,1575+7])
            Pexp_apply
            expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+2]..[96,1575+5])
              Pexp_ident "inc" (testsuite/tests/generalized-open/gpr1506.ml[96,1575+2]..[96,1575+5])
            [
              <arg>
              Nolabel
                expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+5]..[96,1575+7])
                  Pexp_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[96,1575+5]..[96,1575+7])
                  None
            ]
          expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+9]..[97,1599+25])
            Pexp_sequence
            expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+9]..[96,1575+14])
              Pexp_apply
              expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+9]..[96,1575+12])
                Pexp_ident "inc" (testsuite/tests/generalized-open/gpr1506.ml[96,1575+9]..[96,1575+12])
              [
                <arg>
                Nolabel
                  expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+12]..[96,1575+14])
                    Pexp_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[96,1575+12]..[96,1575+14])
                    None
              ]
            expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+16]..[97,1599+25])
              Pexp_sequence
              expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+16]..[96,1575+22])
                Pexp_apply
                expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+16]..[96,1575+19])
                  Pexp_ident "dec" (testsuite/tests/generalized-open/gpr1506.ml[96,1575+16]..[96,1575+19])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/generalized-open/gpr1506.ml[96,1575+20]..[96,1575+22])
                      Pexp_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[96,1575+20]..[96,1575+22])
                      None
                ]
              expression (testsuite/tests/generalized-open/gpr1506.ml[97,1599+2]..[97,1599+25])
                Pexp_assert
                expression (testsuite/tests/generalized-open/gpr1506.ml[97,1599+9]..[97,1599+25])
                  Pexp_apply
                  expression (testsuite/tests/generalized-open/gpr1506.ml[97,1599+21]..[97,1599+22])
                    Pexp_ident "=" (testsuite/tests/generalized-open/gpr1506.ml[97,1599+21]..[97,1599+22])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[97,1599+10]..[97,1599+20])
                        Pexp_apply
                        expression (testsuite/tests/generalized-open/gpr1506.ml[97,1599+10]..[97,1599+17])
                          Pexp_ident "current" (testsuite/tests/generalized-open/gpr1506.ml[97,1599+10]..[97,1599+17])
                        [
                          <arg>
                          Nolabel
                            expression (testsuite/tests/generalized-open/gpr1506.ml[97,1599+18]..[97,1599+20])
                              Pexp_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[97,1599+18]..[97,1599+20])
                              None
                        ]
                    <arg>
                    Nolabel
                      expression (testsuite/tests/generalized-open/gpr1506.ml[97,1599+23]..[97,1599+24])
                        Pexp_constant PConst_int (1,None)
                  ]
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[98,1625+0]..[99,1637+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[98,1625+9]..[99,1637+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[98,1625+9]..[99,1637+2])
          Pexp_constant PConst_string ("\n",(testsuite/tests/generalized-open/gpr1506.ml[98,1625+11]..[99,1637+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[101,1644+0]..[101,1644+55])
    Pstr_include    module_expr (testsuite/tests/generalized-open/gpr1506.ml[101,1644+8]..[101,1644+55])
      Pmod_structure
      [
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[101,1644+15]..[101,1644+41])
          Pstr_open Fresh
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[101,1644+20]..[101,1644+41])
            Pmod_structure
            [
              structure_item (testsuite/tests/generalized-open/gpr1506.ml[101,1644+27]..[101,1644+37])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[101,1644+32]..[101,1644+33]) (testsuite/tests/generalized-open/gpr1506.ml[101,1644+27]..[101,1644+37])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/generalized-open/gpr1506.ml[101,1644+36]..[101,1644+37])
                            "T" (testsuite/tests/generalized-open/gpr1506.ml[101,1644+36]..[101,1644+37])
                            []
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
            ]
        structure_item (testsuite/tests/generalized-open/gpr1506.ml[101,1644+42]..[101,1644+51])
          Pstr_value Nonrec
          [
            <def>
              pattern (testsuite/tests/generalized-open/gpr1506.ml[101,1644+46]..[101,1644+47])
                Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[101,1644+46]..[101,1644+47])
              expression (testsuite/tests/generalized-open/gpr1506.ml[101,1644+50]..[101,1644+51])
                Pexp_construct "T" (testsuite/tests/generalized-open/gpr1506.ml[101,1644+50]..[101,1644+51])
                None
          ]
      ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[102,1700+0]..[109,2006+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[102,1700+9]..[109,2006+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[102,1700+9]..[109,2006+2])
          Pexp_constant PConst_string ("\nLine 1, characters 15-41:\n1 | include struct open struct type t = T end let x = T end\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The type t/152 introduced by this open appears in the signature\n       Line 1, characters 46-47:\n         The value x has no valid type if t/152 is hidden\n",(testsuite/tests/generalized-open/gpr1506.ml[102,1700+11]..[109,2006+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[111,2013+0]..[119,2122+3])
    Pstr_module
    "A" (testsuite/tests/generalized-open/gpr1506.ml[111,2013+7]..[111,2013+8])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[111,2013+11]..[119,2122+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/generalized-open/gpr1506.ml[112,2031+2]..[118,2116+5])
            Pstr_open Fresh
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[112,2031+7]..[118,2116+5])
              Pmod_structure
              [
                structure_item (testsuite/tests/generalized-open/gpr1506.ml[113,2045+4]..[116,2094+7])
                  Pstr_open Fresh
                  module_expr (testsuite/tests/generalized-open/gpr1506.ml[113,2045+9]..[116,2094+7])
                    Pmod_structure
                    [
                      structure_item (testsuite/tests/generalized-open/gpr1506.ml[114,2061+6]..[114,2061+16])
                        Pstr_type Rec
                        [
                          type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[114,2061+11]..[114,2061+12]) (testsuite/tests/generalized-open/gpr1506.ml[114,2061+6]..[114,2061+16])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_variant
                                [
                                  (testsuite/tests/generalized-open/gpr1506.ml[114,2061+15]..[114,2061+16])
                                    "T" (testsuite/tests/generalized-open/gpr1506.ml[114,2061+15]..[114,2061+16])
                                    []
                                    None
                                ]
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                      structure_item (testsuite/tests/generalized-open/gpr1506.ml[115,2078+6]..[115,2078+15])
                        Pstr_value Nonrec
                        [
                          <def>
                            pattern (testsuite/tests/generalized-open/gpr1506.ml[115,2078+10]..[115,2078+11])
                              Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[115,2078+10]..[115,2078+11])
                            expression (testsuite/tests/generalized-open/gpr1506.ml[115,2078+14]..[115,2078+15])
                              Pexp_construct "T" (testsuite/tests/generalized-open/gpr1506.ml[115,2078+14]..[115,2078+15])
                              None
                        ]
                    ]
                structure_item (testsuite/tests/generalized-open/gpr1506.ml[117,2102+4]..[117,2102+13])
                  Pstr_value Nonrec
                  [
                    <def>
                      pattern (testsuite/tests/generalized-open/gpr1506.ml[117,2102+8]..[117,2102+9])
                        Ppat_var "y" (testsuite/tests/generalized-open/gpr1506.ml[117,2102+8]..[117,2102+9])
                      expression (testsuite/tests/generalized-open/gpr1506.ml[117,2102+12]..[117,2102+13])
                        Pexp_ident "x" (testsuite/tests/generalized-open/gpr1506.ml[117,2102+12]..[117,2102+13])
                  ]
              ]
        ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[120,2126+0]..[129,2398+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[120,2126+9]..[129,2398+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[120,2126+9]..[129,2398+2])
          Pexp_constant PConst_string ("\nLines 3-6, characters 4-7:\n3 | ....open struct\n4 |       type t = T\n5 |       let x = T\n6 |     end\nError: The type t/157 introduced by this open appears in the signature\n       Line 7, characters 8-9:\n         The value y has no valid type if t/157 is hidden\n",(testsuite/tests/generalized-open/gpr1506.ml[120,2126+11]..[129,2398+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[131,2405+0]..[139,2510+3])
    Pstr_module
    "A" (testsuite/tests/generalized-open/gpr1506.ml[131,2405+7]..[131,2405+8])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[131,2405+11]..[139,2510+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/generalized-open/gpr1506.ml[132,2423+2]..[137,2492+5])
            Pstr_open Fresh
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[132,2423+7]..[137,2492+5])
              Pmod_structure
              [
                structure_item (testsuite/tests/generalized-open/gpr1506.ml[133,2437+4]..[135,2470+7])
                  Pstr_open Fresh
                  module_expr (testsuite/tests/generalized-open/gpr1506.ml[133,2437+9]..[135,2470+7])
                    Pmod_structure
                    [
                      structure_item (testsuite/tests/generalized-open/gpr1506.ml[134,2453+6]..[134,2453+16])
                        Pstr_type Rec
                        [
                          type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[134,2453+11]..[134,2453+12]) (testsuite/tests/generalized-open/gpr1506.ml[134,2453+6]..[134,2453+16])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_variant
                                [
                                  (testsuite/tests/generalized-open/gpr1506.ml[134,2453+15]..[134,2453+16])
                                    "T" (testsuite/tests/generalized-open/gpr1506.ml[134,2453+15]..[134,2453+16])
                                    []
                                    None
                                ]
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                structure_item (testsuite/tests/generalized-open/gpr1506.ml[136,2478+4]..[136,2478+13])
                  Pstr_value Nonrec
                  [
                    <def>
                      pattern (testsuite/tests/generalized-open/gpr1506.ml[136,2478+8]..[136,2478+9])
                        Ppat_var "y" (testsuite/tests/generalized-open/gpr1506.ml[136,2478+8]..[136,2478+9])
                      expression (testsuite/tests/generalized-open/gpr1506.ml[136,2478+12]..[136,2478+13])
                        Pexp_construct "T" (testsuite/tests/generalized-open/gpr1506.ml[136,2478+12]..[136,2478+13])
                        None
                  ]
              ]
          structure_item (testsuite/tests/generalized-open/gpr1506.ml[138,2498+2]..[138,2498+11])
            Pstr_value Nonrec
            [
              <def>
                pattern (testsuite/tests/generalized-open/gpr1506.ml[138,2498+6]..[138,2498+7])
                  Ppat_var "g" (testsuite/tests/generalized-open/gpr1506.ml[138,2498+6]..[138,2498+7])
                expression (testsuite/tests/generalized-open/gpr1506.ml[138,2498+10]..[138,2498+11])
                  Pexp_ident "y" (testsuite/tests/generalized-open/gpr1506.ml[138,2498+10]..[138,2498+11])
            ]
        ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[140,2514+0]..[148,2766+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[140,2514+9]..[148,2766+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[140,2514+9]..[148,2766+2])
          Pexp_constant PConst_string ("\nLines 3-5, characters 4-7:\n3 | ....open struct\n4 |       type t = T\n5 |     end\nError: The type t/162 introduced by this open appears in the signature\n       Line 6, characters 8-9:\n         The value y has no valid type if t/162 is hidden\n",(testsuite/tests/generalized-open/gpr1506.ml[140,2514+11]..[148,2766+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[195,3693+0]..[202,3832+3])
    Pstr_modtype "S" (testsuite/tests/generalized-open/gpr1506.ml[195,3693+12]..[195,3693+13])
      module_type (testsuite/tests/generalized-open/gpr1506.ml[195,3693+16]..[202,3832+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/generalized-open/gpr1506.ml[201,3817+2]..[201,3817+14])
            Psig_type Rec
            [
              type_declaration "s" (testsuite/tests/generalized-open/gpr1506.ml[201,3817+7]..[201,3817+8]) (testsuite/tests/generalized-open/gpr1506.ml[201,3817+2]..[201,3817+14])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  Some
                    core_type (testsuite/tests/generalized-open/gpr1506.ml[201,3817+11]..[201,3817+14])
                      Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[201,3817+11]..[201,3817+14])
                      []
            ]
        ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[203,3836+0]..[205,3885+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[203,3836+9]..[205,3885+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[203,3836+9]..[205,3885+2])
          Pexp_constant PConst_string ("\nmodule type S = sig type s = int end\n",(testsuite/tests/generalized-open/gpr1506.ml[203,3836+11]..[205,3885+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[207,3890+0]..[207,3890+36])
    Pstr_modtype "T" (testsuite/tests/generalized-open/gpr1506.ml[207,3890+12]..[207,3890+13])
      module_type (testsuite/tests/generalized-open/gpr1506.ml[207,3890+16]..[207,3890+36])
        Pmty_signature
        [
          signature_item (testsuite/tests/generalized-open/gpr1506.ml[207,3890+20]..[207,3890+32])
            Psig_type Rec
            [
              type_declaration "s" (testsuite/tests/generalized-open/gpr1506.ml[207,3890+25]..[207,3890+26]) (testsuite/tests/generalized-open/gpr1506.ml[207,3890+20]..[207,3890+32])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  Some
                    core_type (testsuite/tests/generalized-open/gpr1506.ml[207,3890+29]..[207,3890+32])
                      Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[207,3890+29]..[207,3890+32])
                      []
            ]
        ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[208,3927+0]..[208,3927+21])
    Pstr_module
    "F" (testsuite/tests/generalized-open/gpr1506.ml[208,3927+7]..[208,3927+8])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[208,3927+8]..[208,3927+21])
        Pmod_functor "X" (testsuite/tests/generalized-open/gpr1506.ml[208,3927+9]..[208,3927+10])
        module_type (testsuite/tests/generalized-open/gpr1506.ml[208,3927+11]..[208,3927+12])
          Pmty_ident "S" (testsuite/tests/generalized-open/gpr1506.ml[208,3927+11]..[208,3927+12])
        module_expr (testsuite/tests/generalized-open/gpr1506.ml[208,3927+14]..[208,3927+21])
          Pmod_constraint
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[208,3927+20]..[208,3927+21])
            Pmod_ident "X" (testsuite/tests/generalized-open/gpr1506.ml[208,3927+20]..[208,3927+21])
          module_type (testsuite/tests/generalized-open/gpr1506.ml[208,3927+16]..[208,3927+17])
            Pmty_ident "T" (testsuite/tests/generalized-open/gpr1506.ml[208,3927+16]..[208,3927+17])
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[209,3949+0]..[209,3949+21])
    Pstr_module
    "G" (testsuite/tests/generalized-open/gpr1506.ml[209,3949+7]..[209,3949+8])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[209,3949+8]..[209,3949+21])
        Pmod_functor "X" (testsuite/tests/generalized-open/gpr1506.ml[209,3949+9]..[209,3949+10])
        module_type (testsuite/tests/generalized-open/gpr1506.ml[209,3949+11]..[209,3949+12])
          Pmty_ident "T" (testsuite/tests/generalized-open/gpr1506.ml[209,3949+11]..[209,3949+12])
        module_expr (testsuite/tests/generalized-open/gpr1506.ml[209,3949+14]..[209,3949+21])
          Pmod_constraint
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[209,3949+20]..[209,3949+21])
            Pmod_ident "X" (testsuite/tests/generalized-open/gpr1506.ml[209,3949+20]..[209,3949+21])
          module_type (testsuite/tests/generalized-open/gpr1506.ml[209,3949+16]..[209,3949+17])
            Pmty_ident "S" (testsuite/tests/generalized-open/gpr1506.ml[209,3949+16]..[209,3949+17])
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[210,3971+0]..[214,4084+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[210,3971+9]..[214,4084+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[210,3971+9]..[214,4084+2])
          Pexp_constant PConst_string ("\nmodule type T = sig type s = int end\nmodule F : functor (X : S) -> T\nmodule G : functor (X : T) -> S\n",(testsuite/tests/generalized-open/gpr1506.ml[210,3971+11]..[214,4084+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[216,4089+0]..[263,5036+3])
    Pstr_module
    "Counter" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+7]..[216,4089+14])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[216,4089+15]..[263,5036+3])
        Pmod_constraint
        module_expr (testsuite/tests/generalized-open/gpr1506.ml[216,4089+101]..[263,5036+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[217,4197+2]..[217,4197+37])
              Pstr_open Fresh
              module_expr (testsuite/tests/generalized-open/gpr1506.ml[217,4197+7]..[217,4197+37])
                Pmod_structure
                [
                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[217,4197+14]..[217,4197+33])
                    Pstr_value Nonrec
                    [
                      <def>
                        pattern (testsuite/tests/generalized-open/gpr1506.ml[217,4197+18]..[217,4197+25])
                          Ppat_var "counter" (testsuite/tests/generalized-open/gpr1506.ml[217,4197+18]..[217,4197+25])
                        expression (testsuite/tests/generalized-open/gpr1506.ml[217,4197+28]..[217,4197+33])
                          Pexp_apply
                          expression (testsuite/tests/generalized-open/gpr1506.ml[217,4197+28]..[217,4197+31])
                            Pexp_ident "ref" (testsuite/tests/generalized-open/gpr1506.ml[217,4197+28]..[217,4197+31])
                          [
                            <arg>
                            Nolabel
                              expression (testsuite/tests/generalized-open/gpr1506.ml[217,4197+32]..[217,4197+33])
                                Pexp_constant PConst_int (0,None)
                          ]
                    ]
                ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[218,4235+2]..[218,4235+11])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/generalized-open/gpr1506.ml[218,4235+6]..[218,4235+7])
                    Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[218,4235+6]..[218,4235+7])
                  expression (testsuite/tests/generalized-open/gpr1506.ml[218,4235+10]..[218,4235+11])
                    Pexp_constant PConst_int (1,None)
              ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[219,4247+2]..[219,4247+11])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/generalized-open/gpr1506.ml[219,4247+6]..[219,4247+7])
                    Ppat_var "y" (testsuite/tests/generalized-open/gpr1506.ml[219,4247+6]..[219,4247+7])
                  expression (testsuite/tests/generalized-open/gpr1506.ml[219,4247+10]..[219,4247+11])
                    Pexp_constant PConst_int (2,None)
              ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[220,4259+2]..[220,4259+27])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/generalized-open/gpr1506.ml[220,4259+6]..[220,4259+9])
                    Ppat_var "dec" (testsuite/tests/generalized-open/gpr1506.ml[220,4259+6]..[220,4259+9])
                  expression (testsuite/tests/generalized-open/gpr1506.ml[220,4259+10]..[220,4259+27]) ghost
                    Pexp_fun
                    Nolabel
                    None
                    pattern (testsuite/tests/generalized-open/gpr1506.ml[220,4259+10]..[220,4259+12])
                      Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[220,4259+10]..[220,4259+12])
                      None
                    expression (testsuite/tests/generalized-open/gpr1506.ml[220,4259+15]..[220,4259+27])
                      Pexp_apply
                      expression (testsuite/tests/generalized-open/gpr1506.ml[220,4259+15]..[220,4259+19])
                        Pexp_ident "decr" (testsuite/tests/generalized-open/gpr1506.ml[220,4259+15]..[220,4259+19])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/generalized-open/gpr1506.ml[220,4259+20]..[220,4259+27])
                            Pexp_ident "counter" (testsuite/tests/generalized-open/gpr1506.ml[220,4259+20]..[220,4259+27])
                      ]
              ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[222,4288+2]..[255,4918+5])
              Pstr_open Fresh
              module_expr (testsuite/tests/generalized-open/gpr1506.ml[222,4288+7]..[255,4918+5])
                Pmod_structure
                [
                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[223,4302+4]..[236,4572+7])
                    Pstr_module
                    "A" (testsuite/tests/generalized-open/gpr1506.ml[223,4302+11]..[223,4302+12])
                      module_expr (testsuite/tests/generalized-open/gpr1506.ml[223,4302+13]..[236,4572+7])
                        Pmod_constraint
                        module_expr (testsuite/tests/generalized-open/gpr1506.ml[223,4302+37]..[236,4572+7])
                          Pmod_structure
                          [
                            structure_item (testsuite/tests/generalized-open/gpr1506.ml[224,4346+6]..[234,4542+9])
                              Pstr_open Fresh
                              module_expr (testsuite/tests/generalized-open/gpr1506.ml[224,4346+11]..[234,4542+9])
                                Pmod_structure
                                [
                                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[225,4364+8]..[225,4364+17])
                                    Pstr_value Nonrec
                                    [
                                      <def>
                                        pattern (testsuite/tests/generalized-open/gpr1506.ml[225,4364+12]..[225,4364+13])
                                          Ppat_var "n" (testsuite/tests/generalized-open/gpr1506.ml[225,4364+12]..[225,4364+13])
                                        expression (testsuite/tests/generalized-open/gpr1506.ml[225,4364+16]..[225,4364+17])
                                          Pexp_constant PConst_int (3,None)
                                    ]
                                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[226,4382+8]..[231,4486+11])
                                    Pstr_module
                                    "A" (testsuite/tests/generalized-open/gpr1506.ml[226,4382+15]..[226,4382+16])
                                      module_expr (testsuite/tests/generalized-open/gpr1506.ml[226,4382+19]..[231,4486+11])
                                        Pmod_structure
                                        [
                                          structure_item (testsuite/tests/generalized-open/gpr1506.ml[227,4408+10]..[229,4452+13])
                                            Pstr_open Fresh
                                            module_expr (testsuite/tests/generalized-open/gpr1506.ml[227,4408+15]..[229,4452+13])
                                              Pmod_structure
                                              [
                                                structure_item (testsuite/tests/generalized-open/gpr1506.ml[228,4430+12]..[228,4430+21])
                                                  Pstr_value Nonrec
                                                  [
                                                    <def>
                                                      pattern (testsuite/tests/generalized-open/gpr1506.ml[228,4430+16]..[228,4430+17])
                                                        Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[228,4430+16]..[228,4430+17])
                                                      expression (testsuite/tests/generalized-open/gpr1506.ml[228,4430+20]..[228,4430+21])
                                                        Pexp_constant PConst_int (1,None)
                                                  ]
                                              ]
                                          structure_item (testsuite/tests/generalized-open/gpr1506.ml[230,4466+10]..[230,4466+19])
                                            Pstr_value Nonrec
                                            [
                                              <def>
                                                pattern (testsuite/tests/generalized-open/gpr1506.ml[230,4466+14]..[230,4466+15])
                                                  Ppat_var "y" (testsuite/tests/generalized-open/gpr1506.ml[230,4466+14]..[230,4466+15])
                                                expression (testsuite/tests/generalized-open/gpr1506.ml[230,4466+18]..[230,4466+19])
                                                  Pexp_ident "x" (testsuite/tests/generalized-open/gpr1506.ml[230,4466+18]..[230,4466+19])
                                            ]
                                        ]
                                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[232,4498+8]..[232,4498+19])
                                    Pstr_value Nonrec
                                    [
                                      <def>
                                        pattern (testsuite/tests/generalized-open/gpr1506.ml[232,4498+12]..[232,4498+13])
                                          Ppat_var "h" (testsuite/tests/generalized-open/gpr1506.ml[232,4498+12]..[232,4498+13])
                                        expression (testsuite/tests/generalized-open/gpr1506.ml[232,4498+16]..[232,4498+19])
                                          Pexp_ident "A.y" (testsuite/tests/generalized-open/gpr1506.ml[232,4498+16]..[232,4498+19])
                                    ]
                                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[233,4518+8]..[233,4518+23])
                                    Pstr_value Nonrec
                                    [
                                      <def>
                                        pattern (testsuite/tests/generalized-open/gpr1506.ml[233,4518+12]..[233,4518+13])
                                          Ppat_var "g" (testsuite/tests/generalized-open/gpr1506.ml[233,4518+12]..[233,4518+13])
                                        expression (testsuite/tests/generalized-open/gpr1506.ml[233,4518+16]..[233,4518+23])
                                          Pexp_apply
                                          expression (testsuite/tests/generalized-open/gpr1506.ml[233,4518+20]..[233,4518+21])
                                            Pexp_ident "+" (testsuite/tests/generalized-open/gpr1506.ml[233,4518+20]..[233,4518+21])
                                          [
                                            <arg>
                                            Nolabel
                                              expression (testsuite/tests/generalized-open/gpr1506.ml[233,4518+16]..[233,4518+19])
                                                Pexp_ident "A.y" (testsuite/tests/generalized-open/gpr1506.ml[233,4518+16]..[233,4518+19])
                                            <arg>
                                            Nolabel
                                              expression (testsuite/tests/generalized-open/gpr1506.ml[233,4518+22]..[233,4518+23])
                                                Pexp_ident "n" (testsuite/tests/generalized-open/gpr1506.ml[233,4518+22]..[233,4518+23])
                                          ]
                                    ]
                                ]
                            structure_item (testsuite/tests/generalized-open/gpr1506.ml[235,4552+6]..[235,4552+19])
                              Pstr_value Nonrec
                              [
                                <def>
                                  pattern (testsuite/tests/generalized-open/gpr1506.ml[235,4552+10]..[235,4552+11])
                                    Ppat_var "z" (testsuite/tests/generalized-open/gpr1506.ml[235,4552+10]..[235,4552+11])
                                  expression (testsuite/tests/generalized-open/gpr1506.ml[235,4552+14]..[235,4552+19])
                                    Pexp_apply
                                    expression (testsuite/tests/generalized-open/gpr1506.ml[235,4552+16]..[235,4552+17])
                                      Pexp_ident "+" (testsuite/tests/generalized-open/gpr1506.ml[235,4552+16]..[235,4552+17])
                                    [
                                      <arg>
                                      Nolabel
                                        expression (testsuite/tests/generalized-open/gpr1506.ml[235,4552+14]..[235,4552+15])
                                          Pexp_ident "h" (testsuite/tests/generalized-open/gpr1506.ml[235,4552+14]..[235,4552+15])
                                      <arg>
                                      Nolabel
                                        expression (testsuite/tests/generalized-open/gpr1506.ml[235,4552+18]..[235,4552+19])
                                          Pexp_ident "g" (testsuite/tests/generalized-open/gpr1506.ml[235,4552+18]..[235,4552+19])
                                    ]
                              ]
                          ]
                        module_type (testsuite/tests/generalized-open/gpr1506.ml[223,4302+15]..[223,4302+34])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/generalized-open/gpr1506.ml[223,4302+19]..[223,4302+30])
                              Psig_value
                              value_description "z" (testsuite/tests/generalized-open/gpr1506.ml[223,4302+23]..[223,4302+24]) (testsuite/tests/generalized-open/gpr1506.ml[223,4302+19]..[223,4302+30])
                                core_type (testsuite/tests/generalized-open/gpr1506.ml[223,4302+27]..[223,4302+30])
                                  Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[223,4302+27]..[223,4302+30])
                                  []
                                []
                          ]
                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[238,4581+4]..[238,4581+14])
                    Pstr_value Nonrec
                    [
                      <def>
                        pattern (testsuite/tests/generalized-open/gpr1506.ml[238,4581+8]..[238,4581+9])
                          Ppat_var "z" (testsuite/tests/generalized-open/gpr1506.ml[238,4581+8]..[238,4581+9])
                        expression (testsuite/tests/generalized-open/gpr1506.ml[238,4581+12]..[238,4581+14])
                          Pexp_constant PConst_int (12,None)
                    ]
                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[240,4597+4]..[252,4887+7])
                    Pstr_module
                    "B" (testsuite/tests/generalized-open/gpr1506.ml[240,4597+11]..[240,4597+12])
                      module_expr (testsuite/tests/generalized-open/gpr1506.ml[240,4597+13]..[252,4887+7])
                        Pmod_constraint
                        module_expr (testsuite/tests/generalized-open/gpr1506.ml[240,4597+37]..[252,4887+7])
                          Pmod_structure
                          [
                            structure_item (testsuite/tests/generalized-open/gpr1506.ml[241,4641+6]..[250,4857+9])
                              Pstr_open Fresh
                              module_expr (testsuite/tests/generalized-open/gpr1506.ml[241,4641+11]..[250,4857+9])
                                Pmod_structure
                                [
                                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[242,4659+8]..[247,4801+11])
                                    Pstr_module
                                    "A" (testsuite/tests/generalized-open/gpr1506.ml[242,4659+15]..[242,4659+16])
                                      module_expr (testsuite/tests/generalized-open/gpr1506.ml[242,4659+19]..[247,4801+11])
                                        Pmod_structure
                                        [
                                          structure_item (testsuite/tests/generalized-open/gpr1506.ml[243,4685+10]..[243,4685+35])
                                            Pstr_open Fresh
                                            module_expr (testsuite/tests/generalized-open/gpr1506.ml[243,4685+15]..[243,4685+35])
                                              Pmod_structure
                                              [
                                                structure_item (testsuite/tests/generalized-open/gpr1506.ml[243,4685+22]..[243,4685+31])
                                                  Pstr_value Nonrec
                                                  [
                                                    <def>
                                                      pattern (testsuite/tests/generalized-open/gpr1506.ml[243,4685+26]..[243,4685+27])
                                                        Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[243,4685+26]..[243,4685+27])
                                                      expression (testsuite/tests/generalized-open/gpr1506.ml[243,4685+30]..[243,4685+31])
                                                        Pexp_constant PConst_int (1,None)
                                                  ]
                                              ]
                                          structure_item (testsuite/tests/generalized-open/gpr1506.ml[244,4721+10]..[244,4721+19])
                                            Pstr_value Nonrec
                                            [
                                              <def>
                                                pattern (testsuite/tests/generalized-open/gpr1506.ml[244,4721+14]..[244,4721+15])
                                                  Ppat_var "y" (testsuite/tests/generalized-open/gpr1506.ml[244,4721+14]..[244,4721+15])
                                                expression (testsuite/tests/generalized-open/gpr1506.ml[244,4721+18]..[244,4721+19])
                                                  Pexp_ident "x" (testsuite/tests/generalized-open/gpr1506.ml[244,4721+18]..[244,4721+19])
                                            ]
                                          structure_item (testsuite/tests/generalized-open/gpr1506.ml[245,4741+10]..[245,4741+35])
                                            Pstr_open Fresh
                                            module_expr (testsuite/tests/generalized-open/gpr1506.ml[245,4741+15]..[245,4741+35])
                                              Pmod_structure
                                              [
                                                structure_item (testsuite/tests/generalized-open/gpr1506.ml[245,4741+22]..[245,4741+31])
                                                  Pstr_value Nonrec
                                                  [
                                                    <def>
                                                      pattern (testsuite/tests/generalized-open/gpr1506.ml[245,4741+26]..[245,4741+27])
                                                        Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[245,4741+26]..[245,4741+27])
                                                      expression (testsuite/tests/generalized-open/gpr1506.ml[245,4741+30]..[245,4741+31])
                                                        Pexp_constant PConst_int (1,None)
                                                  ]
                                              ]
                                          structure_item (testsuite/tests/generalized-open/gpr1506.ml[246,4777+10]..[246,4777+23])
                                            Pstr_value Nonrec
                                            [
                                              <def>
                                                pattern (testsuite/tests/generalized-open/gpr1506.ml[246,4777+14]..[246,4777+15])
                                                  Ppat_var "z" (testsuite/tests/generalized-open/gpr1506.ml[246,4777+14]..[246,4777+15])
                                                expression (testsuite/tests/generalized-open/gpr1506.ml[246,4777+18]..[246,4777+23])
                                                  Pexp_apply
                                                  expression (testsuite/tests/generalized-open/gpr1506.ml[246,4777+20]..[246,4777+21])
                                                    Pexp_ident "+" (testsuite/tests/generalized-open/gpr1506.ml[246,4777+20]..[246,4777+21])
                                                  [
                                                    <arg>
                                                    Nolabel
                                                      expression (testsuite/tests/generalized-open/gpr1506.ml[246,4777+18]..[246,4777+19])
                                                        Pexp_ident "y" (testsuite/tests/generalized-open/gpr1506.ml[246,4777+18]..[246,4777+19])
                                                    <arg>
                                                    Nolabel
                                                      expression (testsuite/tests/generalized-open/gpr1506.ml[246,4777+22]..[246,4777+23])
                                                        Pexp_ident "x" (testsuite/tests/generalized-open/gpr1506.ml[246,4777+22]..[246,4777+23])
                                                  ]
                                            ]
                                        ]
                                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[248,4813+8]..[248,4813+19])
                                    Pstr_value Nonrec
                                    [
                                      <def>
                                        pattern (testsuite/tests/generalized-open/gpr1506.ml[248,4813+12]..[248,4813+13])
                                          Ppat_var "h" (testsuite/tests/generalized-open/gpr1506.ml[248,4813+12]..[248,4813+13])
                                        expression (testsuite/tests/generalized-open/gpr1506.ml[248,4813+16]..[248,4813+19])
                                          Pexp_ident "A.y" (testsuite/tests/generalized-open/gpr1506.ml[248,4813+16]..[248,4813+19])
                                    ]
                                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[249,4833+8]..[249,4833+23])
                                    Pstr_value Nonrec
                                    [
                                      <def>
                                        pattern (testsuite/tests/generalized-open/gpr1506.ml[249,4833+12]..[249,4833+13])
                                          Ppat_var "g" (testsuite/tests/generalized-open/gpr1506.ml[249,4833+12]..[249,4833+13])
                                        expression (testsuite/tests/generalized-open/gpr1506.ml[249,4833+16]..[249,4833+23])
                                          Pexp_apply
                                          expression (testsuite/tests/generalized-open/gpr1506.ml[249,4833+20]..[249,4833+21])
                                            Pexp_ident "+" (testsuite/tests/generalized-open/gpr1506.ml[249,4833+20]..[249,4833+21])
                                          [
                                            <arg>
                                            Nolabel
                                              expression (testsuite/tests/generalized-open/gpr1506.ml[249,4833+16]..[249,4833+19])
                                                Pexp_ident "A.z" (testsuite/tests/generalized-open/gpr1506.ml[249,4833+16]..[249,4833+19])
                                            <arg>
                                            Nolabel
                                              expression (testsuite/tests/generalized-open/gpr1506.ml[249,4833+22]..[249,4833+23])
                                                Pexp_constant PConst_int (1,None)
                                          ]
                                    ]
                                ]
                            structure_item (testsuite/tests/generalized-open/gpr1506.ml[251,4867+6]..[251,4867+19])
                              Pstr_value Nonrec
                              [
                                <def>
                                  pattern (testsuite/tests/generalized-open/gpr1506.ml[251,4867+10]..[251,4867+11])
                                    Ppat_var "z" (testsuite/tests/generalized-open/gpr1506.ml[251,4867+10]..[251,4867+11])
                                  expression (testsuite/tests/generalized-open/gpr1506.ml[251,4867+14]..[251,4867+19])
                                    Pexp_apply
                                    expression (testsuite/tests/generalized-open/gpr1506.ml[251,4867+16]..[251,4867+17])
                                      Pexp_ident "+" (testsuite/tests/generalized-open/gpr1506.ml[251,4867+16]..[251,4867+17])
                                    [
                                      <arg>
                                      Nolabel
                                        expression (testsuite/tests/generalized-open/gpr1506.ml[251,4867+14]..[251,4867+15])
                                          Pexp_ident "h" (testsuite/tests/generalized-open/gpr1506.ml[251,4867+14]..[251,4867+15])
                                      <arg>
                                      Nolabel
                                        expression (testsuite/tests/generalized-open/gpr1506.ml[251,4867+18]..[251,4867+19])
                                          Pexp_ident "g" (testsuite/tests/generalized-open/gpr1506.ml[251,4867+18]..[251,4867+19])
                                    ]
                              ]
                          ]
                        module_type (testsuite/tests/generalized-open/gpr1506.ml[240,4597+15]..[240,4597+34])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/generalized-open/gpr1506.ml[240,4597+19]..[240,4597+30])
                              Psig_value
                              value_description "z" (testsuite/tests/generalized-open/gpr1506.ml[240,4597+23]..[240,4597+24]) (testsuite/tests/generalized-open/gpr1506.ml[240,4597+19]..[240,4597+30])
                                core_type (testsuite/tests/generalized-open/gpr1506.ml[240,4597+27]..[240,4597+30])
                                  Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[240,4597+27]..[240,4597+30])
                                  []
                                []
                          ]
                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[254,4896+4]..[254,4896+21])
                    Pstr_value Nonrec
                    [
                      <def>
                        pattern (testsuite/tests/generalized-open/gpr1506.ml[254,4896+8]..[254,4896+9])
                          Ppat_var "h" (testsuite/tests/generalized-open/gpr1506.ml[254,4896+8]..[254,4896+9])
                        expression (testsuite/tests/generalized-open/gpr1506.ml[254,4896+12]..[254,4896+21])
                          Pexp_apply
                          expression (testsuite/tests/generalized-open/gpr1506.ml[254,4896+16]..[254,4896+17])
                            Pexp_ident "+" (testsuite/tests/generalized-open/gpr1506.ml[254,4896+16]..[254,4896+17])
                          [
                            <arg>
                            Nolabel
                              expression (testsuite/tests/generalized-open/gpr1506.ml[254,4896+12]..[254,4896+15])
                                Pexp_ident "A.z" (testsuite/tests/generalized-open/gpr1506.ml[254,4896+12]..[254,4896+15])
                            <arg>
                            Nolabel
                              expression (testsuite/tests/generalized-open/gpr1506.ml[254,4896+18]..[254,4896+21])
                                Pexp_ident "B.z" (testsuite/tests/generalized-open/gpr1506.ml[254,4896+18]..[254,4896+21])
                          ]
                    ]
                ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[257,4925+2]..[257,4925+15])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/generalized-open/gpr1506.ml[257,4925+6]..[257,4925+7])
                    Ppat_var "z" (testsuite/tests/generalized-open/gpr1506.ml[257,4925+6]..[257,4925+7])
                  expression (testsuite/tests/generalized-open/gpr1506.ml[257,4925+10]..[257,4925+15])
                    Pexp_apply
                    expression (testsuite/tests/generalized-open/gpr1506.ml[257,4925+12]..[257,4925+13])
                      Pexp_ident "+" (testsuite/tests/generalized-open/gpr1506.ml[257,4925+12]..[257,4925+13])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/generalized-open/gpr1506.ml[257,4925+10]..[257,4925+11])
                          Pexp_ident "z" (testsuite/tests/generalized-open/gpr1506.ml[257,4925+10]..[257,4925+11])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/generalized-open/gpr1506.ml[257,4925+14]..[257,4925+15])
                          Pexp_ident "h" (testsuite/tests/generalized-open/gpr1506.ml[257,4925+14]..[257,4925+15])
                    ]
              ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[258,4941+2]..[258,4941+11])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/generalized-open/gpr1506.ml[258,4941+6]..[258,4941+7])
                    Ppat_var "g" (testsuite/tests/generalized-open/gpr1506.ml[258,4941+6]..[258,4941+7])
                  expression (testsuite/tests/generalized-open/gpr1506.ml[258,4941+10]..[258,4941+11])
                    Pexp_constant PConst_int (1,None)
              ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[259,4953+2]..[259,4953+13])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/generalized-open/gpr1506.ml[259,4953+6]..[259,4953+9])
                    Ppat_var "ggg" (testsuite/tests/generalized-open/gpr1506.ml[259,4953+6]..[259,4953+9])
                  expression (testsuite/tests/generalized-open/gpr1506.ml[259,4953+12]..[259,4953+13])
                    Pexp_constant PConst_int (2,None)
              ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[260,4967+2]..[260,4967+27])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/generalized-open/gpr1506.ml[260,4967+6]..[260,4967+9])
                    Ppat_var "inc" (testsuite/tests/generalized-open/gpr1506.ml[260,4967+6]..[260,4967+9])
                  expression (testsuite/tests/generalized-open/gpr1506.ml[260,4967+10]..[260,4967+27]) ghost
                    Pexp_fun
                    Nolabel
                    None
                    pattern (testsuite/tests/generalized-open/gpr1506.ml[260,4967+10]..[260,4967+12])
                      Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[260,4967+10]..[260,4967+12])
                      None
                    expression (testsuite/tests/generalized-open/gpr1506.ml[260,4967+15]..[260,4967+27])
                      Pexp_apply
                      expression (testsuite/tests/generalized-open/gpr1506.ml[260,4967+15]..[260,4967+19])
                        Pexp_ident "incr" (testsuite/tests/generalized-open/gpr1506.ml[260,4967+15]..[260,4967+19])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/generalized-open/gpr1506.ml[260,4967+20]..[260,4967+27])
                            Pexp_ident "counter" (testsuite/tests/generalized-open/gpr1506.ml[260,4967+20]..[260,4967+27])
                      ]
              ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[261,4995+2]..[261,4995+12])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/generalized-open/gpr1506.ml[261,4995+6]..[261,4995+8])
                    Ppat_var "zz" (testsuite/tests/generalized-open/gpr1506.ml[261,4995+6]..[261,4995+8])
                  expression (testsuite/tests/generalized-open/gpr1506.ml[261,4995+11]..[261,4995+12])
                    Pexp_constant PConst_int (5,None)
              ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[262,5008+2]..[262,5008+27])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/generalized-open/gpr1506.ml[262,5008+6]..[262,5008+13])
                    Ppat_var "current" (testsuite/tests/generalized-open/gpr1506.ml[262,5008+6]..[262,5008+13])
                  expression (testsuite/tests/generalized-open/gpr1506.ml[262,5008+14]..[262,5008+27]) ghost
                    Pexp_fun
                    Nolabel
                    None
                    pattern (testsuite/tests/generalized-open/gpr1506.ml[262,5008+14]..[262,5008+16])
                      Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[262,5008+14]..[262,5008+16])
                      None
                    expression (testsuite/tests/generalized-open/gpr1506.ml[262,5008+19]..[262,5008+27])
                      Pexp_apply
                      expression (testsuite/tests/generalized-open/gpr1506.ml[262,5008+19]..[262,5008+20])
                        Pexp_ident "!" (testsuite/tests/generalized-open/gpr1506.ml[262,5008+19]..[262,5008+20])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/generalized-open/gpr1506.ml[262,5008+20]..[262,5008+27])
                            Pexp_ident "counter" (testsuite/tests/generalized-open/gpr1506.ml[262,5008+20]..[262,5008+27])
                      ]
              ]
          ]
        module_type (testsuite/tests/generalized-open/gpr1506.ml[216,4089+17]..[216,4089+98])
          Pmty_signature
          [
            signature_item (testsuite/tests/generalized-open/gpr1506.ml[216,4089+21]..[216,4089+43])
              Psig_value
              value_description "inc" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+25]..[216,4089+28]) (testsuite/tests/generalized-open/gpr1506.ml[216,4089+21]..[216,4089+43])
                core_type (testsuite/tests/generalized-open/gpr1506.ml[216,4089+31]..[216,4089+43])
                  Ptyp_arrow
                  Nolabel
                  core_type (testsuite/tests/generalized-open/gpr1506.ml[216,4089+31]..[216,4089+35])
                    Ptyp_constr "unit" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+31]..[216,4089+35])
                    []
                  core_type (testsuite/tests/generalized-open/gpr1506.ml[216,4089+39]..[216,4089+43])
                    Ptyp_constr "unit" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+39]..[216,4089+43])
                    []
                []
            signature_item (testsuite/tests/generalized-open/gpr1506.ml[216,4089+44]..[216,4089+69])
              Psig_value
              value_description "current" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+48]..[216,4089+55]) (testsuite/tests/generalized-open/gpr1506.ml[216,4089+44]..[216,4089+69])
                core_type (testsuite/tests/generalized-open/gpr1506.ml[216,4089+58]..[216,4089+69])
                  Ptyp_arrow
                  Nolabel
                  core_type (testsuite/tests/generalized-open/gpr1506.ml[216,4089+58]..[216,4089+62])
                    Ptyp_constr "unit" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+58]..[216,4089+62])
                    []
                  core_type (testsuite/tests/generalized-open/gpr1506.ml[216,4089+66]..[216,4089+69])
                    Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+66]..[216,4089+69])
                    []
                []
            signature_item (testsuite/tests/generalized-open/gpr1506.ml[216,4089+70]..[216,4089+81])
              Psig_value
              value_description "z" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+74]..[216,4089+75]) (testsuite/tests/generalized-open/gpr1506.ml[216,4089+70]..[216,4089+81])
                core_type (testsuite/tests/generalized-open/gpr1506.ml[216,4089+78]..[216,4089+81])
                  Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+78]..[216,4089+81])
                  []
                []
            signature_item (testsuite/tests/generalized-open/gpr1506.ml[216,4089+82]..[216,4089+94])
              Psig_value
              value_description "zz" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+86]..[216,4089+88]) (testsuite/tests/generalized-open/gpr1506.ml[216,4089+82]..[216,4089+94])
                core_type (testsuite/tests/generalized-open/gpr1506.ml[216,4089+91]..[216,4089+94])
                  Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[216,4089+91]..[216,4089+94])
                  []
                []
          ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[264,5040+0]..[272,5171+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[264,5040+9]..[272,5171+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[264,5040+9]..[272,5171+2])
          Pexp_constant PConst_string ("\nmodule Counter :\n  sig\n    val inc : unit -> unit\n    val current : unit -> int\n    val z : int\n    val zz : int\n  end\n",(testsuite/tests/generalized-open/gpr1506.ml[264,5040+11]..[272,5171+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[274,5176+0]..[276,5217+3])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/generalized-open/gpr1506.ml[274,5176+4]..[274,5176+6])
          Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[274,5176+4]..[274,5176+6])
          None
        expression (testsuite/tests/generalized-open/gpr1506.ml[274,5176+9]..[276,5217+3])
          Pexp_assert
          expression (testsuite/tests/generalized-open/gpr1506.ml[275,5191+9]..[275,5191+25])
            Pexp_apply
            expression (testsuite/tests/generalized-open/gpr1506.ml[275,5191+20]..[275,5191+21])
              Pexp_ident "=" (testsuite/tests/generalized-open/gpr1506.ml[275,5191+20]..[275,5191+21])
            [
              <arg>
              Nolabel
                expression (testsuite/tests/generalized-open/gpr1506.ml[275,5191+10]..[275,5191+19])
                  Pexp_ident "Counter.z" (testsuite/tests/generalized-open/gpr1506.ml[275,5191+10]..[275,5191+19])
              <arg>
              Nolabel
                expression (testsuite/tests/generalized-open/gpr1506.ml[275,5191+22]..[275,5191+24])
                  Pexp_constant PConst_int (21,None)
            ]
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[277,5221+0]..[278,5233+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[277,5221+9]..[278,5233+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[277,5221+9]..[278,5233+2])
          Pexp_constant PConst_string ("\n",(testsuite/tests/generalized-open/gpr1506.ml[277,5221+11]..[278,5233+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[295,5569+0]..[302,5717+3])
    Pstr_module
    "N" (testsuite/tests/generalized-open/gpr1506.ml[295,5569+7]..[295,5569+8])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[295,5569+11]..[302,5717+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/generalized-open/gpr1506.ml[296,5587+2]..[298,5635+51])
            Pstr_open Fresh
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[296,5587+7]..[298,5635+51])
              Pmod_apply
              module_expr (testsuite/tests/generalized-open/gpr1506.ml[297,5603+4]..[298,5635+28])
                Pmod_functor "N" (testsuite/tests/generalized-open/gpr1506.ml[297,5603+5]..[297,5603+6])
                module_type (testsuite/tests/generalized-open/gpr1506.ml[297,5603+8]..[297,5603+27])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/generalized-open/gpr1506.ml[297,5603+12]..[297,5603+23])
                      Psig_value
                      value_description "x" (testsuite/tests/generalized-open/gpr1506.ml[297,5603+16]..[297,5603+17]) (testsuite/tests/generalized-open/gpr1506.ml[297,5603+12]..[297,5603+23])
                        core_type (testsuite/tests/generalized-open/gpr1506.ml[297,5603+20]..[297,5603+23])
                          Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[297,5603+20]..[297,5603+23])
                          []
                        []
                  ]
                module_expr (testsuite/tests/generalized-open/gpr1506.ml[298,5635+5]..[298,5635+27])
                  Pmod_structure
                  [
                    structure_item (testsuite/tests/generalized-open/gpr1506.ml[298,5635+12]..[298,5635+23])
                      Pstr_value Nonrec
                      [
                        <def>
                          pattern (testsuite/tests/generalized-open/gpr1506.ml[298,5635+16]..[298,5635+17])
                            Ppat_var "y" (testsuite/tests/generalized-open/gpr1506.ml[298,5635+16]..[298,5635+17])
                          expression (testsuite/tests/generalized-open/gpr1506.ml[298,5635+20]..[298,5635+23])
                            Pexp_ident "N.x" (testsuite/tests/generalized-open/gpr1506.ml[298,5635+20]..[298,5635+23])
                      ]
                  ]
              module_expr (testsuite/tests/generalized-open/gpr1506.ml[298,5635+30]..[298,5635+50])
                Pmod_structure
                [
                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[298,5635+37]..[298,5635+46])
                    Pstr_value Nonrec
                    [
                      <def>
                        pattern (testsuite/tests/generalized-open/gpr1506.ml[298,5635+41]..[298,5635+42])
                          Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[298,5635+41]..[298,5635+42])
                        expression (testsuite/tests/generalized-open/gpr1506.ml[298,5635+45]..[298,5635+46])
                          Pexp_constant PConst_int (1,None)
                    ]
                ]
          structure_item (testsuite/tests/generalized-open/gpr1506.ml[300,5688+2]..[301,5699+17])
            Pstr_value Nonrec
            [
              <def>
                pattern (testsuite/tests/generalized-open/gpr1506.ml[300,5688+6]..[300,5688+8])
                  Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[300,5688+6]..[300,5688+8])
                  None
                expression (testsuite/tests/generalized-open/gpr1506.ml[301,5699+4]..[301,5699+17])
                  Pexp_assert
                  expression (testsuite/tests/generalized-open/gpr1506.ml[301,5699+10]..[301,5699+17])
                    Pexp_apply
                    expression (testsuite/tests/generalized-open/gpr1506.ml[301,5699+13]..[301,5699+14])
                      Pexp_ident "=" (testsuite/tests/generalized-open/gpr1506.ml[301,5699+13]..[301,5699+14])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/generalized-open/gpr1506.ml[301,5699+11]..[301,5699+12])
                          Pexp_ident "y" (testsuite/tests/generalized-open/gpr1506.ml[301,5699+11]..[301,5699+12])
                      <arg>
                      Nolabel
                        expression (testsuite/tests/generalized-open/gpr1506.ml[301,5699+15]..[301,5699+16])
                          Pexp_constant PConst_int (1,None)
                    ]
            ]
        ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[303,5721+0]..[305,5752+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[303,5721+9]..[305,5752+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[303,5721+9]..[305,5752+2])
          Pexp_constant PConst_string ("\nmodule N : sig end\n",(testsuite/tests/generalized-open/gpr1506.ml[303,5721+11]..[305,5752+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[307,5757+0]..[318,6025+3])
    Pstr_module
    "M" (testsuite/tests/generalized-open/gpr1506.ml[307,5757+7]..[307,5757+8])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[307,5757+11]..[318,6025+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/generalized-open/gpr1506.ml[308,5775+2]..[317,6019+5])
            Pstr_open Fresh
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[308,5775+7]..[317,6019+5])
              Pmod_structure
              [
                structure_item (testsuite/tests/generalized-open/gpr1506.ml[309,5789+4]..[316,6011+7])
                  Pstr_open Fresh
                  module_expr (testsuite/tests/generalized-open/gpr1506.ml[309,5789+9]..[316,6011+7])
                    Pmod_structure
                    [
                      structure_item (testsuite/tests/generalized-open/gpr1506.ml[310,5805+6]..[314,5959+9])
                        Pstr_modtype "S" (testsuite/tests/generalized-open/gpr1506.ml[310,5805+18]..[310,5805+19])
                          module_type (testsuite/tests/generalized-open/gpr1506.ml[310,5805+22]..[314,5959+9])
                            Pmty_signature
                            [
                              signature_item (testsuite/tests/generalized-open/gpr1506.ml[313,5939+8]..[313,5939+19])
                                Psig_value
                                value_description "x" (testsuite/tests/generalized-open/gpr1506.ml[313,5939+12]..[313,5939+13]) (testsuite/tests/generalized-open/gpr1506.ml[313,5939+8]..[313,5939+19])
                                  core_type (testsuite/tests/generalized-open/gpr1506.ml[313,5939+16]..[313,5939+19])
                                    Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[313,5939+16]..[313,5939+19])
                                    []
                                  []
                            ]
                      structure_item (testsuite/tests/generalized-open/gpr1506.ml[315,5969+6]..[315,5969+41])
                        Pstr_module
                        "M" (testsuite/tests/generalized-open/gpr1506.ml[315,5969+13]..[315,5969+14])
                          module_expr (testsuite/tests/generalized-open/gpr1506.ml[315,5969+15]..[315,5969+41])
                            Pmod_constraint
                            module_expr (testsuite/tests/generalized-open/gpr1506.ml[315,5969+21]..[315,5969+41])
                              Pmod_structure
                              [
                                structure_item (testsuite/tests/generalized-open/gpr1506.ml[315,5969+28]..[315,5969+37])
                                  Pstr_value Nonrec
                                  [
                                    <def>
                                      pattern (testsuite/tests/generalized-open/gpr1506.ml[315,5969+32]..[315,5969+33])
                                        Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[315,5969+32]..[315,5969+33])
                                      expression (testsuite/tests/generalized-open/gpr1506.ml[315,5969+36]..[315,5969+37])
                                        Pexp_constant PConst_int (1,None)
                                  ]
                              ]
                            module_type (testsuite/tests/generalized-open/gpr1506.ml[315,5969+17]..[315,5969+18])
                              Pmty_ident "S" (testsuite/tests/generalized-open/gpr1506.ml[315,5969+17]..[315,5969+18])
                    ]
              ]
        ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[319,6029+0]..[321,6060+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[319,6029+9]..[321,6060+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[319,6029+9]..[321,6060+2])
          Pexp_constant PConst_string ("\nmodule M : sig end\n",(testsuite/tests/generalized-open/gpr1506.ml[319,6029+11]..[321,6060+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[338,6463+0]..[338,6463+72])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/generalized-open/gpr1506.ml[338,6463+4]..[338,6463+5])
          Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[338,6463+4]..[338,6463+5])
        expression (testsuite/tests/generalized-open/gpr1506.ml[338,6463+8]..[338,6463+72])
          Pexp_open Fresh
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[338,6463+17]..[338,6463+67])
            Pmod_structure
            [
              structure_item (testsuite/tests/generalized-open/gpr1506.ml[338,6463+24]..[338,6463+49])
                Pstr_open Fresh
                module_expr (testsuite/tests/generalized-open/gpr1506.ml[338,6463+29]..[338,6463+49])
                  Pmod_structure
                  [
                    structure_item (testsuite/tests/generalized-open/gpr1506.ml[338,6463+36]..[338,6463+45])
                      Pstr_value Nonrec
                      [
                        <def>
                          pattern (testsuite/tests/generalized-open/gpr1506.ml[338,6463+40]..[338,6463+41])
                            Ppat_var "y" (testsuite/tests/generalized-open/gpr1506.ml[338,6463+40]..[338,6463+41])
                          expression (testsuite/tests/generalized-open/gpr1506.ml[338,6463+44]..[338,6463+45])
                            Pexp_constant PConst_int (1,None)
                      ]
                  ]
              structure_item (testsuite/tests/generalized-open/gpr1506.ml[338,6463+50]..[338,6463+63])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/generalized-open/gpr1506.ml[338,6463+54]..[338,6463+55])
                      Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[338,6463+54]..[338,6463+55])
                    expression (testsuite/tests/generalized-open/gpr1506.ml[338,6463+58]..[338,6463+63])
                      Pexp_apply
                      expression (testsuite/tests/generalized-open/gpr1506.ml[338,6463+60]..[338,6463+61])
                        Pexp_ident "+" (testsuite/tests/generalized-open/gpr1506.ml[338,6463+60]..[338,6463+61])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/generalized-open/gpr1506.ml[338,6463+58]..[338,6463+59])
                            Pexp_ident "y" (testsuite/tests/generalized-open/gpr1506.ml[338,6463+58]..[338,6463+59])
                        <arg>
                        Nolabel
                          expression (testsuite/tests/generalized-open/gpr1506.ml[338,6463+62]..[338,6463+63])
                            Pexp_constant PConst_int (1,None)
                      ]
                ]
            ]
          expression (testsuite/tests/generalized-open/gpr1506.ml[338,6463+71]..[338,6463+72])
            Pexp_ident "x" (testsuite/tests/generalized-open/gpr1506.ml[338,6463+71]..[338,6463+72])
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[339,6536+0]..[341,6564+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[339,6536+9]..[341,6564+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[339,6536+9]..[341,6564+2])
          Pexp_constant PConst_string ("\nval x : int = 2\n",(testsuite/tests/generalized-open/gpr1506.ml[339,6536+11]..[341,6564+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[343,6569+0]..[346,6669+6])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/generalized-open/gpr1506.ml[343,6569+4]..[343,6569+5])
          Ppat_var "y" (testsuite/tests/generalized-open/gpr1506.ml[343,6569+4]..[343,6569+5])
        expression (testsuite/tests/generalized-open/gpr1506.ml[344,6577+2]..[346,6669+6])
          Pexp_open Fresh
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[345,6583+10]..[345,6583+84])
            Pmod_apply
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[345,6583+19]..[345,6583+61])
              Pmod_functor "X" (testsuite/tests/generalized-open/gpr1506.ml[345,6583+20]..[345,6583+21])
              module_type (testsuite/tests/generalized-open/gpr1506.ml[345,6583+23]..[345,6583+42])
                Pmty_signature
                [
                  signature_item (testsuite/tests/generalized-open/gpr1506.ml[345,6583+27]..[345,6583+38])
                    Psig_value
                    value_description "x" (testsuite/tests/generalized-open/gpr1506.ml[345,6583+31]..[345,6583+32]) (testsuite/tests/generalized-open/gpr1506.ml[345,6583+27]..[345,6583+38])
                      core_type (testsuite/tests/generalized-open/gpr1506.ml[345,6583+35]..[345,6583+38])
                        Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[345,6583+35]..[345,6583+38])
                        []
                      []
                ]
              module_expr (testsuite/tests/generalized-open/gpr1506.ml[345,6583+47]..[345,6583+61])
                Pmod_structure
                [
                  structure_item (testsuite/tests/generalized-open/gpr1506.ml[345,6583+54]..[345,6583+57])
                    Pstr_eval
                    expression (testsuite/tests/generalized-open/gpr1506.ml[345,6583+54]..[345,6583+57])
                      Pexp_ident "X.x" (testsuite/tests/generalized-open/gpr1506.ml[345,6583+54]..[345,6583+57])
                ]
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[345,6583+63]..[345,6583+83])
              Pmod_structure
              [
                structure_item (testsuite/tests/generalized-open/gpr1506.ml[345,6583+70]..[345,6583+79])
                  Pstr_value Nonrec
                  [
                    <def>
                      pattern (testsuite/tests/generalized-open/gpr1506.ml[345,6583+74]..[345,6583+75])
                        Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[345,6583+74]..[345,6583+75])
                      expression (testsuite/tests/generalized-open/gpr1506.ml[345,6583+78]..[345,6583+79])
                        Pexp_constant PConst_int (1,None)
                  ]
              ]
          expression (testsuite/tests/generalized-open/gpr1506.ml[346,6669+5]..[346,6669+6])
            Pexp_ident "x" (testsuite/tests/generalized-open/gpr1506.ml[346,6669+5]..[346,6669+6])
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[348,6677+0]..[350,6705+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[348,6677+9]..[350,6705+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[348,6677+9]..[350,6705+2])
          Pexp_constant PConst_string ("\nval y : int = 2\n",(testsuite/tests/generalized-open/gpr1506.ml[348,6677+11]..[350,6705+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[352,6710+0]..[352,6710+43])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/generalized-open/gpr1506.ml[352,6710+4]..[352,6710+5])
          Ppat_var "x" (testsuite/tests/generalized-open/gpr1506.ml[352,6710+4]..[352,6710+5])
        expression (testsuite/tests/generalized-open/gpr1506.ml[352,6710+8]..[352,6710+43])
          Pexp_open Fresh
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[352,6710+17]..[352,6710+38])
            Pmod_structure
            [
              structure_item (testsuite/tests/generalized-open/gpr1506.ml[352,6710+24]..[352,6710+34])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[352,6710+29]..[352,6710+30]) (testsuite/tests/generalized-open/gpr1506.ml[352,6710+24]..[352,6710+34])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/generalized-open/gpr1506.ml[352,6710+33]..[352,6710+34])
                            "T" (testsuite/tests/generalized-open/gpr1506.ml[352,6710+33]..[352,6710+34])
                            []
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
            ]
          expression (testsuite/tests/generalized-open/gpr1506.ml[352,6710+42]..[352,6710+43])
            Pexp_construct "T" (testsuite/tests/generalized-open/gpr1506.ml[352,6710+42]..[352,6710+43])
            None
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[354,6755+0]..[360,7018+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[354,6755+9]..[360,7018+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[354,6755+9]..[360,7018+2])
          Pexp_constant PConst_string ("\nLine 1, characters 42-43:\n1 | let x = let open struct type t = T end in T\n                                              ^\nError: This expression has type t but an expression was expected of type 'a\n       The type constructor t would escape its scope\n",(testsuite/tests/generalized-open/gpr1506.ml[354,6755+11]..[360,7018+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[362,7023+0]..[365,7079+3])
    Pstr_modtype "Print" (testsuite/tests/generalized-open/gpr1506.ml[362,7023+12]..[362,7023+17])
      module_type (testsuite/tests/generalized-open/gpr1506.ml[362,7023+20]..[365,7079+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/generalized-open/gpr1506.ml[363,7047+2]..[363,7047+8])
            Psig_type Rec
            [
              type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[363,7047+7]..[363,7047+8]) (testsuite/tests/generalized-open/gpr1506.ml[363,7047+2]..[363,7047+8])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
          signature_item (testsuite/tests/generalized-open/gpr1506.ml[364,7056+2]..[364,7056+22])
            Psig_value
            value_description "print" (testsuite/tests/generalized-open/gpr1506.ml[364,7056+6]..[364,7056+11]) (testsuite/tests/generalized-open/gpr1506.ml[364,7056+2]..[364,7056+22])
              core_type (testsuite/tests/generalized-open/gpr1506.ml[364,7056+13]..[364,7056+22])
                Ptyp_arrow
                Nolabel
                core_type (testsuite/tests/generalized-open/gpr1506.ml[364,7056+13]..[364,7056+14])
                  Ptyp_constr "t" (testsuite/tests/generalized-open/gpr1506.ml[364,7056+13]..[364,7056+14])
                  []
                core_type (testsuite/tests/generalized-open/gpr1506.ml[364,7056+18]..[364,7056+22])
                  Ptyp_constr "unit" (testsuite/tests/generalized-open/gpr1506.ml[364,7056+18]..[364,7056+22])
                  []
              []
        ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[367,7084+0]..[369,7172+3])
    Pstr_module
    "Print_int" (testsuite/tests/generalized-open/gpr1506.ml[367,7084+7]..[367,7084+16])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[367,7084+16]..[369,7172+3])
        Pmod_constraint
        module_expr (testsuite/tests/generalized-open/gpr1506.ml[367,7084+44]..[369,7172+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[368,7135+2]..[368,7135+14])
              Pstr_type Rec
              [
                type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[368,7135+7]..[368,7135+8]) (testsuite/tests/generalized-open/gpr1506.ml[368,7135+2]..[368,7135+14])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/generalized-open/gpr1506.ml[368,7135+11]..[368,7135+14])
                        Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[368,7135+11]..[368,7135+14])
                        []
              ]
            structure_item (testsuite/tests/generalized-open/gpr1506.ml[368,7135+15]..[368,7135+36])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/generalized-open/gpr1506.ml[368,7135+19]..[368,7135+24])
                    Ppat_var "print" (testsuite/tests/generalized-open/gpr1506.ml[368,7135+19]..[368,7135+24])
                  expression (testsuite/tests/generalized-open/gpr1506.ml[368,7135+27]..[368,7135+36])
                    Pexp_ident "print_int" (testsuite/tests/generalized-open/gpr1506.ml[368,7135+27]..[368,7135+36])
              ]
          ]
        module_type (testsuite/tests/generalized-open/gpr1506.ml[367,7084+18]..[367,7084+41])
          Pmty_with
          module_type (testsuite/tests/generalized-open/gpr1506.ml[367,7084+18]..[367,7084+23])
            Pmty_ident "Print" (testsuite/tests/generalized-open/gpr1506.ml[367,7084+18]..[367,7084+23])
          [
            Pwith_type "t" (testsuite/tests/generalized-open/gpr1506.ml[367,7084+34]..[367,7084+35])
              type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[367,7084+34]..[367,7084+35]) (testsuite/tests/generalized-open/gpr1506.ml[367,7084+29]..[367,7084+41])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  Some
                    core_type (testsuite/tests/generalized-open/gpr1506.ml[367,7084+38]..[367,7084+41])
                      Ptyp_constr "int" (testsuite/tests/generalized-open/gpr1506.ml[367,7084+38]..[367,7084+41])
                      []
          ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[370,7176+0]..[373,7295+3])
    Pstr_module
    "Print_list" (testsuite/tests/generalized-open/gpr1506.ml[370,7176+7]..[370,7176+17])
      module_expr (testsuite/tests/generalized-open/gpr1506.ml[370,7176+17]..[373,7295+3])
        Pmod_functor "P" (testsuite/tests/generalized-open/gpr1506.ml[370,7176+18]..[370,7176+19])
        module_type (testsuite/tests/generalized-open/gpr1506.ml[370,7176+21]..[370,7176+26])
          Pmty_ident "Print" (testsuite/tests/generalized-open/gpr1506.ml[370,7176+21]..[370,7176+26])
        module_expr (testsuite/tests/generalized-open/gpr1506.ml[370,7176+27]..[373,7295+3])
          Pmod_constraint
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[370,7176+60]..[373,7295+3])
            Pmod_structure
            [
              structure_item (testsuite/tests/generalized-open/gpr1506.ml[371,7243+2]..[371,7243+19])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[371,7243+7]..[371,7243+8]) (testsuite/tests/generalized-open/gpr1506.ml[371,7243+2]..[371,7243+19])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/generalized-open/gpr1506.ml[371,7243+11]..[371,7243+19])
                          Ptyp_constr "list" (testsuite/tests/generalized-open/gpr1506.ml[371,7243+15]..[371,7243+19])
                          [
                            core_type (testsuite/tests/generalized-open/gpr1506.ml[371,7243+11]..[371,7243+14])
                              Ptyp_constr "P.t" (testsuite/tests/generalized-open/gpr1506.ml[371,7243+11]..[371,7243+14])
                              []
                          ]
                ]
              structure_item (testsuite/tests/generalized-open/gpr1506.ml[372,7263+2]..[372,7263+31])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/generalized-open/gpr1506.ml[372,7263+6]..[372,7263+11])
                      Ppat_var "print" (testsuite/tests/generalized-open/gpr1506.ml[372,7263+6]..[372,7263+11])
                    expression (testsuite/tests/generalized-open/gpr1506.ml[372,7263+14]..[372,7263+31])
                      Pexp_apply
                      expression (testsuite/tests/generalized-open/gpr1506.ml[372,7263+14]..[372,7263+23])
                        Pexp_ident "List.iter" (testsuite/tests/generalized-open/gpr1506.ml[372,7263+14]..[372,7263+23])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/generalized-open/gpr1506.ml[372,7263+24]..[372,7263+31])
                            Pexp_ident "P.print" (testsuite/tests/generalized-open/gpr1506.ml[372,7263+24]..[372,7263+31])
                      ]
                ]
            ]
          module_type (testsuite/tests/generalized-open/gpr1506.ml[370,7176+29]..[370,7176+57])
            Pmty_with
            module_type (testsuite/tests/generalized-open/gpr1506.ml[370,7176+29]..[370,7176+34])
              Pmty_ident "Print" (testsuite/tests/generalized-open/gpr1506.ml[370,7176+29]..[370,7176+34])
            [
              Pwith_type "t" (testsuite/tests/generalized-open/gpr1506.ml[370,7176+45]..[370,7176+46])
                type_declaration "t" (testsuite/tests/generalized-open/gpr1506.ml[370,7176+45]..[370,7176+46]) (testsuite/tests/generalized-open/gpr1506.ml[370,7176+40]..[370,7176+57])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/generalized-open/gpr1506.ml[370,7176+49]..[370,7176+57])
                        Ptyp_constr "list" (testsuite/tests/generalized-open/gpr1506.ml[370,7176+53]..[370,7176+57])
                        [
                          core_type (testsuite/tests/generalized-open/gpr1506.ml[370,7176+49]..[370,7176+52])
                            Ptyp_constr "P.t" (testsuite/tests/generalized-open/gpr1506.ml[370,7176+49]..[370,7176+52])
                            []
                        ]
            ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[374,7299+0]..[374,7299+63])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/generalized-open/gpr1506.ml[374,7299+4]..[374,7299+21])
          Ppat_var "print_list_of_int" (testsuite/tests/generalized-open/gpr1506.ml[374,7299+4]..[374,7299+21])
        expression (testsuite/tests/generalized-open/gpr1506.ml[374,7299+24]..[374,7299+63])
          Pexp_open Fresh
          module_expr (testsuite/tests/generalized-open/gpr1506.ml[374,7299+33]..[374,7299+54])
            Pmod_apply
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[374,7299+33]..[374,7299+43])
              Pmod_ident "Print_list" (testsuite/tests/generalized-open/gpr1506.ml[374,7299+33]..[374,7299+43])
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[374,7299+44]..[374,7299+53])
              Pmod_ident "Print_int" (testsuite/tests/generalized-open/gpr1506.ml[374,7299+44]..[374,7299+53])
          expression (testsuite/tests/generalized-open/gpr1506.ml[374,7299+58]..[374,7299+63])
            Pexp_ident "print" (testsuite/tests/generalized-open/gpr1506.ml[374,7299+58]..[374,7299+63])
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[376,7364+0]..[382,7645+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[376,7364+9]..[382,7645+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[376,7364+9]..[382,7645+2])
          Pexp_constant PConst_string ("\nmodule type Print = sig type t val print : t -> unit end\nmodule Print_int : sig type t = int val print : t -> unit end\nmodule Print_list :\n  functor (P : Print) -> sig type t = P.t list val print : t -> unit end\nval print_list_of_int : Print_int.t list -> unit = <fun>\n",(testsuite/tests/generalized-open/gpr1506.ml[376,7364+11]..[382,7645+0]),Some "")
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[384,7650+0]..[384,7650+59])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/generalized-open/gpr1506.ml[384,7650+4]..[384,7650+5])
          Ppat_var "f" (testsuite/tests/generalized-open/gpr1506.ml[384,7650+4]..[384,7650+5])
        expression (testsuite/tests/generalized-open/gpr1506.ml[384,7650+6]..[384,7650+59]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/generalized-open/gpr1506.ml[384,7650+6]..[384,7650+8])
            Ppat_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[384,7650+6]..[384,7650+8])
            None
          expression (testsuite/tests/generalized-open/gpr1506.ml[384,7650+11]..[384,7650+59])
            Pexp_open Fresh
            module_expr (testsuite/tests/generalized-open/gpr1506.ml[384,7650+27]..[384,7650+53])
              Pmod_functor "X" (testsuite/tests/generalized-open/gpr1506.ml[384,7650+28]..[384,7650+29])
              module_type (testsuite/tests/generalized-open/gpr1506.ml[384,7650+31]..[384,7650+38])
                Pmty_signature
                []
              module_expr (testsuite/tests/generalized-open/gpr1506.ml[384,7650+43]..[384,7650+53])
                Pmod_structure
                []
            expression (testsuite/tests/generalized-open/gpr1506.ml[384,7650+57]..[384,7650+59])
              Pexp_construct "()" (testsuite/tests/generalized-open/gpr1506.ml[384,7650+57]..[384,7650+59])
              None
    ]
  structure_item (testsuite/tests/generalized-open/gpr1506.ml[386,7713+0]..[392,7966+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/generalized-open/gpr1506.ml[386,7713+9]..[392,7966+2])
        Pstr_eval
        expression (testsuite/tests/generalized-open/gpr1506.ml[386,7713+9]..[392,7966+2])
          Pexp_constant PConst_string ("\nLine 1, characters 27-53:\n1 | let f () = let open functor(X: sig end) -> struct end in ();;\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This module is not a structure; it has type\n       functor (X : sig end) -> sig end\n",(testsuite/tests/generalized-open/gpr1506.ml[386,7713+11]..[392,7966+0]),Some "")
    ]
]

