[
  structure_item (testsuite/tests/typing-modules/pr7851.ml[6,44+0]..[11,152+3])
    Pstr_module
    "F" (testsuite/tests/typing-modules/pr7851.ml[6,44+7]..[6,44+8])
      module_expr (testsuite/tests/typing-modules/pr7851.ml[6,44+8]..[11,152+3])
        Pmod_functor "X" (testsuite/tests/typing-modules/pr7851.ml[6,44+9]..[6,44+10])
        module_type (testsuite/tests/typing-modules/pr7851.ml[6,44+13]..[6,44+27])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/pr7851.ml[6,44+17]..[6,44+23])
              Psig_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-modules/pr7851.ml[6,44+22]..[6,44+23]) (testsuite/tests/typing-modules/pr7851.ml[6,44+17]..[6,44+23])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_expr (testsuite/tests/typing-modules/pr7851.ml[6,44+31]..[11,152+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/pr7851.ml[7,82+2]..[7,82+14])
              Pstr_type Rec
              [
                type_declaration "x" (testsuite/tests/typing-modules/pr7851.ml[7,82+7]..[7,82+8]) (testsuite/tests/typing-modules/pr7851.ml[7,82+2]..[7,82+14])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/pr7851.ml[7,82+11]..[7,82+14])
                        Ptyp_constr "X.t" (testsuite/tests/typing-modules/pr7851.ml[7,82+11]..[7,82+14])
                        []
              ]
            structure_item (testsuite/tests/typing-modules/pr7851.ml[8,97+2]..[8,97+14])
              Pstr_type Rec
              [
                type_declaration "y" (testsuite/tests/typing-modules/pr7851.ml[8,97+7]..[8,97+8]) (testsuite/tests/typing-modules/pr7851.ml[8,97+2]..[8,97+14])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/pr7851.ml[8,97+11]..[8,97+14])
                        Ptyp_constr "X.t" (testsuite/tests/typing-modules/pr7851.ml[8,97+11]..[8,97+14])
                        []
              ]
            structure_item (testsuite/tests/typing-modules/pr7851.ml[9,112+2]..[9,112+17])
              Pstr_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-modules/pr7851.ml[9,112+7]..[9,112+8]) (testsuite/tests/typing-modules/pr7851.ml[9,112+2]..[9,112+17])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_variant
                      [
                        (testsuite/tests/typing-modules/pr7851.ml[9,112+11]..[9,112+17])
                          "E" (testsuite/tests/typing-modules/pr7851.ml[9,112+11]..[9,112+12])
                          [
                            core_type (testsuite/tests/typing-modules/pr7851.ml[9,112+16]..[9,112+17])
                              Ptyp_constr "x" (testsuite/tests/typing-modules/pr7851.ml[9,112+16]..[9,112+17])
                              []
                          ]
                          None
                      ]
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            structure_item (testsuite/tests/typing-modules/pr7851.ml[10,130+2]..[10,130+21])
              Pstr_type Rec
              [
                type_declaration "u" (testsuite/tests/typing-modules/pr7851.ml[10,130+7]..[10,130+8]) (testsuite/tests/typing-modules/pr7851.ml[10,130+2]..[10,130+21])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_variant
                      [
                        (testsuite/tests/typing-modules/pr7851.ml[10,130+15]..[10,130+21])
                          "E" (testsuite/tests/typing-modules/pr7851.ml[10,130+15]..[10,130+16])
                          [
                            core_type (testsuite/tests/typing-modules/pr7851.ml[10,130+20]..[10,130+21])
                              Ptyp_constr "y" (testsuite/tests/typing-modules/pr7851.ml[10,130+20]..[10,130+21])
                              []
                          ]
                          None
                      ]
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/pr7851.ml[10,130+11]..[10,130+12])
                        Ptyp_constr "t" (testsuite/tests/typing-modules/pr7851.ml[10,130+11]..[10,130+12])
                        []
              ]
          ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[13,159+0]..[13,159+31])
    Pstr_module
    "M" (testsuite/tests/typing-modules/pr7851.ml[13,159+7]..[13,159+8])
      module_expr (testsuite/tests/typing-modules/pr7851.ml[13,159+11]..[13,159+31])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/pr7851.ml[13,159+11]..[13,159+12])
          Pmod_ident "F" (testsuite/tests/typing-modules/pr7851.ml[13,159+11]..[13,159+12])
        module_expr (testsuite/tests/typing-modules/pr7851.ml[13,159+13]..[13,159+30])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/pr7851.ml[13,159+20]..[13,159+26])
              Pstr_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-modules/pr7851.ml[13,159+25]..[13,159+26]) (testsuite/tests/typing-modules/pr7851.ml[13,159+20]..[13,159+26])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[15,194+0]..[15,194+32])
    Pstr_modtype "S" (testsuite/tests/typing-modules/pr7851.ml[15,194+12]..[15,194+13])
      module_type (testsuite/tests/typing-modules/pr7851.ml[15,194+16]..[15,194+32])
        Pmty_typeof
        module_expr (testsuite/tests/typing-modules/pr7851.ml[15,194+31]..[15,194+32])
          Pmod_ident "M" (testsuite/tests/typing-modules/pr7851.ml[15,194+31]..[15,194+32])
  structure_item (testsuite/tests/typing-modules/pr7851.ml[16,229+0]..[22,503+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/pr7851.ml[16,229+9]..[22,503+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/pr7851.ml[16,229+9]..[22,503+2])
          Pexp_constant PConst_string ("\nmodule F :\n  functor (X : sig type t end) ->\n    sig type x = X.t type y = X.t type t = E of x type u = t = E of y end\nmodule M : sig type x type y type t = E of x type u = t = E of y end\nmodule type S = sig type x type y type t = E of x type u = t = E of y end\n",(testsuite/tests/typing-modules/pr7851.ml[16,229+11]..[22,503+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[24,508+0]..[24,508+58])
    Pstr_recmodule
    [
      "M1" (testsuite/tests/typing-modules/pr7851.ml[24,508+11]..[24,508+13])
        module_expr (testsuite/tests/typing-modules/pr7851.ml[24,508+14]..[24,508+58])
          Pmod_constraint
          module_expr (testsuite/tests/typing-modules/pr7851.ml[24,508+56]..[24,508+58])
            Pmod_ident "M1" (testsuite/tests/typing-modules/pr7851.ml[24,508+56]..[24,508+58])
          module_type (testsuite/tests/typing-modules/pr7851.ml[24,508+16]..[24,508+53])
            Pmty_with
            module_type (testsuite/tests/typing-modules/pr7851.ml[24,508+16]..[24,508+17])
              Pmty_ident "S" (testsuite/tests/typing-modules/pr7851.ml[24,508+16]..[24,508+17])
            [
              Pwith_type "x" (testsuite/tests/typing-modules/pr7851.ml[24,508+28]..[24,508+29])
                type_declaration "x" (testsuite/tests/typing-modules/pr7851.ml[24,508+28]..[24,508+29]) (testsuite/tests/typing-modules/pr7851.ml[24,508+23]..[24,508+35])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/pr7851.ml[24,508+32]..[24,508+35])
                        Ptyp_constr "int" (testsuite/tests/typing-modules/pr7851.ml[24,508+32]..[24,508+35])
                        []
              Pwith_type "y" (testsuite/tests/typing-modules/pr7851.ml[24,508+45]..[24,508+46])
                type_declaration "y" (testsuite/tests/typing-modules/pr7851.ml[24,508+45]..[24,508+46]) (testsuite/tests/typing-modules/pr7851.ml[24,508+40]..[24,508+53])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/pr7851.ml[24,508+49]..[24,508+53])
                        Ptyp_constr "bool" (testsuite/tests/typing-modules/pr7851.ml[24,508+49]..[24,508+53])
                        []
            ]
    ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[25,569+0]..[35,971+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/pr7851.ml[25,569+9]..[35,971+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/pr7851.ml[25,569+9]..[35,971+2])
          Pexp_constant PConst_string ("\nLine 1, characters 0-58:\n1 | module rec M1 : S with type x = int and type y = bool = M1;;\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This variant or record definition does not match that of type M1.t\n       Constructors do not match:\n         E of M1.x\n       is not the same as:\n         E of M1.y\n       The type M1.x = int is not equal to the type M1.y = bool\n",(testsuite/tests/typing-modules/pr7851.ml[25,569+11]..[35,971+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[37,976+0]..[39,1033+3])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-modules/pr7851.ml[37,976+4]..[37,976+15])
          Ppat_var "bool_of_int" (testsuite/tests/typing-modules/pr7851.ml[37,976+4]..[37,976+15])
        expression (testsuite/tests/typing-modules/pr7851.ml[37,976+16]..[39,1033+3]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-modules/pr7851.ml[37,976+16]..[37,976+17])
            Ppat_var "x" (testsuite/tests/typing-modules/pr7851.ml[37,976+16]..[37,976+17])
          expression (testsuite/tests/typing-modules/pr7851.ml[38,996+2]..[39,1033+3])
            Pexp_let Nonrec
            [
              <def>
                pattern (testsuite/tests/typing-modules/pr7851.ml[38,996+6]..[38,996+18])
                  Ppat_constraint
                  pattern (testsuite/tests/typing-modules/pr7851.ml[38,996+7]..[38,996+10])
                    Ppat_construct "E" (testsuite/tests/typing-modules/pr7851.ml[38,996+7]..[38,996+8])
                    Some
                      []
                      pattern (testsuite/tests/typing-modules/pr7851.ml[38,996+9]..[38,996+10])
                        Ppat_var "y" (testsuite/tests/typing-modules/pr7851.ml[38,996+9]..[38,996+10])
                  core_type (testsuite/tests/typing-modules/pr7851.ml[38,996+13]..[38,996+17])
                    Ptyp_constr "M1.u" (testsuite/tests/typing-modules/pr7851.ml[38,996+13]..[38,996+17])
                    []
                expression (testsuite/tests/typing-modules/pr7851.ml[38,996+21]..[38,996+33])
                  Pexp_constraint
                  expression (testsuite/tests/typing-modules/pr7851.ml[38,996+22]..[38,996+25])
                    Pexp_construct "E" (testsuite/tests/typing-modules/pr7851.ml[38,996+22]..[38,996+23])
                    Some
                      expression (testsuite/tests/typing-modules/pr7851.ml[38,996+24]..[38,996+25])
                        Pexp_ident "x" (testsuite/tests/typing-modules/pr7851.ml[38,996+24]..[38,996+25])
                  core_type (testsuite/tests/typing-modules/pr7851.ml[38,996+28]..[38,996+32])
                    Ptyp_constr "M1.t" (testsuite/tests/typing-modules/pr7851.ml[38,996+28]..[38,996+32])
                    []
            ]
            expression (testsuite/tests/typing-modules/pr7851.ml[39,1033+2]..[39,1033+3])
              Pexp_ident "y" (testsuite/tests/typing-modules/pr7851.ml[39,1033+2]..[39,1033+3])
    ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[41,1040+0]..[41,1040+13])
    Pstr_eval
    expression (testsuite/tests/typing-modules/pr7851.ml[41,1040+0]..[41,1040+13])
      Pexp_apply
      expression (testsuite/tests/typing-modules/pr7851.ml[41,1040+0]..[41,1040+11])
        Pexp_ident "bool_of_int" (testsuite/tests/typing-modules/pr7851.ml[41,1040+0]..[41,1040+11])
      [
        <arg>
        Nolabel
          expression (testsuite/tests/typing-modules/pr7851.ml[41,1040+12]..[41,1040+13])
            Pexp_constant PConst_int (3,None)
      ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[42,1056+0]..[47,1197+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/pr7851.ml[42,1056+9]..[47,1197+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/pr7851.ml[42,1056+9]..[47,1197+2])
          Pexp_constant PConst_string ("\nLine 2, characters 28-32:\n2 |   let (E y : M1.u) = (E x : M1.t) in\n                                ^^^^\nError: Unbound module M1\n",(testsuite/tests/typing-modules/pr7851.ml[42,1056+11]..[47,1197+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[50,1240+0]..[50,1240+31])
    Pstr_type Rec
    [
      type_declaration "eq" (testsuite/tests/typing-modules/pr7851.ml[50,1240+11]..[50,1240+13]) (testsuite/tests/typing-modules/pr7851.ml[50,1240+0]..[50,1240+31])
        ptype_params =
          [
            core_type (testsuite/tests/typing-modules/pr7851.ml[50,1240+6]..[50,1240+7])
              Ptyp_any
            core_type (testsuite/tests/typing-modules/pr7851.ml[50,1240+8]..[50,1240+9])
              Ptyp_any
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-modules/pr7851.ml[50,1240+16]..[50,1240+31])
                "Eq" (testsuite/tests/typing-modules/pr7851.ml[50,1240+16]..[50,1240+18])
                []
                Some
                  core_type (testsuite/tests/typing-modules/pr7851.ml[50,1240+21]..[50,1240+31])
                    Ptyp_constr "eq" (testsuite/tests/typing-modules/pr7851.ml[50,1240+29]..[50,1240+31])
                    [
                      core_type (testsuite/tests/typing-modules/pr7851.ml[50,1240+22]..[50,1240+24])
                        Ptyp_var a
                      core_type (testsuite/tests/typing-modules/pr7851.ml[50,1240+25]..[50,1240+27])
                        Ptyp_var a
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[51,1272+0]..[55,1406+3])
    Pstr_module
    "F" (testsuite/tests/typing-modules/pr7851.ml[51,1272+7]..[51,1272+8])
      module_expr (testsuite/tests/typing-modules/pr7851.ml[51,1272+8]..[55,1406+3])
        Pmod_functor "X" (testsuite/tests/typing-modules/pr7851.ml[51,1272+9]..[51,1272+10])
        module_type (testsuite/tests/typing-modules/pr7851.ml[51,1272+13]..[51,1272+28])
          Pmty_ident "Set.OrderedType" (testsuite/tests/typing-modules/pr7851.ml[51,1272+13]..[51,1272+28])
        module_expr (testsuite/tests/typing-modules/pr7851.ml[51,1272+32]..[55,1406+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/pr7851.ml[52,1311+0]..[52,1311+44])
              Pstr_type Rec
              [
                type_declaration "x" (testsuite/tests/typing-modules/pr7851.ml[52,1311+5]..[52,1311+6]) (testsuite/tests/typing-modules/pr7851.ml[52,1311+0]..[52,1311+22])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/pr7851.ml[52,1311+9]..[52,1311+22])
                        Ptyp_constr "Set.Make(X).t" (testsuite/tests/typing-modules/pr7851.ml[52,1311+9]..[52,1311+22])
                        []
                type_declaration "y" (testsuite/tests/typing-modules/pr7851.ml[52,1311+27]..[52,1311+28]) (testsuite/tests/typing-modules/pr7851.ml[52,1311+23]..[52,1311+44])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/pr7851.ml[52,1311+31]..[52,1311+44])
                        Ptyp_constr "Set.Make(X).t" (testsuite/tests/typing-modules/pr7851.ml[52,1311+31]..[52,1311+44])
                        []
              ]
            structure_item (testsuite/tests/typing-modules/pr7851.ml[53,1356+0]..[53,1356+22])
              Pstr_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-modules/pr7851.ml[53,1356+5]..[53,1356+6]) (testsuite/tests/typing-modules/pr7851.ml[53,1356+0]..[53,1356+22])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_variant
                      [
                        (testsuite/tests/typing-modules/pr7851.ml[53,1356+9]..[53,1356+22])
                          "E" (testsuite/tests/typing-modules/pr7851.ml[53,1356+9]..[53,1356+10])
                          [
                            core_type (testsuite/tests/typing-modules/pr7851.ml[53,1356+14]..[53,1356+22])
                              Ptyp_constr "eq" (testsuite/tests/typing-modules/pr7851.ml[53,1356+20]..[53,1356+22])
                              [
                                core_type (testsuite/tests/typing-modules/pr7851.ml[53,1356+15]..[53,1356+16])
                                  Ptyp_constr "x" (testsuite/tests/typing-modules/pr7851.ml[53,1356+15]..[53,1356+16])
                                  []
                                core_type (testsuite/tests/typing-modules/pr7851.ml[53,1356+17]..[53,1356+18])
                                  Ptyp_constr "x" (testsuite/tests/typing-modules/pr7851.ml[53,1356+17]..[53,1356+18])
                                  []
                              ]
                          ]
                          None
                      ]
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            structure_item (testsuite/tests/typing-modules/pr7851.ml[54,1379+0]..[54,1379+26])
              Pstr_type Rec
              [
                type_declaration "u" (testsuite/tests/typing-modules/pr7851.ml[54,1379+5]..[54,1379+6]) (testsuite/tests/typing-modules/pr7851.ml[54,1379+0]..[54,1379+26])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_variant
                      [
                        (testsuite/tests/typing-modules/pr7851.ml[54,1379+13]..[54,1379+26])
                          "E" (testsuite/tests/typing-modules/pr7851.ml[54,1379+13]..[54,1379+14])
                          [
                            core_type (testsuite/tests/typing-modules/pr7851.ml[54,1379+18]..[54,1379+26])
                              Ptyp_constr "eq" (testsuite/tests/typing-modules/pr7851.ml[54,1379+24]..[54,1379+26])
                              [
                                core_type (testsuite/tests/typing-modules/pr7851.ml[54,1379+19]..[54,1379+20])
                                  Ptyp_constr "x" (testsuite/tests/typing-modules/pr7851.ml[54,1379+19]..[54,1379+20])
                                  []
                                core_type (testsuite/tests/typing-modules/pr7851.ml[54,1379+21]..[54,1379+22])
                                  Ptyp_constr "y" (testsuite/tests/typing-modules/pr7851.ml[54,1379+21]..[54,1379+22])
                                  []
                              ]
                          ]
                          None
                      ]
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/pr7851.ml[54,1379+9]..[54,1379+10])
                        Ptyp_constr "t" (testsuite/tests/typing-modules/pr7851.ml[54,1379+9]..[54,1379+10])
                        []
              ]
          ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[56,1412+0]..[56,1412+53])
    Pstr_module
    "M" (testsuite/tests/typing-modules/pr7851.ml[56,1412+7]..[56,1412+8])
      module_expr (testsuite/tests/typing-modules/pr7851.ml[56,1412+11]..[56,1412+53])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/pr7851.ml[56,1412+11]..[56,1412+12])
          Pmod_ident "F" (testsuite/tests/typing-modules/pr7851.ml[56,1412+11]..[56,1412+12])
        module_expr (testsuite/tests/typing-modules/pr7851.ml[56,1412+13]..[56,1412+52])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/pr7851.ml[56,1412+20]..[56,1412+26])
              Pstr_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-modules/pr7851.ml[56,1412+25]..[56,1412+26]) (testsuite/tests/typing-modules/pr7851.ml[56,1412+20]..[56,1412+26])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            structure_item (testsuite/tests/typing-modules/pr7851.ml[56,1412+27]..[56,1412+48])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/typing-modules/pr7851.ml[56,1412+31]..[56,1412+38])
                    Ppat_var "compare" (testsuite/tests/typing-modules/pr7851.ml[56,1412+31]..[56,1412+38])
                  expression (testsuite/tests/typing-modules/pr7851.ml[56,1412+41]..[56,1412+48])
                    Pexp_ident "compare" (testsuite/tests/typing-modules/pr7851.ml[56,1412+41]..[56,1412+48])
              ]
          ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[57,1468+0]..[57,1468+32])
    Pstr_modtype "S" (testsuite/tests/typing-modules/pr7851.ml[57,1468+12]..[57,1468+13])
      module_type (testsuite/tests/typing-modules/pr7851.ml[57,1468+16]..[57,1468+32])
        Pmty_typeof
        module_expr (testsuite/tests/typing-modules/pr7851.ml[57,1468+31]..[57,1468+32])
          Pmod_ident "M" (testsuite/tests/typing-modules/pr7851.ml[57,1468+31]..[57,1468+32])
  structure_item (testsuite/tests/typing-modules/pr7851.ml[58,1503+0]..[72,1909+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/pr7851.ml[58,1503+9]..[72,1909+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/pr7851.ml[58,1503+9]..[72,1909+2])
          Pexp_constant PConst_string ("\ntype (_, _) eq = Eq : ('a, 'a) eq\nmodule F :\n  functor (X : Set.OrderedType) ->\n    sig\n      type x = Set.Make(X).t\n      and y = Set.Make(X).t\n      type t = E of (x, x) eq\n      type u = t = E of (x, y) eq\n    end\nmodule M :\n  sig type x and y type t = E of (x, x) eq type u = t = E of (x, y) eq end\nmodule type S =\n  sig type x and y type t = E of (x, x) eq type u = t = E of (x, y) eq end\n",(testsuite/tests/typing-modules/pr7851.ml[58,1503+11]..[72,1909+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[73,1913+0]..[73,1913+58])
    Pstr_recmodule
    [
      "M1" (testsuite/tests/typing-modules/pr7851.ml[73,1913+11]..[73,1913+13])
        module_expr (testsuite/tests/typing-modules/pr7851.ml[73,1913+14]..[73,1913+58])
          Pmod_constraint
          module_expr (testsuite/tests/typing-modules/pr7851.ml[73,1913+56]..[73,1913+58])
            Pmod_ident "M1" (testsuite/tests/typing-modules/pr7851.ml[73,1913+56]..[73,1913+58])
          module_type (testsuite/tests/typing-modules/pr7851.ml[73,1913+16]..[73,1913+53])
            Pmty_with
            module_type (testsuite/tests/typing-modules/pr7851.ml[73,1913+16]..[73,1913+17])
              Pmty_ident "S" (testsuite/tests/typing-modules/pr7851.ml[73,1913+16]..[73,1913+17])
            [
              Pwith_type "x" (testsuite/tests/typing-modules/pr7851.ml[73,1913+28]..[73,1913+29])
                type_declaration "x" (testsuite/tests/typing-modules/pr7851.ml[73,1913+28]..[73,1913+29]) (testsuite/tests/typing-modules/pr7851.ml[73,1913+23]..[73,1913+35])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/pr7851.ml[73,1913+32]..[73,1913+35])
                        Ptyp_constr "int" (testsuite/tests/typing-modules/pr7851.ml[73,1913+32]..[73,1913+35])
                        []
              Pwith_type "y" (testsuite/tests/typing-modules/pr7851.ml[73,1913+45]..[73,1913+46])
                type_declaration "y" (testsuite/tests/typing-modules/pr7851.ml[73,1913+45]..[73,1913+46]) (testsuite/tests/typing-modules/pr7851.ml[73,1913+40]..[73,1913+53])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/pr7851.ml[73,1913+49]..[73,1913+53])
                        Ptyp_constr "bool" (testsuite/tests/typing-modules/pr7851.ml[73,1913+49]..[73,1913+53])
                        []
            ]
    ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[74,1974+0]..[74,1974+33])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-modules/pr7851.ml[74,1974+4]..[74,1974+17])
          Ppat_constraint
          pattern (testsuite/tests/typing-modules/pr7851.ml[74,1974+5]..[74,1974+9])
            Ppat_construct "E" (testsuite/tests/typing-modules/pr7851.ml[74,1974+5]..[74,1974+6])
            Some
              []
              pattern (testsuite/tests/typing-modules/pr7851.ml[74,1974+7]..[74,1974+9])
                Ppat_var "eq" (testsuite/tests/typing-modules/pr7851.ml[74,1974+7]..[74,1974+9])
          core_type (testsuite/tests/typing-modules/pr7851.ml[74,1974+12]..[74,1974+16])
            Ptyp_constr "M1.u" (testsuite/tests/typing-modules/pr7851.ml[74,1974+12]..[74,1974+16])
            []
        expression (testsuite/tests/typing-modules/pr7851.ml[74,1974+20]..[74,1974+33])
          Pexp_constraint
          expression (testsuite/tests/typing-modules/pr7851.ml[74,1974+21]..[74,1974+25])
            Pexp_construct "E" (testsuite/tests/typing-modules/pr7851.ml[74,1974+21]..[74,1974+22])
            Some
              expression (testsuite/tests/typing-modules/pr7851.ml[74,1974+23]..[74,1974+25])
                Pexp_construct "Eq" (testsuite/tests/typing-modules/pr7851.ml[74,1974+23]..[74,1974+25])
                None
          core_type (testsuite/tests/typing-modules/pr7851.ml[74,1974+28]..[74,1974+32])
            Ptyp_constr "M1.t" (testsuite/tests/typing-modules/pr7851.ml[74,1974+28]..[74,1974+32])
            []
    ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[75,2010+0]..[75,2010+55])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-modules/pr7851.ml[75,2010+4]..[75,2010+39]) ghost
          Ppat_constraint
          pattern (testsuite/tests/typing-modules/pr7851.ml[75,2010+4]..[75,2010+8])
            Ppat_var "cast" (testsuite/tests/typing-modules/pr7851.ml[75,2010+4]..[75,2010+8])
          core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+4]..[75,2010+55]) ghost
            Ptyp_poly 'a 'b
            core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+21]..[75,2010+39])
              Ptyp_arrow
              Nolabel
              core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+21]..[75,2010+29])
                Ptyp_constr "eq" (testsuite/tests/typing-modules/pr7851.ml[75,2010+27]..[75,2010+29])
                [
                  core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+22]..[75,2010+23])
                    Ptyp_var a
                  core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+24]..[75,2010+25])
                    Ptyp_var b
                ]
              core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+33]..[75,2010+39])
                Ptyp_arrow
                Nolabel
                core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+33]..[75,2010+34])
                  Ptyp_var a
                core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+38]..[75,2010+39])
                  Ptyp_var b
        expression (testsuite/tests/typing-modules/pr7851.ml[75,2010+4]..[75,2010+55])
          Pexp_newtype "a"
          expression (testsuite/tests/typing-modules/pr7851.ml[75,2010+4]..[75,2010+55])
            Pexp_newtype "b"
            expression (testsuite/tests/typing-modules/pr7851.ml[75,2010+4]..[75,2010+55])
              Pexp_constraint
              expression (testsuite/tests/typing-modules/pr7851.ml[75,2010+42]..[75,2010+55])
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/typing-modules/pr7851.ml[75,2010+46]..[75,2010+48])
                  Ppat_construct "Eq" (testsuite/tests/typing-modules/pr7851.ml[75,2010+46]..[75,2010+48])
                  None
                expression (testsuite/tests/typing-modules/pr7851.ml[75,2010+49]..[75,2010+55]) ghost
                  Pexp_fun
                  Nolabel
                  None
                  pattern (testsuite/tests/typing-modules/pr7851.ml[75,2010+49]..[75,2010+50])
                    Ppat_var "x" (testsuite/tests/typing-modules/pr7851.ml[75,2010+49]..[75,2010+50])
                  expression (testsuite/tests/typing-modules/pr7851.ml[75,2010+54]..[75,2010+55])
                    Pexp_ident "x" (testsuite/tests/typing-modules/pr7851.ml[75,2010+54]..[75,2010+55])
              core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+21]..[75,2010+39])
                Ptyp_arrow
                Nolabel
                core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+21]..[75,2010+29])
                  Ptyp_constr "eq" (testsuite/tests/typing-modules/pr7851.ml[75,2010+27]..[75,2010+29])
                  [
                    core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+22]..[75,2010+23])
                      Ptyp_constr "a" (testsuite/tests/typing-modules/pr7851.ml[75,2010+22]..[75,2010+23])
                      []
                    core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+24]..[75,2010+25])
                      Ptyp_constr "b" (testsuite/tests/typing-modules/pr7851.ml[75,2010+24]..[75,2010+25])
                      []
                  ]
                core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+33]..[75,2010+39])
                  Ptyp_arrow
                  Nolabel
                  core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+33]..[75,2010+34])
                    Ptyp_constr "a" (testsuite/tests/typing-modules/pr7851.ml[75,2010+33]..[75,2010+34])
                    []
                  core_type (testsuite/tests/typing-modules/pr7851.ml[75,2010+38]..[75,2010+39])
                    Ptyp_constr "b" (testsuite/tests/typing-modules/pr7851.ml[75,2010+38]..[75,2010+39])
                    []
    ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[76,2068+0]..[76,2068+9])
    Pstr_eval
    expression (testsuite/tests/typing-modules/pr7851.ml[76,2068+0]..[76,2068+9])
      Pexp_apply
      expression (testsuite/tests/typing-modules/pr7851.ml[76,2068+0]..[76,2068+4])
        Pexp_ident "cast" (testsuite/tests/typing-modules/pr7851.ml[76,2068+0]..[76,2068+4])
      [
        <arg>
        Nolabel
          expression (testsuite/tests/typing-modules/pr7851.ml[76,2068+5]..[76,2068+7])
            Pexp_ident "eq" (testsuite/tests/typing-modules/pr7851.ml[76,2068+5]..[76,2068+7])
        <arg>
        Nolabel
          expression (testsuite/tests/typing-modules/pr7851.ml[76,2068+8]..[76,2068+9])
            Pexp_constant PConst_int (3,None)
      ]
  structure_item (testsuite/tests/typing-modules/pr7851.ml[77,2080+0]..[88,2569+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/pr7851.ml[77,2080+9]..[88,2569+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/pr7851.ml[77,2080+9]..[88,2569+2])
          Pexp_constant PConst_string ("\nLine 1, characters 0-58:\n1 | module rec M1 : S with type x = int and type y = bool = M1;;\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This variant or record definition does not match that of type M1.t\n       Constructors do not match:\n         E of (M1.x, M1.x) eq\n       is not the same as:\n         E of (M1.x, M1.y) eq\n       The type (M1.x, M1.x) eq is not equal to the type (M1.x, M1.y) eq\n       Type M1.x = int is not equal to type M1.y = bool\n",(testsuite/tests/typing-modules/pr7851.ml[77,2080+11]..[88,2569+0]),Some "")
    ]
]

