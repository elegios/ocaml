[
  structure_item (testsuite/tests/typing-gadts/pr6817.ml[5,24+0]..[7,62+5])
    Pstr_module
    "A" (testsuite/tests/typing-gadts/pr6817.ml[5,24+7]..[5,24+8])
      module_expr (testsuite/tests/typing-gadts/pr6817.ml[5,24+11]..[7,62+5])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-gadts/pr6817.ml[6,42+4]..[6,42+19])
            Pstr_type Rec
            [
              type_declaration "nil" (testsuite/tests/typing-gadts/pr6817.ml[6,42+9]..[6,42+12]) (testsuite/tests/typing-gadts/pr6817.ml[6,42+4]..[6,42+19])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_variant
                    [
                      (testsuite/tests/typing-gadts/pr6817.ml[6,42+15]..[6,42+19])
                        "Cstr" (testsuite/tests/typing-gadts/pr6817.ml[6,42+15]..[6,42+19])
                        []
                        None
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-gadts/pr6817.ml[8,68+0]..[8,68+6])
    Pstr_open Fresh
    module_expr (testsuite/tests/typing-gadts/pr6817.ml[8,68+5]..[8,68+6])
      Pmod_ident "A" (testsuite/tests/typing-gadts/pr6817.ml[8,68+5]..[8,68+6])
  structure_item (testsuite/tests/typing-gadts/pr6817.ml[11,79+0]..[13,106+31])
    Pstr_type Rec
    [
      type_declaration "s" (testsuite/tests/typing-gadts/pr6817.ml[11,79+7]..[11,79+8]) (testsuite/tests/typing-gadts/pr6817.ml[11,79+0]..[13,106+31])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr6817.ml[11,79+5]..[11,79+6])
              Ptyp_any
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr6817.ml[12,90+2]..[12,90+15])
                "Nil" (testsuite/tests/typing-gadts/pr6817.ml[12,90+4]..[12,90+7])
                []
                Some
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[12,90+10]..[12,90+15])
                    Ptyp_constr "s" (testsuite/tests/typing-gadts/pr6817.ml[12,90+14]..[12,90+15])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[12,90+10]..[12,90+13])
                        Ptyp_constr "nil" (testsuite/tests/typing-gadts/pr6817.ml[12,90+10]..[12,90+13])
                        []
                    ]
              (testsuite/tests/typing-gadts/pr6817.ml[13,106+2]..[13,106+31])
                "Cons" (testsuite/tests/typing-gadts/pr6817.ml[13,106+4]..[13,106+8])
                [
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[13,106+11]..[13,106+15])
                    Ptyp_constr "s" (testsuite/tests/typing-gadts/pr6817.ml[13,106+14]..[13,106+15])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[13,106+11]..[13,106+13])
                        Ptyp_var t
                    ]
                ]
                Some
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[13,106+19]..[13,106+31])
                    Ptyp_constr "s" (testsuite/tests/typing-gadts/pr6817.ml[13,106+30]..[13,106+31])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[13,106+20]..[13,106+28])
                        Ptyp_arrow
                        Nolabel
                        core_type (testsuite/tests/typing-gadts/pr6817.ml[13,106+20]..[13,106+22])
                          Ptyp_var h
                        core_type (testsuite/tests/typing-gadts/pr6817.ml[13,106+26]..[13,106+28])
                          Ptyp_var t
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr6817.ml[15,139+0]..[17,202+60])
    Pstr_type Rec
    [
      type_declaration "var" (testsuite/tests/typing-gadts/pr6817.ml[15,139+20]..[15,139+23]) (testsuite/tests/typing-gadts/pr6817.ml[15,139+0]..[17,202+60])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr6817.ml[15,139+6]..[15,139+12])
              Ptyp_var stack
            core_type (testsuite/tests/typing-gadts/pr6817.ml[15,139+14]..[15,139+18])
              Ptyp_var typ
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr6817.ml[16,165+2]..[16,165+36])
                "Head" (testsuite/tests/typing-gadts/pr6817.ml[16,165+4]..[16,165+8])
                []
                Some
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[16,165+11]..[16,165+36])
                    Ptyp_constr "var" (testsuite/tests/typing-gadts/pr6817.ml[16,165+33]..[16,165+36])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[16,165+12]..[16,165+25])
                        Ptyp_constr "s" (testsuite/tests/typing-gadts/pr6817.ml[16,165+24]..[16,165+25])
                        [
                          core_type (testsuite/tests/typing-gadts/pr6817.ml[16,165+13]..[16,165+22])
                            Ptyp_arrow
                            Nolabel
                            core_type (testsuite/tests/typing-gadts/pr6817.ml[16,165+13]..[16,165+17])
                              Ptyp_var typ
                            core_type (testsuite/tests/typing-gadts/pr6817.ml[16,165+21]..[16,165+22])
                              Ptyp_any
                        ]
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[16,165+27]..[16,165+31])
                        Ptyp_var typ
                    ]
              (testsuite/tests/typing-gadts/pr6817.ml[17,202+2]..[17,202+60])
                "Tail" (testsuite/tests/typing-gadts/pr6817.ml[17,202+4]..[17,202+8])
                [
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[17,202+11]..[17,202+30])
                    Ptyp_constr "var" (testsuite/tests/typing-gadts/pr6817.ml[17,202+27]..[17,202+30])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[17,202+12]..[17,202+19])
                        Ptyp_constr "s" (testsuite/tests/typing-gadts/pr6817.ml[17,202+18]..[17,202+19])
                        [
                          core_type (testsuite/tests/typing-gadts/pr6817.ml[17,202+12]..[17,202+17])
                            Ptyp_var tail
                        ]
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[17,202+21]..[17,202+25])
                        Ptyp_var typ
                    ]
                ]
                Some
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[17,202+34]..[17,202+60])
                    Ptyp_constr "var" (testsuite/tests/typing-gadts/pr6817.ml[17,202+57]..[17,202+60])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[17,202+35]..[17,202+49])
                        Ptyp_constr "s" (testsuite/tests/typing-gadts/pr6817.ml[17,202+48]..[17,202+49])
                        [
                          core_type (testsuite/tests/typing-gadts/pr6817.ml[17,202+36]..[17,202+46])
                            Ptyp_arrow
                            Nolabel
                            core_type (testsuite/tests/typing-gadts/pr6817.ml[17,202+36]..[17,202+37])
                              Ptyp_any
                            core_type (testsuite/tests/typing-gadts/pr6817.ml[17,202+41]..[17,202+46])
                              Ptyp_var tail
                        ]
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[17,202+51]..[17,202+55])
                        Ptyp_var typ
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr6817.ml[19,264+0]..[21,296+43])
    Pstr_type Rec
    [
      type_declaration "lst" (testsuite/tests/typing-gadts/pr6817.ml[19,264+7]..[19,264+10]) (testsuite/tests/typing-gadts/pr6817.ml[19,264+0]..[21,296+43])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr6817.ml[19,264+5]..[19,264+6])
              Ptyp_any
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr6817.ml[20,277+2]..[20,277+18])
                "CNil" (testsuite/tests/typing-gadts/pr6817.ml[20,277+4]..[20,277+8])
                []
                Some
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[20,277+11]..[20,277+18])
                    Ptyp_constr "lst" (testsuite/tests/typing-gadts/pr6817.ml[20,277+15]..[20,277+18])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[20,277+11]..[20,277+14])
                        Ptyp_constr "nil" (testsuite/tests/typing-gadts/pr6817.ml[20,277+11]..[20,277+14])
                        []
                    ]
              (testsuite/tests/typing-gadts/pr6817.ml[21,296+2]..[21,296+43])
                "CCons" (testsuite/tests/typing-gadts/pr6817.ml[21,296+4]..[21,296+9])
                [
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[21,296+12]..[21,296+14])
                    Ptyp_var h
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[21,296+18]..[21,296+24])
                    Ptyp_constr "lst" (testsuite/tests/typing-gadts/pr6817.ml[21,296+21]..[21,296+24])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[21,296+18]..[21,296+20])
                        Ptyp_var t
                    ]
                ]
                Some
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[21,296+29]..[21,296+43])
                    Ptyp_constr "lst" (testsuite/tests/typing-gadts/pr6817.ml[21,296+40]..[21,296+43])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[21,296+30]..[21,296+38])
                        Ptyp_arrow
                        Nolabel
                        core_type (testsuite/tests/typing-gadts/pr6817.ml[21,296+30]..[21,296+32])
                          Ptyp_var h
                        core_type (testsuite/tests/typing-gadts/pr6817.ml[21,296+36]..[21,296+38])
                          Ptyp_var t
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr6817.ml[24,344+0]..[27,470+41])
    Pstr_value Rec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/pr6817.ml[24,344+8]..[24,344+66]) ghost
          Ppat_constraint
          pattern (testsuite/tests/typing-gadts/pr6817.ml[24,344+8]..[24,344+15])
            Ppat_var "get_var" (testsuite/tests/typing-gadts/pr6817.ml[24,344+8]..[24,344+15])
          core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+8]..[27,470+41]) ghost
            Ptyp_poly 'stk 'ret
            core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+32]..[24,344+66])
              Ptyp_arrow
              Nolabel
              core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+32]..[24,344+48])
                Ptyp_constr "var" (testsuite/tests/typing-gadts/pr6817.ml[24,344+45]..[24,344+48])
                [
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+33]..[24,344+38])
                    Ptyp_constr "s" (testsuite/tests/typing-gadts/pr6817.ml[24,344+37]..[24,344+38])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+33]..[24,344+36])
                        Ptyp_var stk
                    ]
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+40]..[24,344+43])
                    Ptyp_var ret
                ]
              core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+52]..[24,344+66])
                Ptyp_arrow
                Nolabel
                core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+52]..[24,344+59])
                  Ptyp_constr "lst" (testsuite/tests/typing-gadts/pr6817.ml[24,344+56]..[24,344+59])
                  [
                    core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+52]..[24,344+55])
                      Ptyp_var stk
                  ]
                core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+63]..[24,344+66])
                  Ptyp_var ret
        expression (testsuite/tests/typing-gadts/pr6817.ml[24,344+8]..[27,470+41])
          Pexp_newtype "stk"
          expression (testsuite/tests/typing-gadts/pr6817.ml[24,344+8]..[27,470+41])
            Pexp_newtype "ret"
            expression (testsuite/tests/typing-gadts/pr6817.ml[24,344+8]..[27,470+41])
              Pexp_constraint
              expression (testsuite/tests/typing-gadts/pr6817.ml[24,344+69]..[27,470+41])
                Pexp_fun
                Nolabel
                None
                pattern (testsuite/tests/typing-gadts/pr6817.ml[24,344+73]..[24,344+74])
                  Ppat_var "n" (testsuite/tests/typing-gadts/pr6817.ml[24,344+73]..[24,344+74])
                expression (testsuite/tests/typing-gadts/pr6817.ml[24,344+75]..[27,470+41]) ghost
                  Pexp_fun
                  Nolabel
                  None
                  pattern (testsuite/tests/typing-gadts/pr6817.ml[24,344+75]..[24,344+76])
                    Ppat_var "s" (testsuite/tests/typing-gadts/pr6817.ml[24,344+75]..[24,344+76])
                  expression (testsuite/tests/typing-gadts/pr6817.ml[25,424+2]..[27,470+41])
                    Pexp_match
                    expression (testsuite/tests/typing-gadts/pr6817.ml[25,424+8]..[25,424+12])
                      Pexp_tuple
                      [
                        expression (testsuite/tests/typing-gadts/pr6817.ml[25,424+8]..[25,424+9])
                          Pexp_ident "n" (testsuite/tests/typing-gadts/pr6817.ml[25,424+8]..[25,424+9])
                        expression (testsuite/tests/typing-gadts/pr6817.ml[25,424+11]..[25,424+12])
                          Pexp_ident "s" (testsuite/tests/typing-gadts/pr6817.ml[25,424+11]..[25,424+12])
                      ]
                    [
                      <case>
                        pattern (testsuite/tests/typing-gadts/pr6817.ml[26,442+4]..[26,442+22])
                          Ppat_tuple
                          [
                            pattern (testsuite/tests/typing-gadts/pr6817.ml[26,442+4]..[26,442+8])
                              Ppat_construct "Head" (testsuite/tests/typing-gadts/pr6817.ml[26,442+4]..[26,442+8])
                              None
                            pattern (testsuite/tests/typing-gadts/pr6817.ml[26,442+10]..[26,442+22])
                              Ppat_construct "CCons" (testsuite/tests/typing-gadts/pr6817.ml[26,442+10]..[26,442+15])
                              Some
                                []
                                pattern (testsuite/tests/typing-gadts/pr6817.ml[26,442+16]..[26,442+22])
                                  Ppat_tuple
                                  [
                                    pattern (testsuite/tests/typing-gadts/pr6817.ml[26,442+17]..[26,442+18])
                                      Ppat_var "h" (testsuite/tests/typing-gadts/pr6817.ml[26,442+17]..[26,442+18])
                                    pattern (testsuite/tests/typing-gadts/pr6817.ml[26,442+20]..[26,442+21])
                                      Ppat_any
                                  ]
                          ]
                        expression (testsuite/tests/typing-gadts/pr6817.ml[26,442+26]..[26,442+27])
                          Pexp_ident "h" (testsuite/tests/typing-gadts/pr6817.ml[26,442+26]..[26,442+27])
                      <case>
                        pattern (testsuite/tests/typing-gadts/pr6817.ml[27,470+4]..[27,470+25])
                          Ppat_tuple
                          [
                            pattern (testsuite/tests/typing-gadts/pr6817.ml[27,470+4]..[27,470+11])
                              Ppat_construct "Tail" (testsuite/tests/typing-gadts/pr6817.ml[27,470+4]..[27,470+8])
                              Some
                                []
                                pattern (testsuite/tests/typing-gadts/pr6817.ml[27,470+9]..[27,470+11])
                                  Ppat_var "n'" (testsuite/tests/typing-gadts/pr6817.ml[27,470+9]..[27,470+11])
                            pattern (testsuite/tests/typing-gadts/pr6817.ml[27,470+13]..[27,470+25])
                              Ppat_construct "CCons" (testsuite/tests/typing-gadts/pr6817.ml[27,470+13]..[27,470+18])
                              Some
                                []
                                pattern (testsuite/tests/typing-gadts/pr6817.ml[27,470+19]..[27,470+25])
                                  Ppat_tuple
                                  [
                                    pattern (testsuite/tests/typing-gadts/pr6817.ml[27,470+20]..[27,470+21])
                                      Ppat_any
                                    pattern (testsuite/tests/typing-gadts/pr6817.ml[27,470+23]..[27,470+24])
                                      Ppat_var "t" (testsuite/tests/typing-gadts/pr6817.ml[27,470+23]..[27,470+24])
                                  ]
                          ]
                        expression (testsuite/tests/typing-gadts/pr6817.ml[27,470+29]..[27,470+41])
                          Pexp_apply
                          expression (testsuite/tests/typing-gadts/pr6817.ml[27,470+29]..[27,470+36])
                            Pexp_ident "get_var" (testsuite/tests/typing-gadts/pr6817.ml[27,470+29]..[27,470+36])
                          [
                            <arg>
                            Nolabel
                              expression (testsuite/tests/typing-gadts/pr6817.ml[27,470+37]..[27,470+39])
                                Pexp_ident "n'" (testsuite/tests/typing-gadts/pr6817.ml[27,470+37]..[27,470+39])
                            <arg>
                            Nolabel
                              expression (testsuite/tests/typing-gadts/pr6817.ml[27,470+40]..[27,470+41])
                                Pexp_ident "t" (testsuite/tests/typing-gadts/pr6817.ml[27,470+40]..[27,470+41])
                          ]
                    ]
              core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+32]..[24,344+66])
                Ptyp_arrow
                Nolabel
                core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+32]..[24,344+48])
                  Ptyp_constr "var" (testsuite/tests/typing-gadts/pr6817.ml[24,344+45]..[24,344+48])
                  [
                    core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+33]..[24,344+38])
                      Ptyp_constr "s" (testsuite/tests/typing-gadts/pr6817.ml[24,344+37]..[24,344+38])
                      [
                        core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+33]..[24,344+36])
                          Ptyp_constr "stk" (testsuite/tests/typing-gadts/pr6817.ml[24,344+33]..[24,344+36])
                          []
                      ]
                    core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+40]..[24,344+43])
                      Ptyp_constr "ret" (testsuite/tests/typing-gadts/pr6817.ml[24,344+40]..[24,344+43])
                      []
                  ]
                core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+52]..[24,344+66])
                  Ptyp_arrow
                  Nolabel
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+52]..[24,344+59])
                    Ptyp_constr "lst" (testsuite/tests/typing-gadts/pr6817.ml[24,344+56]..[24,344+59])
                    [
                      core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+52]..[24,344+55])
                        Ptyp_constr "stk" (testsuite/tests/typing-gadts/pr6817.ml[24,344+52]..[24,344+55])
                        []
                    ]
                  core_type (testsuite/tests/typing-gadts/pr6817.ml[24,344+63]..[24,344+66])
                    Ptyp_constr "ret" (testsuite/tests/typing-gadts/pr6817.ml[24,344+63]..[24,344+66])
                    []
    ]
  structure_item (testsuite/tests/typing-gadts/pr6817.ml[30,516+0]..[38,875+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr6817.ml[30,516+9]..[38,875+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr6817.ml[30,516+9]..[38,875+2])
          Pexp_constant PConst_string ("\nmodule A : sig type nil = Cstr end\ntype _ s = Nil : A.nil s | Cons : 't s -> ('h -> 't) s\ntype ('stack, 'typ) var =\n    Head : (('typ -> 'a) s, 'typ) var\n  | Tail : ('tail s, 'typ) var -> (('b -> 'tail) s, 'typ) var\ntype _ lst = CNil : A.nil lst | CCons : 'h * 't lst -> ('h -> 't) lst\nval get_var : ('stk s, 'ret) var -> 'stk lst -> 'ret = <fun>\n",(testsuite/tests/typing-gadts/pr6817.ml[30,516+11]..[38,875+0]),Some "")
    ]
]

