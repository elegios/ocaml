[
  structure_item (testsuite/tests/statmemprof/thread_exit_in_callback.ml[8,69+0]..[20,510+20])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/statmemprof/thread_exit_in_callback.ml[8,69+4]..[8,69+5])
          Ppat_any
        expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+2]..[20,510+20])
          Pexp_let Nonrec
          [
            <def>
              pattern (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+6]..[9,77+17])
                Ppat_var "main_thread" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+6]..[9,77+17])
              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+20]..[9,77+46])
                Pexp_apply
                expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+20]..[9,77+29])
                  Pexp_ident "Thread.id" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+20]..[9,77+29])
                [
                  <arg>
                  Nolabel
                    expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+30]..[9,77+46])
                      Pexp_apply
                      expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+31]..[9,77+42])
                        Pexp_ident "Thread.self" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+31]..[9,77+42])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+43]..[9,77+45])
                            Pexp_construct "()" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[9,77+43]..[9,77+45])
                            None
                      ]
                ]
          ]
          expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[10,127+2]..[20,510+20])
            Pexp_sequence
            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[10,127+2]..[14,355+29])
              Pexp_open Fresh
              module_expr (testsuite/tests/statmemprof/thread_exit_in_callback.ml[10,127+2]..[10,127+12])
                Pmod_ident "Gc.Memprof" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[10,127+2]..[10,127+12])
              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[10,127+14]..[14,355+28])
                Pexp_apply
                expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[10,127+14]..[10,127+19])
                  Pexp_ident "start" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[10,127+14]..[10,127+19])
                [
                  <arg>
                  Labelled "callstack_size"
                    expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[10,127+36]..[10,127+38])
                      Pexp_constant PConst_int (10,None)
                  <arg>
                  Labelled "sampling_rate"
                    expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[10,127+54]..[10,127+56])
                      Pexp_constant PConst_float (1.,None)
                  <arg>
                  Nolabel
                    expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[11,184+16]..[14,355+28])
                      Pexp_record
                      [
                        "alloc_minor" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[11,184+36]..[11,184+47])
                          expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[11,184+50]..[14,355+26])
                            Pexp_fun
                            Nolabel
                            None
                            pattern (testsuite/tests/statmemprof/thread_exit_in_callback.ml[11,184+54]..[11,184+55])
                              Ppat_any
                            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+22]..[14,355+26])
                              Pexp_sequence
                              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+22]..[13,315+38])
                                Pexp_ifthenelse
                                expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+25]..[12,243+66])
                                  Pexp_apply
                                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+52]..[12,243+54])
                                    Pexp_ident "<>" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+52]..[12,243+54])
                                  [
                                    <arg>
                                    Nolabel
                                      expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+25]..[12,243+51])
                                        Pexp_apply
                                        expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+25]..[12,243+34])
                                          Pexp_ident "Thread.id" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+25]..[12,243+34])
                                        [
                                          <arg>
                                          Nolabel
                                            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+35]..[12,243+51])
                                              Pexp_apply
                                              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+36]..[12,243+47])
                                                Pexp_ident "Thread.self" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+36]..[12,243+47])
                                              [
                                                <arg>
                                                Nolabel
                                                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+48]..[12,243+50])
                                                    Pexp_construct "()" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+48]..[12,243+50])
                                                    None
                                              ]
                                        ]
                                    <arg>
                                    Nolabel
                                      expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+55]..[12,243+66])
                                        Pexp_ident "main_thread" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[12,243+55]..[12,243+66])
                                  ]
                                expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[13,315+24]..[13,315+38])
                                  Pexp_apply
                                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[13,315+24]..[13,315+35])
                                    Pexp_ident "Thread.exit" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[13,315+24]..[13,315+35])
                                  [
                                    <arg>
                                    Nolabel
                                      expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[13,315+36]..[13,315+38])
                                        Pexp_construct "()" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[13,315+36]..[13,315+38])
                                        None
                                  ]
                                None
                              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[14,355+22]..[14,355+26])
                                Pexp_construct "None" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[14,355+22]..[14,355+26])
                                None
                      ]
                      Some
                        expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[11,184+18]..[11,184+30])
                          Pexp_ident "null_tracker" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[11,184+18]..[11,184+30])
                ]
            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[15,386+2]..[20,510+20])
              Pexp_let Nonrec
              [
                <def>
                  pattern (testsuite/tests/statmemprof/thread_exit_in_callback.ml[15,386+6]..[15,386+7])
                    Ppat_var "t" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[15,386+6]..[15,386+7])
                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[15,386+10]..[17,465+22])
                    Pexp_apply
                    expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[15,386+10]..[15,386+23])
                      Pexp_ident "Thread.create" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[15,386+10]..[15,386+23])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[15,386+24]..[17,465+19])
                          Pexp_fun
                          Nolabel
                          None
                          pattern (testsuite/tests/statmemprof/thread_exit_in_callback.ml[15,386+29]..[15,386+31])
                            Ppat_construct "()" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[15,386+29]..[15,386+31])
                            None
                          expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+6]..[17,465+18])
                            Pexp_sequence
                            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+6]..[16,421+42])
                              Pexp_apply
                              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+6]..[16,421+12])
                                Pexp_ident "ignore" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+6]..[16,421+12])
                              [
                                <arg>
                                Nolabel
                                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+13]..[16,421+42])
                                    Pexp_apply
                                    expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+14]..[16,421+33])
                                      Pexp_ident "Sys.opaque_identity" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+14]..[16,421+33])
                                    [
                                      <arg>
                                      Nolabel
                                        expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+34]..[16,421+41])
                                          Pexp_apply
                                          expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+35]..[16,421+38])
                                            Pexp_ident "ref" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+35]..[16,421+38])
                                          [
                                            <arg>
                                            Nolabel
                                              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[16,421+39]..[16,421+40])
                                                Pexp_constant PConst_int (1,None)
                                          ]
                                    ]
                              ]
                            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[17,465+6]..[17,465+18])
                              Pexp_assert
                              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[17,465+13]..[17,465+18])
                                Pexp_construct "false" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[17,465+13]..[17,465+18])
                                None
                      <arg>
                      Nolabel
                        expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[17,465+20]..[17,465+22])
                          Pexp_construct "()" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[17,465+20]..[17,465+22])
                          None
                    ]
              ]
              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[19,493+2]..[20,510+20])
                Pexp_sequence
                expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[19,493+2]..[19,493+15])
                  Pexp_apply
                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[19,493+2]..[19,493+13])
                    Pexp_ident "Thread.join" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[19,493+2]..[19,493+13])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[19,493+14]..[19,493+15])
                        Pexp_ident "t" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[19,493+14]..[19,493+15])
                  ]
                expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[20,510+2]..[20,510+20])
                  Pexp_apply
                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[20,510+2]..[20,510+17])
                    Pexp_ident "Gc.Memprof.stop" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[20,510+2]..[20,510+17])
                  [
                    <arg>
                    Nolabel
                      expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[20,510+18]..[20,510+20])
                        Pexp_construct "()" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[20,510+18]..[20,510+20])
                        None
                  ]
    ]
  structure_item (testsuite/tests/statmemprof/thread_exit_in_callback.ml[22,532+0]..[26,709+14])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/statmemprof/thread_exit_in_callback.ml[22,532+4]..[22,532+5])
          Ppat_any
        expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[23,540+2]..[26,709+14])
          Pexp_sequence
          expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[23,540+2]..[24,597+70])
            Pexp_open Fresh
            module_expr (testsuite/tests/statmemprof/thread_exit_in_callback.ml[23,540+2]..[23,540+12])
              Pmod_ident "Gc.Memprof" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[23,540+2]..[23,540+12])
            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[23,540+14]..[24,597+69])
              Pexp_apply
              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[23,540+14]..[23,540+19])
                Pexp_ident "start" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[23,540+14]..[23,540+19])
              [
                <arg>
                Labelled "callstack_size"
                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[23,540+36]..[23,540+38])
                    Pexp_constant PConst_int (10,None)
                <arg>
                Labelled "sampling_rate"
                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[23,540+54]..[23,540+56])
                    Pexp_constant PConst_float (1.,None)
                <arg>
                Nolabel
                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+4]..[24,597+69])
                    Pexp_record
                    [
                      "alloc_minor" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+24]..[24,597+35])
                        expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+38]..[24,597+67])
                          Pexp_fun
                          Nolabel
                          None
                          pattern (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+42]..[24,597+43])
                            Ppat_any
                          expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+47]..[24,597+67])
                            Pexp_sequence
                            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+47]..[24,597+61])
                              Pexp_apply
                              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+47]..[24,597+58])
                                Pexp_ident "Thread.exit" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+47]..[24,597+58])
                              [
                                <arg>
                                Nolabel
                                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+59]..[24,597+61])
                                    Pexp_construct "()" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+59]..[24,597+61])
                                    None
                              ]
                            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+63]..[24,597+67])
                              Pexp_construct "None" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+63]..[24,597+67])
                              None
                    ]
                    Some
                      expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+6]..[24,597+18])
                        Pexp_ident "null_tracker" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[24,597+6]..[24,597+18])
              ]
          expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+2]..[26,709+14])
            Pexp_sequence
            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+2]..[25,669+38])
              Pexp_apply
              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+2]..[25,669+8])
                Pexp_ident "ignore" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+2]..[25,669+8])
              [
                <arg>
                Nolabel
                  expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+9]..[25,669+38])
                    Pexp_apply
                    expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+10]..[25,669+29])
                      Pexp_ident "Sys.opaque_identity" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+10]..[25,669+29])
                    [
                      <arg>
                      Nolabel
                        expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+30]..[25,669+37])
                          Pexp_apply
                          expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+31]..[25,669+34])
                            Pexp_ident "ref" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+31]..[25,669+34])
                          [
                            <arg>
                            Nolabel
                              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[25,669+35]..[25,669+36])
                                Pexp_constant PConst_int (1,None)
                          ]
                    ]
              ]
            expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[26,709+2]..[26,709+14])
              Pexp_assert
              expression (testsuite/tests/statmemprof/thread_exit_in_callback.ml[26,709+9]..[26,709+14])
                Pexp_construct "false" (testsuite/tests/statmemprof/thread_exit_in_callback.ml[26,709+9]..[26,709+14])
                None
    ]
]

