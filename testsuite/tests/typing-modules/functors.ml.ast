[
  structure_item (testsuite/tests/typing-modules/functors.ml[7,25+0]..[7,25+13])
    Pstr_modtype "a" (testsuite/tests/typing-modules/functors.ml[7,25+12]..[7,25+13])
    #abstract  structure_item (testsuite/tests/typing-modules/functors.ml[8,39+0]..[8,39+13])
    Pstr_modtype "b" (testsuite/tests/typing-modules/functors.ml[8,39+12]..[8,39+13])
    #abstract  structure_item (testsuite/tests/typing-modules/functors.ml[9,53+0]..[9,53+13])
    Pstr_modtype "c" (testsuite/tests/typing-modules/functors.ml[9,53+12]..[9,53+13])
    #abstract  structure_item (testsuite/tests/typing-modules/functors.ml[11,68+0]..[11,68+30])
    Pstr_modtype "x" (testsuite/tests/typing-modules/functors.ml[11,68+12]..[11,68+13])
      module_type (testsuite/tests/typing-modules/functors.ml[11,68+16]..[11,68+30])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/functors.ml[11,68+20]..[11,68+26])
            Psig_type Rec
            [
              type_declaration "x" (testsuite/tests/typing-modules/functors.ml[11,68+25]..[11,68+26]) (testsuite/tests/typing-modules/functors.ml[11,68+20]..[11,68+26])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[12,99+0]..[12,99+30])
    Pstr_modtype "y" (testsuite/tests/typing-modules/functors.ml[12,99+12]..[12,99+13])
      module_type (testsuite/tests/typing-modules/functors.ml[12,99+16]..[12,99+30])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/functors.ml[12,99+20]..[12,99+26])
            Psig_type Rec
            [
              type_declaration "y" (testsuite/tests/typing-modules/functors.ml[12,99+25]..[12,99+26]) (testsuite/tests/typing-modules/functors.ml[12,99+20]..[12,99+26])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[13,130+0]..[13,130+30])
    Pstr_modtype "z" (testsuite/tests/typing-modules/functors.ml[13,130+12]..[13,130+13])
      module_type (testsuite/tests/typing-modules/functors.ml[13,130+16]..[13,130+30])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/functors.ml[13,130+20]..[13,130+26])
            Psig_type Rec
            [
              type_declaration "z" (testsuite/tests/typing-modules/functors.ml[13,130+25]..[13,130+26]) (testsuite/tests/typing-modules/functors.ml[13,130+20]..[13,130+26])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[16,163+0]..[16,163+27])
    Pstr_modtype "empty" (testsuite/tests/typing-modules/functors.ml[16,163+12]..[16,163+17])
      module_type (testsuite/tests/typing-modules/functors.ml[16,163+20]..[16,163+27])
        Pmty_signature
        []
  structure_item (testsuite/tests/typing-modules/functors.ml[18,192+0]..[18,192+25])
    Pstr_module
    "Empty" (testsuite/tests/typing-modules/functors.ml[18,192+7]..[18,192+12])
      module_expr (testsuite/tests/typing-modules/functors.ml[18,192+15]..[18,192+25])
        Pmod_structure
        []
  structure_item (testsuite/tests/typing-modules/functors.ml[19,218+0]..[19,218+31])
    Pstr_module
    "X" (testsuite/tests/typing-modules/functors.ml[19,218+7]..[19,218+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[19,218+8]..[19,218+31])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[19,218+14]..[19,218+31])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[19,218+21]..[19,218+27])
              Pstr_type Rec
              [
                type_declaration "x" (testsuite/tests/typing-modules/functors.ml[19,218+26]..[19,218+27]) (testsuite/tests/typing-modules/functors.ml[19,218+21]..[19,218+27])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[19,218+10]..[19,218+11])
          Pmty_ident "x" (testsuite/tests/typing-modules/functors.ml[19,218+10]..[19,218+11])
  structure_item (testsuite/tests/typing-modules/functors.ml[20,250+0]..[20,250+31])
    Pstr_module
    "Y" (testsuite/tests/typing-modules/functors.ml[20,250+7]..[20,250+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[20,250+8]..[20,250+31])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[20,250+14]..[20,250+31])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[20,250+21]..[20,250+27])
              Pstr_type Rec
              [
                type_declaration "y" (testsuite/tests/typing-modules/functors.ml[20,250+26]..[20,250+27]) (testsuite/tests/typing-modules/functors.ml[20,250+21]..[20,250+27])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[20,250+10]..[20,250+11])
          Pmty_ident "y" (testsuite/tests/typing-modules/functors.ml[20,250+10]..[20,250+11])
  structure_item (testsuite/tests/typing-modules/functors.ml[21,282+0]..[21,282+31])
    Pstr_module
    "Z" (testsuite/tests/typing-modules/functors.ml[21,282+7]..[21,282+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[21,282+8]..[21,282+31])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[21,282+14]..[21,282+31])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[21,282+21]..[21,282+27])
              Pstr_type Rec
              [
                type_declaration "z" (testsuite/tests/typing-modules/functors.ml[21,282+26]..[21,282+27]) (testsuite/tests/typing-modules/functors.ml[21,282+21]..[21,282+27])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[21,282+10]..[21,282+11])
          Pmty_ident "z" (testsuite/tests/typing-modules/functors.ml[21,282+10]..[21,282+11])
  structure_item (testsuite/tests/typing-modules/functors.ml[22,314+0]..[22,314+36])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[22,314+7]..[22,314+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[22,314+8]..[22,314+36])
        Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[22,314+9]..[22,314+10])
        module_type (testsuite/tests/typing-modules/functors.ml[22,314+11]..[22,314+12])
          Pmty_ident "x" (testsuite/tests/typing-modules/functors.ml[22,314+11]..[22,314+12])
        module_expr (testsuite/tests/typing-modules/functors.ml[22,314+13]..[22,314+36])
          Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[22,314+14]..[22,314+15])
          module_type (testsuite/tests/typing-modules/functors.ml[22,314+16]..[22,314+17])
            Pmty_ident "y" (testsuite/tests/typing-modules/functors.ml[22,314+16]..[22,314+17])
          module_expr (testsuite/tests/typing-modules/functors.ml[22,314+18]..[22,314+36])
            Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[22,314+19]..[22,314+20])
            module_type (testsuite/tests/typing-modules/functors.ml[22,314+21]..[22,314+22])
              Pmty_ident "z" (testsuite/tests/typing-modules/functors.ml[22,314+21]..[22,314+22])
            module_expr (testsuite/tests/typing-modules/functors.ml[22,314+26]..[22,314+36])
              Pmod_structure
              []
  structure_item (testsuite/tests/typing-modules/functors.ml[23,351+0]..[36,643+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[23,351+10]..[36,643+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[23,351+10]..[36,643+2])
          Pexp_constant PConst_string ("\nmodule type a\nmodule type b\nmodule type c\nmodule type x = sig type x end\nmodule type y = sig type y end\nmodule type z = sig type z end\nmodule type empty = sig end\nmodule Empty : sig end\nmodule X : x\nmodule Y : y\nmodule Z : z\nmodule F : functor (X : x) (Y : y) (Z : z) -> sig end\n",(testsuite/tests/typing-modules/functors.ml[23,351+12]..[36,643+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[39,649+0]..[39,649+18])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[39,649+7]..[39,649+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[39,649+11]..[39,649+18])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[39,649+11]..[39,649+15])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[39,649+11]..[39,649+12])
            Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[39,649+11]..[39,649+12])
          module_expr (testsuite/tests/typing-modules/functors.ml[39,649+13]..[39,649+14])
            Pmod_ident "X" (testsuite/tests/typing-modules/functors.ml[39,649+13]..[39,649+14])
        module_expr (testsuite/tests/typing-modules/functors.ml[39,649+16]..[39,649+17])
          Pmod_ident "Z" (testsuite/tests/typing-modules/functors.ml[39,649+16]..[39,649+17])
  structure_item (testsuite/tests/typing-modules/functors.ml[40,668+0]..[52,1092+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[40,668+10]..[52,1092+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[40,668+10]..[52,1092+2])
          Pexp_constant PConst_string ("\nLine 1, characters 11-18:\n1 | module M = F(X)(Z)\n               ^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         X Z\n       do not match these parameters:\n         functor (X : x) (Y : y) (Z : z) -> ...\n       1. Module X matches the expected module type x\n       2. An argument appears to be missing with module type y\n       3. Module Z matches the expected module type z\n",(testsuite/tests/typing-modules/functors.ml[40,668+12]..[52,1092+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[54,1097+0]..[54,1097+51])
    Pstr_modtype "f" (testsuite/tests/typing-modules/functors.ml[54,1097+12]..[54,1097+13])
      module_type (testsuite/tests/typing-modules/functors.ml[54,1097+24]..[54,1097+51])
        Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[54,1097+25]..[54,1097+26])
        module_type (testsuite/tests/typing-modules/functors.ml[54,1097+27]..[54,1097+32])
          Pmty_ident "empty" (testsuite/tests/typing-modules/functors.ml[54,1097+27]..[54,1097+32])
        module_type (testsuite/tests/typing-modules/functors.ml[54,1097+33]..[54,1097+51])
          Pmty_functor "Y" (testsuite/tests/typing-modules/functors.ml[54,1097+34]..[54,1097+35])
          module_type (testsuite/tests/typing-modules/functors.ml[54,1097+36]..[54,1097+41])
            Pmty_ident "empty" (testsuite/tests/typing-modules/functors.ml[54,1097+36]..[54,1097+41])
          module_type (testsuite/tests/typing-modules/functors.ml[54,1097+46]..[54,1097+51])
            Pmty_ident "empty" (testsuite/tests/typing-modules/functors.ml[54,1097+46]..[54,1097+51])
  structure_item (testsuite/tests/typing-modules/functors.ml[55,1149+0]..[56,1163+45])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[55,1149+7]..[55,1149+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[55,1149+8]..[56,1163+45])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[56,1163+9]..[56,1163+45])
          Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[56,1163+10]..[56,1163+11])
          module_type (testsuite/tests/typing-modules/functors.ml[56,1163+12]..[56,1163+17])
            Pmty_ident "empty" (testsuite/tests/typing-modules/functors.ml[56,1163+12]..[56,1163+17])
          module_expr (testsuite/tests/typing-modules/functors.ml[56,1163+18]..[56,1163+45])
            Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[56,1163+19]..[56,1163+20])
            module_type (testsuite/tests/typing-modules/functors.ml[56,1163+21]..[56,1163+26])
              Pmty_ident "empty" (testsuite/tests/typing-modules/functors.ml[56,1163+21]..[56,1163+26])
            module_expr (testsuite/tests/typing-modules/functors.ml[56,1163+27]..[56,1163+45])
              Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[56,1163+28]..[56,1163+29])
              module_type (testsuite/tests/typing-modules/functors.ml[56,1163+30]..[56,1163+35])
                Pmty_ident "empty" (testsuite/tests/typing-modules/functors.ml[56,1163+30]..[56,1163+35])
              module_expr (testsuite/tests/typing-modules/functors.ml[56,1163+40]..[56,1163+45])
                Pmod_ident "Empty" (testsuite/tests/typing-modules/functors.ml[56,1163+40]..[56,1163+45])
        module_type (testsuite/tests/typing-modules/functors.ml[55,1149+10]..[55,1149+11])
          Pmty_ident "f" (testsuite/tests/typing-modules/functors.ml[55,1149+10]..[55,1149+11])
  structure_item (testsuite/tests/typing-modules/functors.ml[57,1209+0]..[70,1745+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[57,1209+10]..[70,1745+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[57,1209+10]..[70,1745+2])
          Pexp_constant PConst_string ("\nmodule type f = functor (X : empty) (Y : empty) -> empty\nLine 3, characters 9-45:\n3 |   functor(X:empty)(Y:empty)(Z:empty) -> Empty\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: Signature mismatch:\n       Modules do not match:\n         functor (X : empty) (Y : empty) (Z : empty) -> ...\n       is not included in\n         functor (X : empty) (Y : empty) -> ...\n       1. Module types empty and empty match\n       2. Module types empty and empty match\n       3. An extra argument is provided of module type empty\n",(testsuite/tests/typing-modules/functors.ml[57,1209+12]..[70,1745+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[72,1750+0]..[72,1750+39])
    Pstr_modtype "f" (testsuite/tests/typing-modules/functors.ml[72,1750+12]..[72,1750+13])
      module_type (testsuite/tests/typing-modules/functors.ml[72,1750+24]..[72,1750+39])
        Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[72,1750+25]..[72,1750+26])
        module_type (testsuite/tests/typing-modules/functors.ml[72,1750+27]..[72,1750+28])
          Pmty_ident "a" (testsuite/tests/typing-modules/functors.ml[72,1750+27]..[72,1750+28])
        module_type (testsuite/tests/typing-modules/functors.ml[72,1750+29]..[72,1750+39])
          Pmty_functor "Y" (testsuite/tests/typing-modules/functors.ml[72,1750+30]..[72,1750+31])
          module_type (testsuite/tests/typing-modules/functors.ml[72,1750+32]..[72,1750+33])
            Pmty_ident "b" (testsuite/tests/typing-modules/functors.ml[72,1750+32]..[72,1750+33])
          module_type (testsuite/tests/typing-modules/functors.ml[72,1750+38]..[72,1750+39])
            Pmty_ident "c" (testsuite/tests/typing-modules/functors.ml[72,1750+38]..[72,1750+39])
  structure_item (testsuite/tests/typing-modules/functors.ml[73,1790+0]..[73,1790+45])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[73,1790+7]..[73,1790+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[73,1790+8]..[73,1790+45])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[73,1790+21]..[73,1790+45])
          Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[73,1790+22]..[73,1790+23])
          module_type (testsuite/tests/typing-modules/functors.ml[73,1790+24]..[73,1790+25])
            Pmty_ident "a" (testsuite/tests/typing-modules/functors.ml[73,1790+24]..[73,1790+25])
          module_expr (testsuite/tests/typing-modules/functors.ml[73,1790+26]..[73,1790+45])
            Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[73,1790+27]..[73,1790+28])
            module_type (testsuite/tests/typing-modules/functors.ml[73,1790+29]..[73,1790+30])
              Pmty_ident "b" (testsuite/tests/typing-modules/functors.ml[73,1790+29]..[73,1790+30])
            module_expr (testsuite/tests/typing-modules/functors.ml[73,1790+31]..[73,1790+45])
              Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[73,1790+32]..[73,1790+33])
              module_type (testsuite/tests/typing-modules/functors.ml[73,1790+34]..[73,1790+35])
                Pmty_ident "c" (testsuite/tests/typing-modules/functors.ml[73,1790+34]..[73,1790+35])
              module_expr (testsuite/tests/typing-modules/functors.ml[73,1790+40]..[73,1790+45])
                Pmod_ident "Empty" (testsuite/tests/typing-modules/functors.ml[73,1790+40]..[73,1790+45])
        module_type (testsuite/tests/typing-modules/functors.ml[73,1790+9]..[73,1790+10])
          Pmty_ident "f" (testsuite/tests/typing-modules/functors.ml[73,1790+9]..[73,1790+10])
  structure_item (testsuite/tests/typing-modules/functors.ml[74,1836+0]..[87,2321+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[74,1836+10]..[87,2321+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[74,1836+10]..[87,2321+2])
          Pexp_constant PConst_string ("\nmodule type f = functor (X : a) (Y : b) -> c\nLine 2, characters 21-45:\n2 | module F:f = functor (X:a)(Y:b)(Z:c) -> Empty\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\nError: Signature mismatch:\n       Modules do not match:\n         functor (X : a) (Y : b) (Z : c) -> ...\n       is not included in\n         functor (X : a) (Y : b) -> ...\n       1. Module types a and a match\n       2. Module types b and b match\n       3. An extra argument is provided of module type c\n",(testsuite/tests/typing-modules/functors.ml[74,1836+12]..[87,2321+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[89,2326+0]..[92,2441+5])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[89,2326+7]..[89,2326+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[89,2326+9]..[92,2441+5])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[90,2388+2]..[92,2441+5])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[91,2397+4]..[91,2397+43])
              Pstr_module
              "F" (testsuite/tests/typing-modules/functors.ml[91,2397+11]..[91,2397+12])
                module_expr (testsuite/tests/typing-modules/functors.ml[91,2397+12]..[91,2397+43])
                  Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[91,2397+13]..[91,2397+14])
                  module_type (testsuite/tests/typing-modules/functors.ml[91,2397+15]..[91,2397+29])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[91,2397+19]..[91,2397+25])
                        Psig_type Rec
                        [
                          type_declaration "t" (testsuite/tests/typing-modules/functors.ml[91,2397+24]..[91,2397+25]) (testsuite/tests/typing-modules/functors.ml[91,2397+19]..[91,2397+25])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_expr (testsuite/tests/typing-modules/functors.ml[91,2397+33]..[91,2397+43])
                    Pmod_structure
                    []
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[89,2326+11]..[89,2326+59])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[89,2326+15]..[89,2326+55])
              Psig_module "F" (testsuite/tests/typing-modules/functors.ml[89,2326+22]..[89,2326+23])
              module_type (testsuite/tests/typing-modules/functors.ml[89,2326+33]..[89,2326+55])
                Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[89,2326+34]..[89,2326+35])
                module_type (testsuite/tests/typing-modules/functors.ml[89,2326+36]..[89,2326+43])
                  Pmty_signature
                  []
                module_type (testsuite/tests/typing-modules/functors.ml[89,2326+48]..[89,2326+55])
                  Pmty_signature
                  []
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[93,2447+0]..[113,3070+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[93,2447+10]..[113,3070+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[93,2447+10]..[113,3070+2])
          Pexp_constant PConst_string ("\nLines 2-4, characters 2-5:\n2 | ..struct\n3 |     module F(X:sig type t end) = struct end\n4 |   end\nError: Signature mismatch:\n       Modules do not match:\n         sig module F : functor (X : sig type t end) -> sig end end\n       is not included in\n         sig module F : functor (X : sig end) -> sig end end\n       In module F:\n       Modules do not match:\n         functor (X : $S1) -> ...\n       is not included in\n         functor (X : sig end) -> ...\n       Module types do not match:\n         $S1 = sig type t end\n       does not include\n         sig end\n       The type `t' is required but not provided\n",(testsuite/tests/typing-modules/functors.ml[93,2447+12]..[113,3070+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[115,3075+0]..[115,3075+39])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[115,3075+7]..[115,3075+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[115,3075+8]..[115,3075+39])
        Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[115,3075+9]..[115,3075+10])
        module_type (testsuite/tests/typing-modules/functors.ml[115,3075+11]..[115,3075+25])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[115,3075+15]..[115,3075+21])
              Psig_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-modules/functors.ml[115,3075+20]..[115,3075+21]) (testsuite/tests/typing-modules/functors.ml[115,3075+15]..[115,3075+21])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_expr (testsuite/tests/typing-modules/functors.ml[115,3075+29]..[115,3075+39])
          Pmod_structure
          []
  structure_item (testsuite/tests/typing-modules/functors.ml[116,3115+0]..[116,3115+31])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[116,3115+7]..[116,3115+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[116,3115+11]..[116,3115+31])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[116,3115+11]..[116,3115+12])
          Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[116,3115+11]..[116,3115+12])
        module_expr (testsuite/tests/typing-modules/functors.ml[116,3115+13]..[116,3115+30])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[116,3115+20]..[116,3115+26])
              Pstr_type Rec
              [
                type_declaration "x" (testsuite/tests/typing-modules/functors.ml[116,3115+25]..[116,3115+26]) (testsuite/tests/typing-modules/functors.ml[116,3115+20]..[116,3115+26])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[117,3147+0]..[124,3434+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[117,3147+10]..[124,3434+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[117,3147+10]..[124,3434+2])
          Pexp_constant PConst_string ("\nmodule F : functor (X : sig type t end) -> sig end\nLine 2, characters 11-31:\n2 | module M = F(struct type x end)\n               ^^^^^^^^^^^^^^^^^^^^\nError: Modules do not match: sig type x end is not included in sig type t end\n     The type `t' is required but not provided\n",(testsuite/tests/typing-modules/functors.ml[117,3147+12]..[124,3434+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[126,3439+0]..[128,3555+3])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[126,3439+7]..[126,3439+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[126,3439+8]..[128,3555+3])
        Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[126,3439+9]..[126,3439+10])
        module_type (testsuite/tests/typing-modules/functors.ml[126,3439+11]..[126,3439+25])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[126,3439+15]..[126,3439+21])
              Psig_type Rec
              [
                type_declaration "x" (testsuite/tests/typing-modules/functors.ml[126,3439+20]..[126,3439+21]) (testsuite/tests/typing-modules/functors.ml[126,3439+15]..[126,3439+21])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_expr (testsuite/tests/typing-modules/functors.ml[126,3439+26]..[128,3555+3])
          Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[126,3439+27]..[126,3439+28])
          module_type (testsuite/tests/typing-modules/functors.ml[126,3439+29]..[126,3439+43])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-modules/functors.ml[126,3439+33]..[126,3439+39])
                Psig_type Rec
                [
                  type_declaration "y" (testsuite/tests/typing-modules/functors.ml[126,3439+38]..[126,3439+39]) (testsuite/tests/typing-modules/functors.ml[126,3439+33]..[126,3439+39])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
            ]
          module_expr (testsuite/tests/typing-modules/functors.ml[126,3439+44]..[128,3555+3])
            Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[126,3439+45]..[126,3439+46])
            module_type (testsuite/tests/typing-modules/functors.ml[126,3439+47]..[126,3439+61])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/functors.ml[126,3439+51]..[126,3439+57])
                  Psig_type Rec
                  [
                    type_declaration "z" (testsuite/tests/typing-modules/functors.ml[126,3439+56]..[126,3439+57]) (testsuite/tests/typing-modules/functors.ml[126,3439+51]..[126,3439+57])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
              ]
            module_expr (testsuite/tests/typing-modules/functors.ml[126,3439+65]..[128,3555+3])
              Pmod_structure
              [
                structure_item (testsuite/tests/typing-modules/functors.ml[127,3511+4]..[127,3511+43])
                  Pstr_type Rec
                  [
                    type_declaration "t" (testsuite/tests/typing-modules/functors.ml[127,3511+9]..[127,3511+10]) (testsuite/tests/typing-modules/functors.ml[127,3511+4]..[127,3511+43])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_variant
                          [
                            (testsuite/tests/typing-modules/functors.ml[127,3511+13]..[127,3511+21])
                              "X" (testsuite/tests/typing-modules/functors.ml[127,3511+13]..[127,3511+14])
                              [
                                core_type (testsuite/tests/typing-modules/functors.ml[127,3511+18]..[127,3511+21])
                                  Ptyp_constr "X.x" (testsuite/tests/typing-modules/functors.ml[127,3511+18]..[127,3511+21])
                                  []
                              ]
                              None
                            (testsuite/tests/typing-modules/functors.ml[127,3511+22]..[127,3511+32])
                              "Y" (testsuite/tests/typing-modules/functors.ml[127,3511+24]..[127,3511+25])
                              [
                                core_type (testsuite/tests/typing-modules/functors.ml[127,3511+29]..[127,3511+32])
                                  Ptyp_constr "Y.y" (testsuite/tests/typing-modules/functors.ml[127,3511+29]..[127,3511+32])
                                  []
                              ]
                              None
                            (testsuite/tests/typing-modules/functors.ml[127,3511+33]..[127,3511+43])
                              "Z" (testsuite/tests/typing-modules/functors.ml[127,3511+35]..[127,3511+36])
                              [
                                core_type (testsuite/tests/typing-modules/functors.ml[127,3511+40]..[127,3511+43])
                                  Ptyp_constr "Z.z" (testsuite/tests/typing-modules/functors.ml[127,3511+40]..[127,3511+43])
                                  []
                              ]
                              None
                          ]
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
              ]
  structure_item (testsuite/tests/typing-modules/functors.ml[129,3559+0]..[129,3559+18])
    Pstr_type Rec
    [
      type_declaration "u" (testsuite/tests/typing-modules/functors.ml[129,3559+5]..[129,3559+6]) (testsuite/tests/typing-modules/functors.ml[129,3559+0]..[129,3559+18])
        ptype_params =
          []
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-modules/functors.ml[129,3559+9]..[129,3559+18])
              Ptyp_constr "F(X)(Z).t" (testsuite/tests/typing-modules/functors.ml[129,3559+9]..[129,3559+18])
              []
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[130,3578+0]..[146,4183+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[130,3578+10]..[146,4183+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[130,3578+10]..[146,4183+2])
          Pexp_constant PConst_string ("\nmodule F :\n  functor (X : sig type x end) (Y : sig type y end) (Z : sig type z end) ->\n    sig type t = X of X.x | Y of Y.y | Z of Z.z end\nLine 4, characters 9-18:\n4 | type u = F(X)(Z).t\n             ^^^^^^^^^\nError: The functor application F(X)(Z) is ill-typed.\n       These arguments:\n         X Z\n       do not match these parameters:\n         functor (X : ...) (Y : $T2) (Z : ...) -> ...\n       1. Module X matches the expected module type\n       2. An argument appears to be missing with module type\n              $T2 = sig type y end\n       3. Module Z matches the expected module type\n",(testsuite/tests/typing-modules/functors.ml[130,3578+12]..[146,4183+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[148,4188+0]..[148,4188+41])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[148,4188+7]..[148,4188+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[148,4188+8]..[148,4188+41])
        Pmod_functor ()
        module_expr (testsuite/tests/typing-modules/functors.ml[148,4188+10]..[148,4188+41])
          Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[148,4188+11]..[148,4188+12])
          module_type (testsuite/tests/typing-modules/functors.ml[148,4188+13]..[148,4188+27])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-modules/functors.ml[148,4188+17]..[148,4188+23])
                Psig_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-modules/functors.ml[148,4188+22]..[148,4188+23]) (testsuite/tests/typing-modules/functors.ml[148,4188+17]..[148,4188+23])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
            ]
          module_expr (testsuite/tests/typing-modules/functors.ml[148,4188+31]..[148,4188+41])
            Pmod_structure
            []
  structure_item (testsuite/tests/typing-modules/functors.ml[149,4230+0]..[149,4230+16])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[149,4230+7]..[149,4230+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[149,4230+11]..[149,4230+16])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[149,4230+11]..[149,4230+14])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[149,4230+11]..[149,4230+12])
            Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[149,4230+11]..[149,4230+12])
          module_expr (testsuite/tests/typing-modules/functors.ml[149,4230+11]..[149,4230+14])
            Pmod_structure
            []
        module_expr (testsuite/tests/typing-modules/functors.ml[149,4230+11]..[149,4230+16])
          Pmod_structure
          []
  structure_item (testsuite/tests/typing-modules/functors.ml[150,4247+0]..[162,4664+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[150,4247+10]..[162,4664+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[150,4247+10]..[162,4664+2])
          Pexp_constant PConst_string ("\nmodule F : functor () (X : sig type t end) -> sig end\nLine 2, characters 11-16:\n2 | module M = F()()\n               ^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         () ()\n       do not match these parameters:\n         functor () (X : $T2) -> ...\n       1. Module () matches the expected module type\n       2. The functor was expected to be applicative at this position\n",(testsuite/tests/typing-modules/functors.ml[150,4247+12]..[162,4664+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[164,4669+0]..[168,4804+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[164,4669+7]..[164,4669+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[164,4669+8]..[168,4804+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[166,4750+6]..[168,4804+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[167,4763+1]..[167,4763+40])
              Pstr_module
              "F" (testsuite/tests/typing-modules/functors.ml[167,4763+8]..[167,4763+9])
                module_expr (testsuite/tests/typing-modules/functors.ml[167,4763+9]..[167,4763+40])
                  Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[167,4763+10]..[167,4763+11])
                  module_type (testsuite/tests/typing-modules/functors.ml[167,4763+12]..[167,4763+26])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[167,4763+16]..[167,4763+22])
                        Psig_type Rec
                        [
                          type_declaration "y" (testsuite/tests/typing-modules/functors.ml[167,4763+21]..[167,4763+22]) (testsuite/tests/typing-modules/functors.ml[167,4763+16]..[167,4763+22])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_expr (testsuite/tests/typing-modules/functors.ml[167,4763+30]..[167,4763+40])
                    Pmod_structure
                    []
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[164,4669+10]..[166,4750+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[165,4683+2]..[165,4683+66])
              Psig_module "F" (testsuite/tests/typing-modules/functors.ml[165,4683+9]..[165,4683+10])
              module_type (testsuite/tests/typing-modules/functors.ml[165,4683+19]..[165,4683+66])
                Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[165,4683+20]..[165,4683+21])
                module_type (testsuite/tests/typing-modules/functors.ml[165,4683+22]..[165,4683+36])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[165,4683+26]..[165,4683+32])
                      Psig_type Rec
                      [
                        type_declaration "x" (testsuite/tests/typing-modules/functors.ml[165,4683+31]..[165,4683+32]) (testsuite/tests/typing-modules/functors.ml[165,4683+26]..[165,4683+32])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                  ]
                module_type (testsuite/tests/typing-modules/functors.ml[165,4683+37]..[165,4683+66])
                  Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[165,4683+38]..[165,4683+39])
                  module_type (testsuite/tests/typing-modules/functors.ml[165,4683+40]..[165,4683+54])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[165,4683+44]..[165,4683+50])
                        Psig_type Rec
                        [
                          type_declaration "y" (testsuite/tests/typing-modules/functors.ml[165,4683+49]..[165,4683+50]) (testsuite/tests/typing-modules/functors.ml[165,4683+44]..[165,4683+50])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_type (testsuite/tests/typing-modules/functors.ml[165,4683+59]..[165,4683+66])
                    Pmty_signature
                    []
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[169,4808+0]..[190,5480+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[169,4808+10]..[190,5480+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[169,4808+10]..[190,5480+2])
          Pexp_constant PConst_string ("\nLines 3-5, characters 6-3:\n3 | ......struct\n4 |  module F(X:sig type y end) = struct end\n5 | end\nError: Signature mismatch:\n       Modules do not match:\n         sig module F : functor (X : sig type y end) -> sig end end\n       is not included in\n         sig\n           module F :\n             functor (X : sig type x end) (X : sig type y end) -> sig end\n         end\n       In module F:\n       Modules do not match:\n         functor (X : $S2) -> ...\n       is not included in\n         functor (X : $T1) (X : $T2) -> ...\n       1. An argument appears to be missing with module type\n              $T1 = sig type x end\n       2. Module types $S2 and $T2 match\n",(testsuite/tests/typing-modules/functors.ml[169,4808+12]..[190,5480+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[193,5486+0]..[202,5642+3])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[193,5486+7]..[193,5486+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[193,5486+8]..[202,5642+3])
        Pmod_functor "Ctx" (testsuite/tests/typing-modules/functors.ml[193,5486+9]..[193,5486+12])
        module_type (testsuite/tests/typing-modules/functors.ml[193,5486+14]..[198,5562+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[194,5504+2]..[194,5504+15])
              Psig_modtype "t" (testsuite/tests/typing-modules/functors.ml[194,5504+14]..[194,5504+15])
              #abstract            signature_item (testsuite/tests/typing-modules/functors.ml[195,5520+2]..[195,5520+15])
              Psig_modtype "u" (testsuite/tests/typing-modules/functors.ml[195,5520+14]..[195,5520+15])
              #abstract            signature_item (testsuite/tests/typing-modules/functors.ml[196,5536+2]..[196,5536+12])
              Psig_module "X" (testsuite/tests/typing-modules/functors.ml[196,5536+9]..[196,5536+10])
              module_type (testsuite/tests/typing-modules/functors.ml[196,5536+11]..[196,5536+12])
                Pmty_ident "t" (testsuite/tests/typing-modules/functors.ml[196,5536+11]..[196,5536+12])
            signature_item (testsuite/tests/typing-modules/functors.ml[197,5549+2]..[197,5549+12])
              Psig_module "Y" (testsuite/tests/typing-modules/functors.ml[197,5549+9]..[197,5549+10])
              module_type (testsuite/tests/typing-modules/functors.ml[197,5549+11]..[197,5549+12])
                Pmty_ident "u" (testsuite/tests/typing-modules/functors.ml[197,5549+11]..[197,5549+12])
          ]
        module_expr (testsuite/tests/typing-modules/functors.ml[198,5562+7]..[202,5642+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[199,5576+2]..[199,5576+10])
              Pstr_open Fresh
              module_expr (testsuite/tests/typing-modules/functors.ml[199,5576+7]..[199,5576+10])
                Pmod_ident "Ctx" (testsuite/tests/typing-modules/functors.ml[199,5576+7]..[199,5576+10])
            structure_item (testsuite/tests/typing-modules/functors.ml[200,5587+2]..[200,5587+33])
              Pstr_module
              "F" (testsuite/tests/typing-modules/functors.ml[200,5587+9]..[200,5587+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[200,5587+10]..[200,5587+33])
                  Pmod_functor "A" (testsuite/tests/typing-modules/functors.ml[200,5587+11]..[200,5587+12])
                  module_type (testsuite/tests/typing-modules/functors.ml[200,5587+13]..[200,5587+14])
                    Pmty_ident "t" (testsuite/tests/typing-modules/functors.ml[200,5587+13]..[200,5587+14])
                  module_expr (testsuite/tests/typing-modules/functors.ml[200,5587+15]..[200,5587+33])
                    Pmod_functor "B" (testsuite/tests/typing-modules/functors.ml[200,5587+16]..[200,5587+17])
                    module_type (testsuite/tests/typing-modules/functors.ml[200,5587+18]..[200,5587+19])
                      Pmty_ident "u" (testsuite/tests/typing-modules/functors.ml[200,5587+18]..[200,5587+19])
                    module_expr (testsuite/tests/typing-modules/functors.ml[200,5587+23]..[200,5587+33])
                      Pmod_structure
                      []
            structure_item (testsuite/tests/typing-modules/functors.ml[201,5621+2]..[201,5621+20])
              Pstr_module
              "M" (testsuite/tests/typing-modules/functors.ml[201,5621+9]..[201,5621+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[201,5621+13]..[201,5621+20])
                  Pmod_apply
                  module_expr (testsuite/tests/typing-modules/functors.ml[201,5621+13]..[201,5621+17])
                    Pmod_apply
                    module_expr (testsuite/tests/typing-modules/functors.ml[201,5621+13]..[201,5621+14])
                      Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[201,5621+13]..[201,5621+14])
                    module_expr (testsuite/tests/typing-modules/functors.ml[201,5621+15]..[201,5621+16])
                      Pmod_ident "Y" (testsuite/tests/typing-modules/functors.ml[201,5621+15]..[201,5621+16])
                  module_expr (testsuite/tests/typing-modules/functors.ml[201,5621+18]..[201,5621+19])
                    Pmod_ident "X" (testsuite/tests/typing-modules/functors.ml[201,5621+18]..[201,5621+19])
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[203,5646+0]..[214,6053+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[203,5646+10]..[214,6053+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[203,5646+10]..[214,6053+2])
          Pexp_constant PConst_string ("\nLine 9, characters 13-20:\n9 |   module M = F(Y)(X)\n                 ^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         Ctx.Y Ctx.X\n       do not match these parameters:\n         functor (A : Ctx.t) (B : Ctx.u) -> ...\n       1. Modules do not match: Ctx.Y : Ctx.u is not included in Ctx.t\n       2. Modules do not match: Ctx.X : Ctx.t is not included in Ctx.u\n",(testsuite/tests/typing-modules/functors.ml[203,5646+12]..[214,6053+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[217,6084+0]..[217,6084+57])
    Pstr_module
    "Ord" (testsuite/tests/typing-modules/functors.ml[217,6084+7]..[217,6084+10])
      attribute "ocaml.doc"
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[216,6058+0]..[216,6058+25])
            Pstr_eval
            expression (testsuite/tests/typing-modules/functors.ml[216,6058+0]..[216,6058+25])
              Pexp_constant PConst_string(" Too many arguments ",(testsuite/tests/typing-modules/functors.ml[216,6058+0]..[216,6058+25]),None)
        ]
      module_expr (testsuite/tests/typing-modules/functors.ml[217,6084+13]..[217,6084+57])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[217,6084+20]..[217,6084+33])
            Pstr_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-modules/functors.ml[217,6084+25]..[217,6084+26]) (testsuite/tests/typing-modules/functors.ml[217,6084+20]..[217,6084+33])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  Some
                    core_type (testsuite/tests/typing-modules/functors.ml[217,6084+29]..[217,6084+33])
                      Ptyp_constr "unit" (testsuite/tests/typing-modules/functors.ml[217,6084+29]..[217,6084+33])
                      []
            ]
          structure_item (testsuite/tests/typing-modules/functors.ml[217,6084+34]..[217,6084+53])
            Pstr_value Nonrec
            [
              <def>
                pattern (testsuite/tests/typing-modules/functors.ml[217,6084+38]..[217,6084+45])
                  Ppat_var "compare" (testsuite/tests/typing-modules/functors.ml[217,6084+38]..[217,6084+45])
                expression (testsuite/tests/typing-modules/functors.ml[217,6084+46]..[217,6084+53]) ghost
                  Pexp_fun
                  Nolabel
                  None
                  pattern (testsuite/tests/typing-modules/functors.ml[217,6084+46]..[217,6084+47])
                    Ppat_any
                  expression (testsuite/tests/typing-modules/functors.ml[217,6084+48]..[217,6084+53]) ghost
                    Pexp_fun
                    Nolabel
                    None
                    pattern (testsuite/tests/typing-modules/functors.ml[217,6084+48]..[217,6084+49])
                      Ppat_any
                    expression (testsuite/tests/typing-modules/functors.ml[217,6084+52]..[217,6084+53])
                      Pexp_constant PConst_int (0,None)
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[218,6142+0]..[218,6142+29])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[218,6142+7]..[218,6142+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[218,6142+11]..[218,6142+29])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[218,6142+11]..[218,6142+24])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[218,6142+11]..[218,6142+19])
            Pmod_ident "Map.Make" (testsuite/tests/typing-modules/functors.ml[218,6142+11]..[218,6142+19])
          module_expr (testsuite/tests/typing-modules/functors.ml[218,6142+20]..[218,6142+23])
            Pmod_ident "Ord" (testsuite/tests/typing-modules/functors.ml[218,6142+20]..[218,6142+23])
        module_expr (testsuite/tests/typing-modules/functors.ml[218,6142+25]..[218,6142+28])
          Pmod_ident "Ord" (testsuite/tests/typing-modules/functors.ml[218,6142+25]..[218,6142+28])
  structure_item (testsuite/tests/typing-modules/functors.ml[219,6172+0]..[232,6709+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[219,6172+10]..[232,6709+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[219,6172+10]..[232,6709+2])
          Pexp_constant PConst_string ("\nmodule Ord : sig type t = unit val compare : 'a -> 'b -> int end\nLine 2, characters 11-29:\n2 | module M = Map.Make(Ord)(Ord)\n               ^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         Ord Ord\n       do not match these parameters:\n         functor (Ord : Map.OrderedType) -> ...\n       1. The following extra argument is provided\n              Ord : sig type t = unit val compare : 'a -> 'b -> int end\n       2. Module Ord matches the expected module type Map.OrderedType\n",(testsuite/tests/typing-modules/functors.ml[219,6172+12]..[232,6709+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[235,6715+0]..[235,6715+22])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[235,6715+0]..[235,6715+22])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[235,6715+0]..[235,6715+22])
          Pexp_constant PConst_string(" Dependent types ",(testsuite/tests/typing-modules/functors.ml[235,6715+0]..[235,6715+22]),None)
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[236,6738+0]..[236,6738+23])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[236,6738+0]..[236,6738+23])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[236,6738+0]..[236,6738+23])
          Pexp_constant PConst_string(" Application side ",(testsuite/tests/typing-modules/functors.ml[236,6738+0]..[236,6738+23]),None)
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[238,6763+0]..[242,6860+12])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[238,6763+7]..[238,6763+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[239,6772+4]..[242,6860+12])
        Pmod_functor "A" (testsuite/tests/typing-modules/functors.ml[239,6772+5]..[239,6772+6])
        module_type (testsuite/tests/typing-modules/functors.ml[239,6772+7]..[239,6772+28])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[239,6772+11]..[239,6772+17])
              Psig_type Rec
              [
                type_declaration "x" (testsuite/tests/typing-modules/functors.ml[239,6772+16]..[239,6772+17]) (testsuite/tests/typing-modules/functors.ml[239,6772+11]..[239,6772+17])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[239,6772+18]..[239,6772+24])
              Psig_type Rec
              [
                type_declaration "y" (testsuite/tests/typing-modules/functors.ml[239,6772+23]..[239,6772+24]) (testsuite/tests/typing-modules/functors.ml[239,6772+18]..[239,6772+24])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_expr (testsuite/tests/typing-modules/functors.ml[240,6802+4]..[242,6860+12])
          Pmod_functor "B" (testsuite/tests/typing-modules/functors.ml[240,6802+5]..[240,6802+6])
          module_type (testsuite/tests/typing-modules/functors.ml[240,6802+7]..[240,6802+27])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-modules/functors.ml[240,6802+11]..[240,6802+23])
                Psig_type Rec
                [
                  type_declaration "x" (testsuite/tests/typing-modules/functors.ml[240,6802+16]..[240,6802+17]) (testsuite/tests/typing-modules/functors.ml[240,6802+11]..[240,6802+23])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-modules/functors.ml[240,6802+20]..[240,6802+23])
                          Ptyp_constr "A.x" (testsuite/tests/typing-modules/functors.ml[240,6802+20]..[240,6802+23])
                          []
                ]
            ]
          module_expr (testsuite/tests/typing-modules/functors.ml[241,6831+4]..[242,6860+12])
            Pmod_functor "C" (testsuite/tests/typing-modules/functors.ml[241,6831+5]..[241,6831+6])
            module_type (testsuite/tests/typing-modules/functors.ml[241,6831+7]..[241,6831+27])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/functors.ml[241,6831+11]..[241,6831+23])
                  Psig_type Rec
                  [
                    type_declaration "y" (testsuite/tests/typing-modules/functors.ml[241,6831+16]..[241,6831+17]) (testsuite/tests/typing-modules/functors.ml[241,6831+11]..[241,6831+23])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        Some
                          core_type (testsuite/tests/typing-modules/functors.ml[241,6831+20]..[241,6831+23])
                            Ptyp_constr "A.y" (testsuite/tests/typing-modules/functors.ml[241,6831+20]..[241,6831+23])
                            []
                  ]
              ]
            module_expr (testsuite/tests/typing-modules/functors.ml[242,6860+2]..[242,6860+12])
              Pmod_structure
              []
  structure_item (testsuite/tests/typing-modules/functors.ml[243,6873+0]..[243,6873+41])
    Pstr_module
    "K" (testsuite/tests/typing-modules/functors.ml[243,6873+7]..[243,6873+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[243,6873+11]..[243,6873+41])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[243,6873+18]..[243,6873+27])
            Pstr_include            module_expr (testsuite/tests/typing-modules/functors.ml[243,6873+26]..[243,6873+27])
              Pmod_ident "X" (testsuite/tests/typing-modules/functors.ml[243,6873+26]..[243,6873+27])
          structure_item (testsuite/tests/typing-modules/functors.ml[243,6873+28]..[243,6873+37])
            Pstr_include            module_expr (testsuite/tests/typing-modules/functors.ml[243,6873+36]..[243,6873+37])
              Pmod_ident "Y" (testsuite/tests/typing-modules/functors.ml[243,6873+36]..[243,6873+37])
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[244,6915+0]..[244,6915+73])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[244,6915+7]..[244,6915+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[244,6915+11]..[244,6915+73])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[244,6915+11]..[244,6915+40])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[244,6915+11]..[244,6915+15])
            Pmod_apply
            module_expr (testsuite/tests/typing-modules/functors.ml[244,6915+11]..[244,6915+12])
              Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[244,6915+11]..[244,6915+12])
            module_expr (testsuite/tests/typing-modules/functors.ml[244,6915+13]..[244,6915+14])
              Pmod_ident "K" (testsuite/tests/typing-modules/functors.ml[244,6915+13]..[244,6915+14])
          module_expr (testsuite/tests/typing-modules/functors.ml[244,6915+16]..[244,6915+39])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-modules/functors.ml[244,6915+23]..[244,6915+35])
                Pstr_type Rec
                [
                  type_declaration "x" (testsuite/tests/typing-modules/functors.ml[244,6915+28]..[244,6915+29]) (testsuite/tests/typing-modules/functors.ml[244,6915+23]..[244,6915+35])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-modules/functors.ml[244,6915+32]..[244,6915+35])
                          Ptyp_constr "K.x" (testsuite/tests/typing-modules/functors.ml[244,6915+32]..[244,6915+35])
                          []
                ]
            ]
        module_expr (testsuite/tests/typing-modules/functors.ml[244,6915+11]..[244,6915+73])
          Pmod_structure
          []
  structure_item (testsuite/tests/typing-modules/functors.ml[245,6989+0]..[261,7705+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[245,6989+10]..[261,7705+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[245,6989+10]..[261,7705+2])
          Pexp_constant PConst_string ("\nmodule F :\n  functor (A : sig type x type y end) (B : sig type x = A.x end)\n    (C : sig type y = A.y end) -> sig end\nmodule K : sig type x = X.x type y = Y.y end\nLine 10, characters 11-73:\n10 | module M = F(K)(struct type x = K.x end)( (* struct type z = K.y end *) )\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         K $S2 ()\n       do not match these parameters:\n         functor (A : ...) (B : ...) (C : $T3) -> ...\n       1. Module K matches the expected module type\n       2. Module $S2 matches the expected module type\n       3. The functor was expected to be applicative at this position\n",(testsuite/tests/typing-modules/functors.ml[245,6989+12]..[261,7705+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[263,7710+0]..[263,7710+40])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[263,7710+7]..[263,7710+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[263,7710+11]..[263,7710+40])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[263,7710+11]..[263,7710+15])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[263,7710+11]..[263,7710+12])
            Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[263,7710+11]..[263,7710+12])
          module_expr (testsuite/tests/typing-modules/functors.ml[263,7710+13]..[263,7710+14])
            Pmod_ident "K" (testsuite/tests/typing-modules/functors.ml[263,7710+13]..[263,7710+14])
        module_expr (testsuite/tests/typing-modules/functors.ml[263,7710+16]..[263,7710+39])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[263,7710+23]..[263,7710+35])
              Pstr_type Rec
              [
                type_declaration "y" (testsuite/tests/typing-modules/functors.ml[263,7710+28]..[263,7710+29]) (testsuite/tests/typing-modules/functors.ml[263,7710+23]..[263,7710+35])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/functors.ml[263,7710+32]..[263,7710+35])
                        Ptyp_constr "K.y" (testsuite/tests/typing-modules/functors.ml[263,7710+32]..[263,7710+35])
                        []
              ]
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[264,7751+0]..[277,8264+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[264,7751+10]..[277,8264+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[264,7751+10]..[277,8264+2])
          Pexp_constant PConst_string ("\nLine 1, characters 11-40:\n1 | module M = F(K)(struct type y = K.y end)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         K $S3\n       do not match these parameters:\n         functor (A : ...) (B : $T2) (C : ...) -> ...\n       1. Module K matches the expected module type\n       2. An argument appears to be missing with module type\n              $T2 = sig type x = A.x end\n       3. Module $S3 matches the expected module type\n",(testsuite/tests/typing-modules/functors.ml[264,7751+12]..[277,8264+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[280,8270+0]..[284,8352+30])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[280,8270+7]..[280,8270+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[281,8281+2]..[284,8352+30])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[281,8281+2]..[283,8322+29])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[281,8281+2]..[282,8285+36])
            Pmod_apply
            module_expr (testsuite/tests/typing-modules/functors.ml[281,8281+2]..[281,8281+3])
              Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[281,8281+2]..[281,8281+3])
            module_expr (testsuite/tests/typing-modules/functors.ml[282,8285+5]..[282,8285+35])
              Pmod_structure
              [
                structure_item (testsuite/tests/typing-modules/functors.ml[282,8285+12]..[282,8285+21])
                  Pstr_include                  module_expr (testsuite/tests/typing-modules/functors.ml[282,8285+20]..[282,8285+21])
                    Pmod_ident "X" (testsuite/tests/typing-modules/functors.ml[282,8285+20]..[282,8285+21])
                structure_item (testsuite/tests/typing-modules/functors.ml[282,8285+22]..[282,8285+31])
                  Pstr_include                  module_expr (testsuite/tests/typing-modules/functors.ml[282,8285+30]..[282,8285+31])
                    Pmod_ident "Y" (testsuite/tests/typing-modules/functors.ml[282,8285+30]..[282,8285+31])
              ]
          module_expr (testsuite/tests/typing-modules/functors.ml[283,8322+5]..[283,8322+28])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-modules/functors.ml[283,8322+12]..[283,8322+24])
                Pstr_type Rec
                [
                  type_declaration "x" (testsuite/tests/typing-modules/functors.ml[283,8322+17]..[283,8322+18]) (testsuite/tests/typing-modules/functors.ml[283,8322+12]..[283,8322+24])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-modules/functors.ml[283,8322+21]..[283,8322+24])
                          Ptyp_constr "K.x" (testsuite/tests/typing-modules/functors.ml[283,8322+21]..[283,8322+24])
                          []
                ]
            ]
        module_expr (testsuite/tests/typing-modules/functors.ml[284,8352+5]..[284,8352+29])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[284,8352+12]..[284,8352+25])
              Pstr_type Rec
              [
                type_declaration "yy" (testsuite/tests/typing-modules/functors.ml[284,8352+17]..[284,8352+19]) (testsuite/tests/typing-modules/functors.ml[284,8352+12]..[284,8352+25])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/functors.ml[284,8352+22]..[284,8352+25])
                        Ptyp_constr "K.y" (testsuite/tests/typing-modules/functors.ml[284,8352+22]..[284,8352+25])
                        []
              ]
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[285,8383+0]..[303,9024+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[285,8383+10]..[303,9024+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[285,8383+10]..[303,9024+2])
          Pexp_constant PConst_string ("\nLines 2-5, characters 2-30:\n2 | ..F\n3 |     (struct include X include Y end)\n4 |     (struct type x = K.x end)\n5 |     (struct type yy = K.y end)\nError: The functor application is ill-typed.\n       These arguments:\n         $S1 $S2 $S3\n       do not match these parameters:\n         functor (A : ...) (B : ...) (C : $T3) -> ...\n       1. Module $S1 matches the expected module type\n       2. Module $S2 matches the expected module type\n       3. Modules do not match:\n            $S3 : sig type yy = K.y end\n          is not included in\n            $T3 = sig type y = A.y end\n          The type `y' is required but not provided\n",(testsuite/tests/typing-modules/functors.ml[285,8383+12]..[303,9024+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[306,9030+0]..[311,9096+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[306,9030+7]..[306,9030+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[306,9030+11]..[311,9096+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[307,9048+2]..[310,9090+5])
            Pstr_module
            "N" (testsuite/tests/typing-modules/functors.ml[307,9048+9]..[307,9048+10])
              module_expr (testsuite/tests/typing-modules/functors.ml[307,9048+13]..[310,9090+5])
                Pmod_structure
                [
                  structure_item (testsuite/tests/typing-modules/functors.ml[308,9068+4]..[308,9068+10])
                    Pstr_type Rec
                    [
                      type_declaration "x" (testsuite/tests/typing-modules/functors.ml[308,9068+9]..[308,9068+10]) (testsuite/tests/typing-modules/functors.ml[308,9068+4]..[308,9068+10])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  structure_item (testsuite/tests/typing-modules/functors.ml[309,9079+4]..[309,9079+10])
                    Pstr_type Rec
                    [
                      type_declaration "y" (testsuite/tests/typing-modules/functors.ml[309,9079+9]..[309,9079+10]) (testsuite/tests/typing-modules/functors.ml[309,9079+4]..[309,9079+10])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[314,9102+0]..[317,9201+3])
    Pstr_module
    "Defs" (testsuite/tests/typing-modules/functors.ml[314,9102+7]..[314,9102+11])
      module_expr (testsuite/tests/typing-modules/functors.ml[314,9102+14]..[317,9201+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[315,9123+2]..[315,9123+38])
            Pstr_module
            "X" (testsuite/tests/typing-modules/functors.ml[315,9123+9]..[315,9123+10])
              module_expr (testsuite/tests/typing-modules/functors.ml[315,9123+13]..[315,9123+38])
                Pmod_structure
                [
                  structure_item (testsuite/tests/typing-modules/functors.ml[315,9123+20]..[315,9123+34])
                    Pstr_type Rec
                    [
                      type_declaration "x" (testsuite/tests/typing-modules/functors.ml[315,9123+25]..[315,9123+26]) (testsuite/tests/typing-modules/functors.ml[315,9123+20]..[315,9123+34])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          Some
                            core_type (testsuite/tests/typing-modules/functors.ml[315,9123+29]..[315,9123+34])
                              Ptyp_constr "M.N.x" (testsuite/tests/typing-modules/functors.ml[315,9123+29]..[315,9123+34])
                              []
                    ]
                ]
          structure_item (testsuite/tests/typing-modules/functors.ml[316,9162+2]..[316,9162+38])
            Pstr_module
            "Y" (testsuite/tests/typing-modules/functors.ml[316,9162+9]..[316,9162+10])
              module_expr (testsuite/tests/typing-modules/functors.ml[316,9162+13]..[316,9162+38])
                Pmod_structure
                [
                  structure_item (testsuite/tests/typing-modules/functors.ml[316,9162+20]..[316,9162+34])
                    Pstr_type Rec
                    [
                      type_declaration "y" (testsuite/tests/typing-modules/functors.ml[316,9162+25]..[316,9162+26]) (testsuite/tests/typing-modules/functors.ml[316,9162+20]..[316,9162+34])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          Some
                            core_type (testsuite/tests/typing-modules/functors.ml[316,9162+29]..[316,9162+34])
                              Ptyp_constr "M.N.y" (testsuite/tests/typing-modules/functors.ml[316,9162+29]..[316,9162+34])
                              []
                    ]
                ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[318,9205+0]..[318,9205+33])
    Pstr_module
    "Missing_X" (testsuite/tests/typing-modules/functors.ml[318,9205+7]..[318,9205+16])
      module_expr (testsuite/tests/typing-modules/functors.ml[318,9205+19]..[318,9205+33])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[318,9205+19]..[318,9205+25])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[318,9205+19]..[318,9205+20])
            Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[318,9205+19]..[318,9205+20])
          module_expr (testsuite/tests/typing-modules/functors.ml[318,9205+21]..[318,9205+24])
            Pmod_ident "M.N" (testsuite/tests/typing-modules/functors.ml[318,9205+21]..[318,9205+24])
        module_expr (testsuite/tests/typing-modules/functors.ml[318,9205+26]..[318,9205+32])
          Pmod_ident "Defs.Y" (testsuite/tests/typing-modules/functors.ml[318,9205+26]..[318,9205+32])
  structure_item (testsuite/tests/typing-modules/functors.ml[319,9239+0]..[335,9895+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[319,9239+10]..[335,9895+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[319,9239+10]..[335,9895+2])
          Pexp_constant PConst_string ("\nmodule M : sig module N : sig type x type y end end\nmodule Defs :\n  sig module X : sig type x = M.N.x end module Y : sig type y = M.N.y end end\nLine 13, characters 19-33:\n13 | module Missing_X = F(M.N)(Defs.Y)\n                        ^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         M.N Defs.Y\n       do not match these parameters:\n         functor (A : ...) (B : $T2) (C : ...) -> ...\n       1. Module M.N matches the expected module type\n       2. An argument appears to be missing with module type\n              $T2 = sig type x = A.x end\n       3. Module Defs.Y matches the expected module type\n",(testsuite/tests/typing-modules/functors.ml[319,9239+12]..[335,9895+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[337,9900+0]..[337,9900+51])
    Pstr_module
    "Too_many_Xs" (testsuite/tests/typing-modules/functors.ml[337,9900+7]..[337,9900+18])
      module_expr (testsuite/tests/typing-modules/functors.ml[337,9900+21]..[337,9900+51])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[337,9900+21]..[337,9900+43])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[337,9900+21]..[337,9900+35])
            Pmod_apply
            module_expr (testsuite/tests/typing-modules/functors.ml[337,9900+21]..[337,9900+27])
              Pmod_apply
              module_expr (testsuite/tests/typing-modules/functors.ml[337,9900+21]..[337,9900+22])
                Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[337,9900+21]..[337,9900+22])
              module_expr (testsuite/tests/typing-modules/functors.ml[337,9900+23]..[337,9900+26])
                Pmod_ident "M.N" (testsuite/tests/typing-modules/functors.ml[337,9900+23]..[337,9900+26])
            module_expr (testsuite/tests/typing-modules/functors.ml[337,9900+28]..[337,9900+34])
              Pmod_ident "Defs.X" (testsuite/tests/typing-modules/functors.ml[337,9900+28]..[337,9900+34])
          module_expr (testsuite/tests/typing-modules/functors.ml[337,9900+36]..[337,9900+42])
            Pmod_ident "Defs.X" (testsuite/tests/typing-modules/functors.ml[337,9900+36]..[337,9900+42])
        module_expr (testsuite/tests/typing-modules/functors.ml[337,9900+44]..[337,9900+50])
          Pmod_ident "Defs.Y" (testsuite/tests/typing-modules/functors.ml[337,9900+44]..[337,9900+50])
  structure_item (testsuite/tests/typing-modules/functors.ml[338,9952+0]..[352,10563+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[338,9952+10]..[352,10563+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[338,9952+10]..[352,10563+2])
          Pexp_constant PConst_string ("\nLine 1, characters 21-51:\n1 | module Too_many_Xs = F(M.N)(Defs.X)(Defs.X)(Defs.Y)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         M.N Defs.X Defs.X Defs.Y\n       do not match these parameters:\n         functor (A : ...) (B : ...) (C : ...) -> ...\n       1. Module M.N matches the expected module type\n       2. The following extra argument is provided\n              Defs.X : sig type x = M.N.x end\n       3. Module Defs.X matches the expected module type\n       4. Module Defs.Y matches the expected module type\n",(testsuite/tests/typing-modules/functors.ml[338,9952+12]..[352,10563+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[355,10569+0]..[355,10569+34])
    Pstr_module
    "X" (testsuite/tests/typing-modules/functors.ml[355,10569+7]..[355,10569+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[355,10569+11]..[355,10569+34])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[355,10569+18]..[355,10569+30])
            Pstr_type Rec
            [
              type_declaration "x" (testsuite/tests/typing-modules/functors.ml[355,10569+23]..[355,10569+24]) (testsuite/tests/typing-modules/functors.ml[355,10569+18]..[355,10569+30])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  Some
                    core_type (testsuite/tests/typing-modules/functors.ml[355,10569+27]..[355,10569+30])
                      Ptyp_constr "int" (testsuite/tests/typing-modules/functors.ml[355,10569+27]..[355,10569+30])
                      []
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[356,10604+0]..[356,10604+36])
    Pstr_module
    "Y" (testsuite/tests/typing-modules/functors.ml[356,10604+7]..[356,10604+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[356,10604+11]..[356,10604+36])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[356,10604+18]..[356,10604+32])
            Pstr_type Rec
            [
              type_declaration "y" (testsuite/tests/typing-modules/functors.ml[356,10604+23]..[356,10604+24]) (testsuite/tests/typing-modules/functors.ml[356,10604+18]..[356,10604+32])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  Some
                    core_type (testsuite/tests/typing-modules/functors.ml[356,10604+27]..[356,10604+32])
                      Ptyp_constr "float" (testsuite/tests/typing-modules/functors.ml[356,10604+27]..[356,10604+32])
                      []
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[357,10641+0]..[357,10641+67])
    Pstr_module
    "Missing_X_bis" (testsuite/tests/typing-modules/functors.ml[357,10641+7]..[357,10641+20])
      module_expr (testsuite/tests/typing-modules/functors.ml[357,10641+23]..[357,10641+67])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[357,10641+23]..[357,10641+64])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[357,10641+23]..[357,10641+24])
            Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[357,10641+23]..[357,10641+24])
          module_expr (testsuite/tests/typing-modules/functors.ml[357,10641+25]..[357,10641+63])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-modules/functors.ml[357,10641+32]..[357,10641+44])
                Pstr_type Rec
                [
                  type_declaration "x" (testsuite/tests/typing-modules/functors.ml[357,10641+37]..[357,10641+38]) (testsuite/tests/typing-modules/functors.ml[357,10641+32]..[357,10641+44])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-modules/functors.ml[357,10641+41]..[357,10641+44])
                          Ptyp_constr "int" (testsuite/tests/typing-modules/functors.ml[357,10641+41]..[357,10641+44])
                          []
                ]
              structure_item (testsuite/tests/typing-modules/functors.ml[357,10641+45]..[357,10641+59])
                Pstr_type Rec
                [
                  type_declaration "y" (testsuite/tests/typing-modules/functors.ml[357,10641+50]..[357,10641+51]) (testsuite/tests/typing-modules/functors.ml[357,10641+45]..[357,10641+59])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-modules/functors.ml[357,10641+54]..[357,10641+59])
                          Ptyp_constr "float" (testsuite/tests/typing-modules/functors.ml[357,10641+54]..[357,10641+59])
                          []
                ]
            ]
        module_expr (testsuite/tests/typing-modules/functors.ml[357,10641+65]..[357,10641+66])
          Pmod_ident "Y" (testsuite/tests/typing-modules/functors.ml[357,10641+65]..[357,10641+66])
  structure_item (testsuite/tests/typing-modules/functors.ml[358,10709+0]..[373,11342+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[358,10709+10]..[373,11342+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[358,10709+10]..[373,11342+2])
          Pexp_constant PConst_string ("\nmodule X : sig type x = int end\nmodule Y : sig type y = float end\nLine 3, characters 23-67:\n3 | module Missing_X_bis = F(struct type x = int type y = float end)(Y)\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         $S1 Y\n       do not match these parameters:\n         functor (A : ...) (B : $T2) (C : ...) -> ...\n       1. Module $S1 matches the expected module type\n       2. An argument appears to be missing with module type\n              $T2 = sig type x = A.x end\n       3. Module Y matches the expected module type\n",(testsuite/tests/typing-modules/functors.ml[358,10709+12]..[373,11342+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[375,11347+0]..[375,11347+75])
    Pstr_module
    "Too_many_Xs_bis" (testsuite/tests/typing-modules/functors.ml[375,11347+7]..[375,11347+22])
      module_expr (testsuite/tests/typing-modules/functors.ml[375,11347+25]..[375,11347+75])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[375,11347+25]..[375,11347+72])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[375,11347+25]..[375,11347+69])
            Pmod_apply
            module_expr (testsuite/tests/typing-modules/functors.ml[375,11347+25]..[375,11347+66])
              Pmod_apply
              module_expr (testsuite/tests/typing-modules/functors.ml[375,11347+25]..[375,11347+26])
                Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[375,11347+25]..[375,11347+26])
              module_expr (testsuite/tests/typing-modules/functors.ml[375,11347+27]..[375,11347+65])
                Pmod_structure
                [
                  structure_item (testsuite/tests/typing-modules/functors.ml[375,11347+34]..[375,11347+46])
                    Pstr_type Rec
                    [
                      type_declaration "x" (testsuite/tests/typing-modules/functors.ml[375,11347+39]..[375,11347+40]) (testsuite/tests/typing-modules/functors.ml[375,11347+34]..[375,11347+46])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          Some
                            core_type (testsuite/tests/typing-modules/functors.ml[375,11347+43]..[375,11347+46])
                              Ptyp_constr "int" (testsuite/tests/typing-modules/functors.ml[375,11347+43]..[375,11347+46])
                              []
                    ]
                  structure_item (testsuite/tests/typing-modules/functors.ml[375,11347+47]..[375,11347+61])
                    Pstr_type Rec
                    [
                      type_declaration "y" (testsuite/tests/typing-modules/functors.ml[375,11347+52]..[375,11347+53]) (testsuite/tests/typing-modules/functors.ml[375,11347+47]..[375,11347+61])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          Some
                            core_type (testsuite/tests/typing-modules/functors.ml[375,11347+56]..[375,11347+61])
                              Ptyp_constr "float" (testsuite/tests/typing-modules/functors.ml[375,11347+56]..[375,11347+61])
                              []
                    ]
                ]
            module_expr (testsuite/tests/typing-modules/functors.ml[375,11347+67]..[375,11347+68])
              Pmod_ident "X" (testsuite/tests/typing-modules/functors.ml[375,11347+67]..[375,11347+68])
          module_expr (testsuite/tests/typing-modules/functors.ml[375,11347+70]..[375,11347+71])
            Pmod_ident "X" (testsuite/tests/typing-modules/functors.ml[375,11347+70]..[375,11347+71])
        module_expr (testsuite/tests/typing-modules/functors.ml[375,11347+73]..[375,11347+74])
          Pmod_ident "Y" (testsuite/tests/typing-modules/functors.ml[375,11347+73]..[375,11347+74])
  structure_item (testsuite/tests/typing-modules/functors.ml[376,11423+0]..[389,12036+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[376,11423+10]..[389,12036+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[376,11423+10]..[389,12036+2])
          Pexp_constant PConst_string ("\nLine 1, characters 25-75:\n1 | module Too_many_Xs_bis = F(struct type x = int type y = float end)(X)(X)(Y)\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         $S1 X X Y\n       do not match these parameters:\n         functor (A : ...) (B : ...) (C : ...) -> ...\n       1. Module $S1 matches the expected module type\n       2. The following extra argument is provided X : sig type x = int end\n       3. Module X matches the expected module type\n       4. Module Y matches the expected module type\n",(testsuite/tests/typing-modules/functors.ml[376,11423+12]..[389,12036+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[393,12064+0]..[395,12163+14])
    Pstr_modtype "f" (testsuite/tests/typing-modules/functors.ml[393,12064+12]..[393,12064+13])
      attribute "ocaml.doc"
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[392,12042+0]..[392,12042+21])
            Pstr_eval
            expression (testsuite/tests/typing-modules/functors.ml[392,12042+0]..[392,12042+21])
              Pexp_constant PConst_string(" Inclusion side ",(testsuite/tests/typing-modules/functors.ml[392,12042+0]..[392,12042+21]),None)
        ]
      module_type (testsuite/tests/typing-modules/functors.ml[394,12080+9]..[395,12163+14])
        Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[394,12080+10]..[394,12080+11])
        module_type (testsuite/tests/typing-modules/functors.ml[394,12080+12]..[394,12080+33])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[394,12080+16]..[394,12080+22])
              Psig_type Rec
              [
                type_declaration "x" (testsuite/tests/typing-modules/functors.ml[394,12080+21]..[394,12080+22]) (testsuite/tests/typing-modules/functors.ml[394,12080+16]..[394,12080+22])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[394,12080+23]..[394,12080+29])
              Psig_type Rec
              [
                type_declaration "y" (testsuite/tests/typing-modules/functors.ml[394,12080+28]..[394,12080+29]) (testsuite/tests/typing-modules/functors.ml[394,12080+23]..[394,12080+29])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[394,12080+34]..[395,12163+14])
          Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[394,12080+35]..[394,12080+36])
          module_type (testsuite/tests/typing-modules/functors.ml[394,12080+37]..[394,12080+57])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-modules/functors.ml[394,12080+41]..[394,12080+53])
                Psig_type Rec
                [
                  type_declaration "x" (testsuite/tests/typing-modules/functors.ml[394,12080+46]..[394,12080+47]) (testsuite/tests/typing-modules/functors.ml[394,12080+41]..[394,12080+53])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-modules/functors.ml[394,12080+50]..[394,12080+53])
                          Ptyp_constr "A.x" (testsuite/tests/typing-modules/functors.ml[394,12080+50]..[394,12080+53])
                          []
                ]
            ]
          module_type (testsuite/tests/typing-modules/functors.ml[394,12080+58]..[395,12163+14])
            Pmty_functor "C" (testsuite/tests/typing-modules/functors.ml[394,12080+59]..[394,12080+60])
            module_type (testsuite/tests/typing-modules/functors.ml[394,12080+61]..[394,12080+81])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/functors.ml[394,12080+65]..[394,12080+77])
                  Psig_type Rec
                  [
                    type_declaration "y" (testsuite/tests/typing-modules/functors.ml[394,12080+70]..[394,12080+71]) (testsuite/tests/typing-modules/functors.ml[394,12080+65]..[394,12080+77])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        Some
                          core_type (testsuite/tests/typing-modules/functors.ml[394,12080+74]..[394,12080+77])
                            Ptyp_constr "A.y" (testsuite/tests/typing-modules/functors.ml[394,12080+74]..[394,12080+77])
                            []
                  ]
              ]
            module_type (testsuite/tests/typing-modules/functors.ml[395,12163+7]..[395,12163+14])
              Pmty_signature
              []
  structure_item (testsuite/tests/typing-modules/functors.ml[396,12178+0]..[396,12178+91])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[396,12178+7]..[396,12178+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[396,12178+8]..[396,12178+91])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[396,12178+22]..[396,12178+91])
          Pmod_functor "A" (testsuite/tests/typing-modules/functors.ml[396,12178+23]..[396,12178+24])
          module_type (testsuite/tests/typing-modules/functors.ml[396,12178+25]..[396,12178+52])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-modules/functors.ml[396,12178+29]..[396,12178+38])
                Psig_include
                module_type (testsuite/tests/typing-modules/functors.ml[396,12178+37]..[396,12178+38])
                  Pmty_ident "x" (testsuite/tests/typing-modules/functors.ml[396,12178+37]..[396,12178+38])
              signature_item (testsuite/tests/typing-modules/functors.ml[396,12178+39]..[396,12178+48])
                Psig_include
                module_type (testsuite/tests/typing-modules/functors.ml[396,12178+47]..[396,12178+48])
                  Pmty_ident "y" (testsuite/tests/typing-modules/functors.ml[396,12178+47]..[396,12178+48])
            ]
          module_expr (testsuite/tests/typing-modules/functors.ml[396,12178+53]..[396,12178+91])
            Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[396,12178+54]..[396,12178+55])
            module_type (testsuite/tests/typing-modules/functors.ml[396,12178+56]..[396,12178+76])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/functors.ml[396,12178+60]..[396,12178+72])
                  Psig_type Rec
                  [
                    type_declaration "y" (testsuite/tests/typing-modules/functors.ml[396,12178+65]..[396,12178+66]) (testsuite/tests/typing-modules/functors.ml[396,12178+60]..[396,12178+72])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        Some
                          core_type (testsuite/tests/typing-modules/functors.ml[396,12178+69]..[396,12178+72])
                            Ptyp_constr "A.y" (testsuite/tests/typing-modules/functors.ml[396,12178+69]..[396,12178+72])
                            []
                  ]
              ]
            module_expr (testsuite/tests/typing-modules/functors.ml[396,12178+81]..[396,12178+91])
              Pmod_structure
              []
        module_type (testsuite/tests/typing-modules/functors.ml[396,12178+10]..[396,12178+11])
          Pmty_ident "f" (testsuite/tests/typing-modules/functors.ml[396,12178+10]..[396,12178+11])
  structure_item (testsuite/tests/typing-modules/functors.ml[397,12270+0]..[413,12988+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[397,12270+10]..[413,12988+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[397,12270+10]..[413,12988+2])
          Pexp_constant PConst_string ("\nmodule type f =\n  functor (A : sig type x type y end) (B : sig type x = A.x end)\n    (C : sig type y = A.y end) -> sig end\nLine 4, characters 22-91:\n4 | module F: f = functor (A:sig include x include y end)(Z:sig type y = A.y end) -> struct end\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: Signature mismatch:\n       Modules do not match:\n         functor (A : $S1) (Z : $S3) -> ...\n       is not included in\n         functor (A : $T1) (B : $T2) (C : $T3) -> ...\n       1. Module types $S1 and $T1 match\n       2. An argument appears to be missing with module type\n              $T2 = sig type x = A.x end\n       3. Module types $S3 and $T3 match\n",(testsuite/tests/typing-modules/functors.ml[397,12270+12]..[413,12988+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[416,12994+0]..[418,13123+14])
    Pstr_modtype "f" (testsuite/tests/typing-modules/functors.ml[416,12994+12]..[416,12994+13])
      module_type (testsuite/tests/typing-modules/functors.ml[417,13010+9]..[418,13123+14])
        Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[417,13010+10]..[417,13010+11])
        module_type (testsuite/tests/typing-modules/functors.ml[417,13010+12]..[417,13010+51])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[417,13010+16]..[417,13010+22])
              Psig_type Rec
              [
                type_declaration "x" (testsuite/tests/typing-modules/functors.ml[417,13010+21]..[417,13010+22]) (testsuite/tests/typing-modules/functors.ml[417,13010+16]..[417,13010+22])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[417,13010+23]..[417,13010+29])
              Psig_type Rec
              [
                type_declaration "y" (testsuite/tests/typing-modules/functors.ml[417,13010+28]..[417,13010+29]) (testsuite/tests/typing-modules/functors.ml[417,13010+23]..[417,13010+29])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[417,13010+30]..[417,13010+38])
              Psig_type Rec
              [
                type_declaration "u" (testsuite/tests/typing-modules/functors.ml[417,13010+35]..[417,13010+36]) (testsuite/tests/typing-modules/functors.ml[417,13010+30]..[417,13010+38])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/functors.ml[417,13010+37]..[417,13010+38])
                        Ptyp_constr "x" (testsuite/tests/typing-modules/functors.ml[417,13010+37]..[417,13010+38])
                        []
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[417,13010+39]..[417,13010+47])
              Psig_type Rec
              [
                type_declaration "v" (testsuite/tests/typing-modules/functors.ml[417,13010+44]..[417,13010+45]) (testsuite/tests/typing-modules/functors.ml[417,13010+39]..[417,13010+47])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/functors.ml[417,13010+46]..[417,13010+47])
                        Ptyp_constr "y" (testsuite/tests/typing-modules/functors.ml[417,13010+46]..[417,13010+47])
                        []
              ]
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[417,13010+52]..[418,13123+14])
          Pmty_functor "Y" (testsuite/tests/typing-modules/functors.ml[417,13010+53]..[417,13010+54])
          module_type (testsuite/tests/typing-modules/functors.ml[417,13010+55]..[417,13010+81])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-modules/functors.ml[417,13010+59]..[417,13010+77])
                Psig_type Rec
                [
                  type_declaration "yu" (testsuite/tests/typing-modules/functors.ml[417,13010+64]..[417,13010+66]) (testsuite/tests/typing-modules/functors.ml[417,13010+59]..[417,13010+77])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-modules/functors.ml[417,13010+69]..[417,13010+77])
                            "Y" (testsuite/tests/typing-modules/functors.ml[417,13010+69]..[417,13010+70])
                            [
                              core_type (testsuite/tests/typing-modules/functors.ml[417,13010+74]..[417,13010+77])
                                Ptyp_constr "B.u" (testsuite/tests/typing-modules/functors.ml[417,13010+74]..[417,13010+77])
                                []
                            ]
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
            ]
          module_type (testsuite/tests/typing-modules/functors.ml[417,13010+82]..[418,13123+14])
            Pmty_functor "Z" (testsuite/tests/typing-modules/functors.ml[417,13010+83]..[417,13010+84])
            module_type (testsuite/tests/typing-modules/functors.ml[417,13010+85]..[417,13010+111])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/functors.ml[417,13010+89]..[417,13010+107])
                  Psig_type Rec
                  [
                    type_declaration "zv" (testsuite/tests/typing-modules/functors.ml[417,13010+94]..[417,13010+96]) (testsuite/tests/typing-modules/functors.ml[417,13010+89]..[417,13010+107])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_variant
                          [
                            (testsuite/tests/typing-modules/functors.ml[417,13010+99]..[417,13010+107])
                              "Z" (testsuite/tests/typing-modules/functors.ml[417,13010+99]..[417,13010+100])
                              [
                                core_type (testsuite/tests/typing-modules/functors.ml[417,13010+104]..[417,13010+107])
                                  Ptyp_constr "B.v" (testsuite/tests/typing-modules/functors.ml[417,13010+104]..[417,13010+107])
                                  []
                              ]
                              None
                          ]
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
              ]
            module_type (testsuite/tests/typing-modules/functors.ml[418,13123+7]..[418,13123+14])
              Pmty_signature
              []
  structure_item (testsuite/tests/typing-modules/functors.ml[419,13138+0]..[419,13138+97])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[419,13138+7]..[419,13138+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[419,13138+8]..[419,13138+97])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[419,13138+22]..[419,13138+97])
          Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[419,13138+23]..[419,13138+24])
          module_type (testsuite/tests/typing-modules/functors.ml[419,13138+25]..[419,13138+52])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-modules/functors.ml[419,13138+29]..[419,13138+38])
                Psig_include
                module_type (testsuite/tests/typing-modules/functors.ml[419,13138+37]..[419,13138+38])
                  Pmty_ident "x" (testsuite/tests/typing-modules/functors.ml[419,13138+37]..[419,13138+38])
              signature_item (testsuite/tests/typing-modules/functors.ml[419,13138+39]..[419,13138+48])
                Psig_include
                module_type (testsuite/tests/typing-modules/functors.ml[419,13138+47]..[419,13138+48])
                  Pmty_ident "y" (testsuite/tests/typing-modules/functors.ml[419,13138+47]..[419,13138+48])
            ]
          module_expr (testsuite/tests/typing-modules/functors.ml[419,13138+53]..[419,13138+97])
            Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[419,13138+54]..[419,13138+55])
            module_type (testsuite/tests/typing-modules/functors.ml[419,13138+56]..[419,13138+82])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/functors.ml[419,13138+60]..[419,13138+78])
                  Psig_type Rec
                  [
                    type_declaration "zv" (testsuite/tests/typing-modules/functors.ml[419,13138+65]..[419,13138+67]) (testsuite/tests/typing-modules/functors.ml[419,13138+60]..[419,13138+78])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_variant
                          [
                            (testsuite/tests/typing-modules/functors.ml[419,13138+70]..[419,13138+78])
                              "Z" (testsuite/tests/typing-modules/functors.ml[419,13138+70]..[419,13138+71])
                              [
                                core_type (testsuite/tests/typing-modules/functors.ml[419,13138+75]..[419,13138+78])
                                  Ptyp_constr "X.y" (testsuite/tests/typing-modules/functors.ml[419,13138+75]..[419,13138+78])
                                  []
                              ]
                              None
                          ]
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
              ]
            module_expr (testsuite/tests/typing-modules/functors.ml[419,13138+87]..[419,13138+97])
              Pmod_structure
              []
        module_type (testsuite/tests/typing-modules/functors.ml[419,13138+10]..[419,13138+11])
          Pmty_ident "f" (testsuite/tests/typing-modules/functors.ml[419,13138+10]..[419,13138+11])
  structure_item (testsuite/tests/typing-modules/functors.ml[420,13236+0]..[437,14010+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[420,13236+10]..[437,14010+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[420,13236+10]..[437,14010+2])
          Pexp_constant PConst_string ("\nmodule type f =\n  functor (B : sig type x type y type u = x type v = y end)\n    (Y : sig type yu = Y of B.u end) (Z : sig type zv = Z of B.v end) ->\n    sig end\nLine 4, characters 22-97:\n4 | module F: f = functor (X:sig include x include y end)(Z:sig type zv = Z of X.y end) -> struct end\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: Signature mismatch:\n       Modules do not match:\n         functor (X : $S1) (Z : $S3) -> ...\n       is not included in\n         functor (B : $T1) (Y : $T2) (Z : $T3) -> ...\n       1. Module types $S1 and $T1 match\n       2. An argument appears to be missing with module type\n              $T2 = sig type yu = Y of B.u end\n       3. Module types $S3 and $T3 match\n",(testsuite/tests/typing-modules/functors.ml[420,13236+12]..[437,14010+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[440,14016+0]..[440,14016+29])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[440,14016+0]..[440,14016+29])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[440,14016+0]..[440,14016+29])
          Pexp_constant PConst_string(" Module type equalities ",(testsuite/tests/typing-modules/functors.ml[440,14016+0]..[440,14016+29]),None)
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[442,14047+0]..[446,14147+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[442,14047+7]..[442,14047+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[442,14047+8]..[446,14147+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[444,14094+6]..[446,14147+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[445,14107+2]..[445,14107+39])
              Pstr_modtype "S" (testsuite/tests/typing-modules/functors.ml[445,14107+14]..[445,14107+15])
                module_type (testsuite/tests/typing-modules/functors.ml[445,14107+18]..[445,14107+39])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[445,14107+22]..[445,14107+28])
                      Psig_type Rec
                      [
                        type_declaration "s" (testsuite/tests/typing-modules/functors.ml[445,14107+27]..[445,14107+28]) (testsuite/tests/typing-modules/functors.ml[445,14107+22]..[445,14107+28])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[445,14107+29]..[445,14107+35])
                      Psig_type Rec
                      [
                        type_declaration "t" (testsuite/tests/typing-modules/functors.ml[445,14107+34]..[445,14107+35]) (testsuite/tests/typing-modules/functors.ml[445,14107+29]..[445,14107+35])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                  ]
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[442,14047+10]..[444,14094+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[443,14061+2]..[443,14061+32])
              Psig_modtype "S" (testsuite/tests/typing-modules/functors.ml[443,14061+14]..[443,14061+15])
                module_type (testsuite/tests/typing-modules/functors.ml[443,14061+18]..[443,14061+32])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[443,14061+22]..[443,14061+28])
                      Psig_type Rec
                      [
                        type_declaration "t" (testsuite/tests/typing-modules/functors.ml[443,14061+27]..[443,14061+28]) (testsuite/tests/typing-modules/functors.ml[443,14061+22]..[443,14061+28])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                  ]
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[447,14153+0]..[469,14908+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[447,14153+10]..[469,14908+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[447,14153+10]..[469,14908+2])
          Pexp_constant PConst_string ("\nLines 5-7, characters 6-3:\n5 | ......struct\n6 |   module type S = sig type s type t end\n7 | end..\nError: Signature mismatch:\n       Modules do not match:\n         sig module type S = sig type s type t end end\n       is not included in\n         sig module type S = sig type t end end\n       Module type declarations do not match:\n         module type S = sig type s type t end\n       does not match\n         module type S = sig type t end\n       The second module type is not included in the first\n       At position module type S = <here>\n       Module types do not match:\n         sig type t end\n       is not equal to\n         sig type s type t end\n       At position module type S = <here>\n       The type `s' is required but not provided\n",(testsuite/tests/typing-modules/functors.ml[447,14153+12]..[469,14908+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[471,14913+0]..[475,15013+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[471,14913+7]..[471,14913+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[471,14913+8]..[475,15013+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[473,14967+6]..[475,15013+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[474,14980+2]..[474,14980+32])
              Pstr_modtype "S" (testsuite/tests/typing-modules/functors.ml[474,14980+14]..[474,14980+15])
                module_type (testsuite/tests/typing-modules/functors.ml[474,14980+18]..[474,14980+32])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[474,14980+22]..[474,14980+28])
                      Psig_type Rec
                      [
                        type_declaration "t" (testsuite/tests/typing-modules/functors.ml[474,14980+27]..[474,14980+28]) (testsuite/tests/typing-modules/functors.ml[474,14980+22]..[474,14980+28])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                  ]
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[471,14913+10]..[473,14967+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[472,14927+2]..[472,14927+39])
              Psig_modtype "S" (testsuite/tests/typing-modules/functors.ml[472,14927+14]..[472,14927+15])
                module_type (testsuite/tests/typing-modules/functors.ml[472,14927+18]..[472,14927+39])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[472,14927+22]..[472,14927+28])
                      Psig_type Rec
                      [
                        type_declaration "t" (testsuite/tests/typing-modules/functors.ml[472,14927+27]..[472,14927+28]) (testsuite/tests/typing-modules/functors.ml[472,14927+22]..[472,14927+28])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[472,14927+29]..[472,14927+35])
                      Psig_type Rec
                      [
                        type_declaration "u" (testsuite/tests/typing-modules/functors.ml[472,14927+34]..[472,14927+35]) (testsuite/tests/typing-modules/functors.ml[472,14927+29]..[472,14927+35])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                  ]
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[476,15019+2]..[498,15769+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[476,15019+12]..[498,15769+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[476,15019+12]..[498,15769+2])
          Pexp_constant PConst_string ("\nLines 3-5, characters 6-3:\n3 | ......struct\n4 |   module type S = sig type t end\n5 | end..\nError: Signature mismatch:\n       Modules do not match:\n         sig module type S = sig type t end end\n       is not included in\n         sig module type S = sig type t type u end end\n       Module type declarations do not match:\n         module type S = sig type t end\n       does not match\n         module type S = sig type t type u end\n       The first module type is not included in the second\n       At position module type S = <here>\n       Module types do not match:\n         sig type t end\n       is not equal to\n         sig type t type u end\n       At position module type S = <here>\n       The type `u' is required but not provided\n",(testsuite/tests/typing-modules/functors.ml[476,15019+14]..[498,15769+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[501,15775+0]..[501,15775+26])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[501,15775+0]..[501,15775+26])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[501,15775+0]..[501,15775+26])
          Pexp_constant PConst_string(" Name collision test ",(testsuite/tests/typing-modules/functors.ml[501,15775+0]..[501,15775+26]),None)
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[503,15803+0]..[503,15803+43])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[503,15803+7]..[503,15803+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[503,15803+8]..[503,15803+43])
        Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[503,15803+9]..[503,15803+10])
        module_type (testsuite/tests/typing-modules/functors.ml[503,15803+11]..[503,15803+12])
          Pmty_ident "x" (testsuite/tests/typing-modules/functors.ml[503,15803+11]..[503,15803+12])
        module_expr (testsuite/tests/typing-modules/functors.ml[503,15803+13]..[503,15803+43])
          Pmod_functor "B" (testsuite/tests/typing-modules/functors.ml[503,15803+14]..[503,15803+15])
          module_type (testsuite/tests/typing-modules/functors.ml[503,15803+16]..[503,15803+17])
            Pmty_ident "b" (testsuite/tests/typing-modules/functors.ml[503,15803+16]..[503,15803+17])
          module_expr (testsuite/tests/typing-modules/functors.ml[503,15803+18]..[503,15803+43])
            Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[503,15803+19]..[503,15803+20])
            module_type (testsuite/tests/typing-modules/functors.ml[503,15803+21]..[503,15803+22])
              Pmty_ident "y" (testsuite/tests/typing-modules/functors.ml[503,15803+21]..[503,15803+22])
            module_expr (testsuite/tests/typing-modules/functors.ml[503,15803+26]..[503,15803+43])
              Pmod_structure
              [
                structure_item (testsuite/tests/typing-modules/functors.ml[503,15803+33]..[503,15803+39])
                  Pstr_type Rec
                  [
                    type_declaration "t" (testsuite/tests/typing-modules/functors.ml[503,15803+38]..[503,15803+39]) (testsuite/tests/typing-modules/functors.ml[503,15803+33]..[503,15803+39])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
              ]
  structure_item (testsuite/tests/typing-modules/functors.ml[504,15847+0]..[510,15999+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[504,15847+7]..[504,15847+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[504,15847+11]..[510,15999+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[505,15865+2]..[505,15865+15])
            Pstr_modtype "b" (testsuite/tests/typing-modules/functors.ml[505,15865+14]..[505,15865+15])
            #abstract          structure_item (testsuite/tests/typing-modules/functors.ml[506,15881+2]..[509,15993+5])
            Pstr_module
            "G" (testsuite/tests/typing-modules/functors.ml[506,15881+9]..[506,15881+10])
              module_expr (testsuite/tests/typing-modules/functors.ml[506,15881+10]..[509,15993+5])
                Pmod_functor "P" (testsuite/tests/typing-modules/functors.ml[506,15881+11]..[506,15881+12])
                module_type (testsuite/tests/typing-modules/functors.ml[506,15881+14]..[506,15881+32])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[506,15881+18]..[506,15881+28])
                      Psig_module "B" (testsuite/tests/typing-modules/functors.ml[506,15881+25]..[506,15881+26])
                      module_type (testsuite/tests/typing-modules/functors.ml[506,15881+27]..[506,15881+28])
                        Pmty_ident "b" (testsuite/tests/typing-modules/functors.ml[506,15881+27]..[506,15881+28])
                  ]
                module_expr (testsuite/tests/typing-modules/functors.ml[506,15881+36]..[509,15993+5])
                  Pmod_structure
                  [
                    structure_item (testsuite/tests/typing-modules/functors.ml[507,15924+4]..[507,15924+10])
                      Pstr_open Fresh
                      module_expr (testsuite/tests/typing-modules/functors.ml[507,15924+9]..[507,15924+10])
                        Pmod_ident "P" (testsuite/tests/typing-modules/functors.ml[507,15924+9]..[507,15924+10])
                    structure_item (testsuite/tests/typing-modules/functors.ml[508,15935+4]..[508,15935+57])
                      Pstr_module
                      "U" (testsuite/tests/typing-modules/functors.ml[508,15935+11]..[508,15935+12])
                        module_expr (testsuite/tests/typing-modules/functors.ml[508,15935+15]..[508,15935+57])
                          Pmod_apply
                          module_expr (testsuite/tests/typing-modules/functors.ml[508,15935+15]..[508,15935+38])
                            Pmod_apply
                            module_expr (testsuite/tests/typing-modules/functors.ml[508,15935+15]..[508,15935+35])
                              Pmod_apply
                              module_expr (testsuite/tests/typing-modules/functors.ml[508,15935+15]..[508,15935+16])
                                Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[508,15935+15]..[508,15935+16])
                              module_expr (testsuite/tests/typing-modules/functors.ml[508,15935+17]..[508,15935+34])
                                Pmod_structure
                                [
                                  structure_item (testsuite/tests/typing-modules/functors.ml[508,15935+24]..[508,15935+30])
                                    Pstr_type Rec
                                    [
                                      type_declaration "x" (testsuite/tests/typing-modules/functors.ml[508,15935+29]..[508,15935+30]) (testsuite/tests/typing-modules/functors.ml[508,15935+24]..[508,15935+30])
                                        ptype_params =
                                          []
                                        ptype_cstrs =
                                          []
                                        ptype_kind =
                                          Ptype_abstract
                                        ptype_private = Public
                                        ptype_manifest =
                                          None
                                    ]
                                ]
                            module_expr (testsuite/tests/typing-modules/functors.ml[508,15935+36]..[508,15935+37])
                              Pmod_ident "B" (testsuite/tests/typing-modules/functors.ml[508,15935+36]..[508,15935+37])
                          module_expr (testsuite/tests/typing-modules/functors.ml[508,15935+39]..[508,15935+56])
                            Pmod_structure
                            [
                              structure_item (testsuite/tests/typing-modules/functors.ml[508,15935+46]..[508,15935+52])
                                Pstr_type Rec
                                [
                                  type_declaration "w" (testsuite/tests/typing-modules/functors.ml[508,15935+51]..[508,15935+52]) (testsuite/tests/typing-modules/functors.ml[508,15935+46]..[508,15935+52])
                                    ptype_params =
                                      []
                                    ptype_cstrs =
                                      []
                                    ptype_kind =
                                      Ptype_abstract
                                    ptype_private = Public
                                    ptype_manifest =
                                      None
                                ]
                            ]
                  ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[511,16003+0]..[531,16788+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[511,16003+10]..[531,16788+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[511,16003+10]..[531,16788+2])
          Pexp_constant PConst_string ("\nmodule F : functor (X : x) (B : b) (Y : y) -> sig type t end\nLine 8, characters 15-57:\n8 |     module U = F(struct type x end)(B)(struct type w end)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         $S1 P.B $S3\n       do not match these parameters:\n         functor (X : x) (B : b/2) (Y : y) -> ...\n       1. Module $S1 matches the expected module type x\n       2. Modules do not match:\n            P.B : b/1\n          is not included in\n            b/2\n          Line 5, characters 2-15:\n            Definition of module type b/1\n          Line 2, characters 0-13:\n            Definition of module type b/2\n       3. Modules do not match: $S3 : sig type w end is not included in y\n",(testsuite/tests/typing-modules/functors.ml[511,16003+12]..[531,16788+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[533,16793+0]..[533,16793+33])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[533,16793+7]..[533,16793+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[533,16793+8]..[533,16793+33])
        Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[533,16793+9]..[533,16793+10])
        module_type (testsuite/tests/typing-modules/functors.ml[533,16793+11]..[533,16793+12])
          Pmty_ident "a" (testsuite/tests/typing-modules/functors.ml[533,16793+11]..[533,16793+12])
        module_expr (testsuite/tests/typing-modules/functors.ml[533,16793+16]..[533,16793+33])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[533,16793+23]..[533,16793+29])
              Pstr_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-modules/functors.ml[533,16793+28]..[533,16793+29]) (testsuite/tests/typing-modules/functors.ml[533,16793+23]..[533,16793+29])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[534,16827+0]..[540,16941+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[534,16827+7]..[534,16827+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[534,16827+11]..[540,16941+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[535,16845+2]..[535,16845+15])
            Pstr_modtype "a" (testsuite/tests/typing-modules/functors.ml[535,16845+14]..[535,16845+15])
            #abstract          structure_item (testsuite/tests/typing-modules/functors.ml[536,16861+2]..[539,16935+5])
            Pstr_module
            "G" (testsuite/tests/typing-modules/functors.ml[536,16861+9]..[536,16861+10])
              module_expr (testsuite/tests/typing-modules/functors.ml[536,16861+10]..[539,16935+5])
                Pmod_functor "P" (testsuite/tests/typing-modules/functors.ml[536,16861+11]..[536,16861+12])
                module_type (testsuite/tests/typing-modules/functors.ml[536,16861+14]..[536,16861+32])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[536,16861+18]..[536,16861+28])
                      Psig_module "X" (testsuite/tests/typing-modules/functors.ml[536,16861+25]..[536,16861+26])
                      module_type (testsuite/tests/typing-modules/functors.ml[536,16861+27]..[536,16861+28])
                        Pmty_ident "a" (testsuite/tests/typing-modules/functors.ml[536,16861+27]..[536,16861+28])
                  ]
                module_expr (testsuite/tests/typing-modules/functors.ml[536,16861+36]..[539,16935+5])
                  Pmod_structure
                  [
                    structure_item (testsuite/tests/typing-modules/functors.ml[537,16904+4]..[537,16904+10])
                      Pstr_open Fresh
                      module_expr (testsuite/tests/typing-modules/functors.ml[537,16904+9]..[537,16904+10])
                        Pmod_ident "P" (testsuite/tests/typing-modules/functors.ml[537,16904+9]..[537,16904+10])
                    structure_item (testsuite/tests/typing-modules/functors.ml[538,16915+4]..[538,16915+19])
                      Pstr_type Rec
                      [
                        type_declaration "t" (testsuite/tests/typing-modules/functors.ml[538,16915+9]..[538,16915+10]) (testsuite/tests/typing-modules/functors.ml[538,16915+4]..[538,16915+19])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            Some
                              core_type (testsuite/tests/typing-modules/functors.ml[538,16915+13]..[538,16915+19])
                                Ptyp_constr "F(X).t" (testsuite/tests/typing-modules/functors.ml[538,16915+13]..[538,16915+19])
                                []
                      ]
                  ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[541,16945+0]..[551,17267+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[541,16945+10]..[551,17267+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[541,16945+10]..[551,17267+2])
          Pexp_constant PConst_string ("\nmodule F : functor (X : a) -> sig type t end\nLine 6, characters 13-19:\n6 |     type t = F(X).t\n                 ^^^^^^\nError: Modules do not match: a/1 is not included in a/2\n     Line 3, characters 2-15:\n       Definition of module type a/1\n     Line 1, characters 0-13:\n       Definition of module type a/2\n",(testsuite/tests/typing-modules/functors.ml[541,16945+12]..[551,17267+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[555,17274+0]..[560,17413+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[555,17274+7]..[555,17274+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[555,17274+8]..[560,17413+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[556,17333+1]..[560,17413+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[557,17341+2]..[557,17341+20])
              Pstr_modtype "aa" (testsuite/tests/typing-modules/functors.ml[557,17341+14]..[557,17341+16])
                module_type (testsuite/tests/typing-modules/functors.ml[557,17341+19]..[557,17341+20])
                  Pmty_ident "a" (testsuite/tests/typing-modules/functors.ml[557,17341+19]..[557,17341+20])
            structure_item (testsuite/tests/typing-modules/functors.ml[558,17362+2]..[558,17362+15])
              Pstr_modtype "a" (testsuite/tests/typing-modules/functors.ml[558,17362+14]..[558,17362+15])
              #abstract            structure_item (testsuite/tests/typing-modules/functors.ml[559,17378+2]..[559,17378+34])
              Pstr_module
              "F" (testsuite/tests/typing-modules/functors.ml[559,17378+9]..[559,17378+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[559,17378+10]..[559,17378+34])
                  Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[559,17378+11]..[559,17378+12])
                  module_type (testsuite/tests/typing-modules/functors.ml[559,17378+13]..[559,17378+15])
                    Pmty_ident "aa" (testsuite/tests/typing-modules/functors.ml[559,17378+13]..[559,17378+15])
                  module_expr (testsuite/tests/typing-modules/functors.ml[559,17378+16]..[559,17378+34])
                    Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[559,17378+17]..[559,17378+18])
                    module_type (testsuite/tests/typing-modules/functors.ml[559,17378+19]..[559,17378+20])
                      Pmty_ident "a" (testsuite/tests/typing-modules/functors.ml[559,17378+19]..[559,17378+20])
                    module_expr (testsuite/tests/typing-modules/functors.ml[559,17378+24]..[559,17378+34])
                      Pmod_structure
                      []
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[555,17274+10]..[555,17274+56])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[555,17274+14]..[555,17274+52])
              Psig_module "F" (testsuite/tests/typing-modules/functors.ml[555,17274+21]..[555,17274+22])
              module_type (testsuite/tests/typing-modules/functors.ml[555,17274+31]..[555,17274+52])
                Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[555,17274+32]..[555,17274+33])
                module_type (testsuite/tests/typing-modules/functors.ml[555,17274+34]..[555,17274+35])
                  Pmty_ident "a" (testsuite/tests/typing-modules/functors.ml[555,17274+34]..[555,17274+35])
                module_type (testsuite/tests/typing-modules/functors.ml[555,17274+36]..[555,17274+52])
                  Pmty_functor "Y" (testsuite/tests/typing-modules/functors.ml[555,17274+37]..[555,17274+38])
                  module_type (testsuite/tests/typing-modules/functors.ml[555,17274+39]..[555,17274+40])
                    Pmty_ident "a" (testsuite/tests/typing-modules/functors.ml[555,17274+39]..[555,17274+40])
                  module_type (testsuite/tests/typing-modules/functors.ml[555,17274+45]..[555,17274+52])
                    Pmty_signature
                    []
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[561,17417+0]..[591,18297+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[561,17417+10]..[591,18297+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[561,17417+10]..[591,18297+2])
          Pexp_constant PConst_string ("\nLines 2-6, characters 1-3:\n2 | .struct\n3 |   module type aa = a\n4 |   module type a\n5 |   module F(X:aa)(Y:a) = struct end\n6 | end\nError: Signature mismatch:\n       Modules do not match:\n         sig\n           module type aa = a\n           module type a\n           module F : functor (X : aa) (Y : a) -> sig end\n         end\n       is not included in\n         sig module F : functor (X : a) (Y : a) -> sig end end\n       In module F:\n       Modules do not match:\n         functor (X : aa) (Y : a/1) -> ...\n       is not included in\n         functor (X : a/2) (Y : a/2) -> ...\n       1. Module types aa and a/2 match\n       2. Module types do not match:\n            a/1\n          does not include\n            a/2\n          Line 4, characters 2-15:\n            Definition of module type a/1\n          Line 1, characters 0-13:\n            Definition of module type a/2\n",(testsuite/tests/typing-modules/functors.ml[561,17417+12]..[591,18297+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[593,18302+0]..[593,18302+86])
    Pstr_module
    "X" (testsuite/tests/typing-modules/functors.ml[593,18302+7]..[593,18302+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[593,18302+8]..[593,18302+86])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[593,18302+52]..[593,18302+86])
          Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[593,18302+53]..[593,18302+54])
          module_type (testsuite/tests/typing-modules/functors.ml[593,18302+56]..[593,18302+71])
            Pmty_ident "Set.OrderedType" (testsuite/tests/typing-modules/functors.ml[593,18302+56]..[593,18302+71])
          module_expr (testsuite/tests/typing-modules/functors.ml[593,18302+76]..[593,18302+86])
            Pmod_structure
            []
        module_type (testsuite/tests/typing-modules/functors.ml[593,18302+18]..[593,18302+42])
          Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[593,18302+20]..[593,18302+21])
          module_type (testsuite/tests/typing-modules/functors.ml[593,18302+23]..[593,18302+30])
            Pmty_signature
            []
          module_type (testsuite/tests/typing-modules/functors.ml[593,18302+35]..[593,18302+42])
            Pmty_signature
            []
  structure_item (testsuite/tests/typing-modules/functors.ml[594,18389+0]..[611,19121+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[594,18389+10]..[611,19121+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[594,18389+10]..[611,19121+2])
          Pexp_constant PConst_string ("\nLine 1, characters 52-86:\n1 | module X: functor ( X: sig end) -> sig end = functor(X: Set.OrderedType) -> struct end\n                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: Signature mismatch:\n       Modules do not match:\n         functor (X : Set.OrderedType) -> ...\n       is not included in\n         functor (X : sig end) -> ...\n       Module types do not match:\n         Set.OrderedType\n       does not include\n         sig end\n       The type `t' is required but not provided\n       File \"set.mli\", line 52, characters 4-10: Expected declaration\n       The value `compare' is required but not provided\n       File \"set.mli\", line 55, characters 4-31: Expected declaration\n",(testsuite/tests/typing-modules/functors.ml[594,18389+12]..[611,19121+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[613,19126+0]..[613,19126+27])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[613,19126+0]..[613,19126+27])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[613,19126+0]..[613,19126+27])
          Pexp_constant PConst_string(" Deeply nested errors ",(testsuite/tests/typing-modules/functors.ml[613,19126+0]..[613,19126+27]),None)
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[616,19156+0]..[639,19755+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[616,19156+7]..[616,19156+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[616,19156+8]..[639,19755+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[627,19456+6]..[639,19755+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[628,19469+2]..[638,19740+14])
              Pstr_module
              "F" (testsuite/tests/typing-modules/functors.ml[628,19469+9]..[628,19469+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[629,19480+6]..[638,19740+14])
                  Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[629,19480+7]..[629,19480+8])
                  module_type (testsuite/tests/typing-modules/functors.ml[630,19490+17]..[630,19490+67])
                    Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[630,19490+18]..[630,19490+19])
                    module_type (testsuite/tests/typing-modules/functors.ml[630,19490+21]..[630,19490+36])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[630,19490+25]..[630,19490+32])
                          Psig_type Rec
                          [
                            type_declaration "xa" (testsuite/tests/typing-modules/functors.ml[630,19490+30]..[630,19490+32]) (testsuite/tests/typing-modules/functors.ml[630,19490+25]..[630,19490+32])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_type (testsuite/tests/typing-modules/functors.ml[630,19490+37]..[630,19490+67])
                      Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[630,19490+38]..[630,19490+39])
                      module_type (testsuite/tests/typing-modules/functors.ml[630,19490+40]..[630,19490+55])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[630,19490+44]..[630,19490+51])
                            Psig_type Rec
                            [
                              type_declaration "xz" (testsuite/tests/typing-modules/functors.ml[630,19490+49]..[630,19490+51]) (testsuite/tests/typing-modules/functors.ml[630,19490+44]..[630,19490+51])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[630,19490+60]..[630,19490+67])
                        Pmty_signature
                        []
                  module_expr (testsuite/tests/typing-modules/functors.ml[632,19566+6]..[638,19740+14])
                    Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[632,19566+7]..[632,19566+8])
                    module_type (testsuite/tests/typing-modules/functors.ml[633,19576+17]..[633,19576+68])
                      Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[633,19576+18]..[633,19576+19])
                      module_type (testsuite/tests/typing-modules/functors.ml[633,19576+21]..[633,19576+36])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[633,19576+25]..[633,19576+32])
                            Psig_type Rec
                            [
                              type_declaration "ya" (testsuite/tests/typing-modules/functors.ml[633,19576+30]..[633,19576+32]) (testsuite/tests/typing-modules/functors.ml[633,19576+25]..[633,19576+32])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[633,19576+37]..[633,19576+68])
                        Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[633,19576+38]..[633,19576+39])
                        module_type (testsuite/tests/typing-modules/functors.ml[633,19576+40]..[633,19576+56])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/typing-modules/functors.ml[633,19576+44]..[633,19576+52])
                              Psig_type Rec
                              [
                                type_declaration "ybb" (testsuite/tests/typing-modules/functors.ml[633,19576+49]..[633,19576+52]) (testsuite/tests/typing-modules/functors.ml[633,19576+44]..[633,19576+52])
                                  ptype_params =
                                    []
                                  ptype_cstrs =
                                    []
                                  ptype_kind =
                                    Ptype_abstract
                                  ptype_private = Public
                                  ptype_manifest =
                                    None
                              ]
                          ]
                        module_type (testsuite/tests/typing-modules/functors.ml[633,19576+61]..[633,19576+68])
                          Pmty_signature
                          []
                    module_expr (testsuite/tests/typing-modules/functors.ml[635,19653+6]..[638,19740+14])
                      Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[635,19653+7]..[635,19653+8])
                      module_type (testsuite/tests/typing-modules/functors.ml[636,19663+17]..[636,19663+68])
                        Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[636,19663+18]..[636,19663+19])
                        module_type (testsuite/tests/typing-modules/functors.ml[636,19663+21]..[636,19663+36])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/typing-modules/functors.ml[636,19663+25]..[636,19663+32])
                              Psig_type Rec
                              [
                                type_declaration "za" (testsuite/tests/typing-modules/functors.ml[636,19663+30]..[636,19663+32]) (testsuite/tests/typing-modules/functors.ml[636,19663+25]..[636,19663+32])
                                  ptype_params =
                                    []
                                  ptype_cstrs =
                                    []
                                  ptype_kind =
                                    Ptype_abstract
                                  ptype_private = Public
                                  ptype_manifest =
                                    None
                              ]
                          ]
                        module_type (testsuite/tests/typing-modules/functors.ml[636,19663+37]..[636,19663+68])
                          Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[636,19663+38]..[636,19663+39])
                          module_type (testsuite/tests/typing-modules/functors.ml[636,19663+40]..[636,19663+56])
                            Pmty_signature
                            [
                              signature_item (testsuite/tests/typing-modules/functors.ml[636,19663+44]..[636,19663+52])
                                Psig_type Rec
                                [
                                  type_declaration "zbb" (testsuite/tests/typing-modules/functors.ml[636,19663+49]..[636,19663+52]) (testsuite/tests/typing-modules/functors.ml[636,19663+44]..[636,19663+52])
                                    ptype_params =
                                      []
                                    ptype_cstrs =
                                      []
                                    ptype_kind =
                                      Ptype_abstract
                                    ptype_private = Public
                                    ptype_manifest =
                                      None
                                ]
                            ]
                          module_type (testsuite/tests/typing-modules/functors.ml[636,19663+61]..[636,19663+68])
                            Pmty_signature
                            []
                      module_expr (testsuite/tests/typing-modules/functors.ml[638,19740+4]..[638,19740+14])
                        Pmod_structure
                        []
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[616,19156+10]..[627,19456+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[617,19170+2]..[626,19437+18])
              Psig_module "F" (testsuite/tests/typing-modules/functors.ml[617,19170+9]..[617,19170+10])
              module_type (testsuite/tests/typing-modules/functors.ml[618,19190+6]..[626,19437+18])
                Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[618,19190+7]..[618,19190+8])
                module_type (testsuite/tests/typing-modules/functors.ml[619,19200+16]..[619,19200+66])
                  Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[619,19200+17]..[619,19200+18])
                  module_type (testsuite/tests/typing-modules/functors.ml[619,19200+20]..[619,19200+35])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[619,19200+24]..[619,19200+31])
                        Psig_type Rec
                        [
                          type_declaration "xa" (testsuite/tests/typing-modules/functors.ml[619,19200+29]..[619,19200+31]) (testsuite/tests/typing-modules/functors.ml[619,19200+24]..[619,19200+31])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_type (testsuite/tests/typing-modules/functors.ml[619,19200+36]..[619,19200+66])
                    Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[619,19200+37]..[619,19200+38])
                    module_type (testsuite/tests/typing-modules/functors.ml[619,19200+39]..[619,19200+54])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[619,19200+43]..[619,19200+50])
                          Psig_type Rec
                          [
                            type_declaration "xz" (testsuite/tests/typing-modules/functors.ml[619,19200+48]..[619,19200+50]) (testsuite/tests/typing-modules/functors.ml[619,19200+43]..[619,19200+50])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_type (testsuite/tests/typing-modules/functors.ml[619,19200+59]..[619,19200+66])
                      Pmty_signature
                      []
                module_type (testsuite/tests/typing-modules/functors.ml[621,19275+6]..[626,19437+18])
                  Pmty_functor "Y" (testsuite/tests/typing-modules/functors.ml[621,19275+7]..[621,19275+8])
                  module_type (testsuite/tests/typing-modules/functors.ml[622,19285+16]..[622,19285+66])
                    Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[622,19285+17]..[622,19285+18])
                    module_type (testsuite/tests/typing-modules/functors.ml[622,19285+20]..[622,19285+35])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[622,19285+24]..[622,19285+31])
                          Psig_type Rec
                          [
                            type_declaration "ya" (testsuite/tests/typing-modules/functors.ml[622,19285+29]..[622,19285+31]) (testsuite/tests/typing-modules/functors.ml[622,19285+24]..[622,19285+31])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_type (testsuite/tests/typing-modules/functors.ml[622,19285+36]..[622,19285+66])
                      Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[622,19285+37]..[622,19285+38])
                      module_type (testsuite/tests/typing-modules/functors.ml[622,19285+39]..[622,19285+54])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[622,19285+43]..[622,19285+50])
                            Psig_type Rec
                            [
                              type_declaration "yb" (testsuite/tests/typing-modules/functors.ml[622,19285+48]..[622,19285+50]) (testsuite/tests/typing-modules/functors.ml[622,19285+43]..[622,19285+50])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[622,19285+59]..[622,19285+66])
                        Pmty_signature
                        []
                  module_type (testsuite/tests/typing-modules/functors.ml[624,19360+6]..[626,19437+18])
                    Pmty_functor "Z" (testsuite/tests/typing-modules/functors.ml[624,19360+7]..[624,19360+8])
                    module_type (testsuite/tests/typing-modules/functors.ml[625,19370+16]..[625,19370+66])
                      Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[625,19370+17]..[625,19370+18])
                      module_type (testsuite/tests/typing-modules/functors.ml[625,19370+20]..[625,19370+35])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[625,19370+24]..[625,19370+31])
                            Psig_type Rec
                            [
                              type_declaration "za" (testsuite/tests/typing-modules/functors.ml[625,19370+29]..[625,19370+31]) (testsuite/tests/typing-modules/functors.ml[625,19370+24]..[625,19370+31])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[625,19370+36]..[625,19370+66])
                        Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[625,19370+37]..[625,19370+38])
                        module_type (testsuite/tests/typing-modules/functors.ml[625,19370+39]..[625,19370+54])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/typing-modules/functors.ml[625,19370+43]..[625,19370+50])
                              Psig_type Rec
                              [
                                type_declaration "zb" (testsuite/tests/typing-modules/functors.ml[625,19370+48]..[625,19370+50]) (testsuite/tests/typing-modules/functors.ml[625,19370+43]..[625,19370+50])
                                  ptype_params =
                                    []
                                  ptype_cstrs =
                                    []
                                  ptype_kind =
                                    Ptype_abstract
                                  ptype_private = Public
                                  ptype_manifest =
                                    None
                              ]
                          ]
                        module_type (testsuite/tests/typing-modules/functors.ml[625,19370+59]..[625,19370+66])
                          Pmty_signature
                          []
                    module_type (testsuite/tests/typing-modules/functors.ml[626,19437+11]..[626,19437+18])
                      Pmty_signature
                      []
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[640,19759+0]..[709,22247+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[640,19759+10]..[709,22247+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[640,19759+10]..[709,22247+2])
          Pexp_constant PConst_string ("\nLines 15-27, characters 6-3:\n15 | ......struct\n16 |   module F\n17 |       (X:\n18 |          functor (A: sig type xa end)(B:sig type xz end) -> sig end\n19 |       )\n...\n24 |          functor (A: sig type za end)(B:sig type zbb end) -> sig end\n25 |       )\n26 |   = struct end\n27 | end\nError: Signature mismatch:\n       Modules do not match:\n         sig\n           module F :\n             functor\n               (X : functor (A : sig type xa end) (B : sig type xz end) ->\n                      sig end)\n               (Y : functor (A : sig type ya end) (B : sig type ybb end) ->\n                      sig end)\n               (Z : functor (A : sig type za end) (B : sig type zbb end) ->\n                      sig end)\n               -> sig end\n         end\n       is not included in\n         sig\n           module F :\n             functor\n               (X : functor (A : sig type xa end) (B : sig type xz end) ->\n                      sig end)\n               (Y : functor (A : sig type ya end) (B : sig type yb end) ->\n                      sig end)\n               (Z : functor (A : sig type za end) (B : sig type zb end) ->\n                      sig end)\n               -> sig end\n         end\n       In module F:\n       Modules do not match:\n         functor (X : $S1) (Y : $S2) (Z : $S3) -> ...\n       is not included in\n         functor (X : $T1) (Y : $T2) (Z : $T3) -> ...\n       1. Module types $S1 and $T1 match\n       2. Module types do not match:\n            $S2 =\n            functor (A : sig type ya end) (B : sig type ybb end) -> sig end\n          does not include\n            $T2 =\n            functor (A : sig type ya end) (B : sig type yb end) -> sig end\n          Modules do not match:\n            functor (A : $S1) (B : $S2) -> ...\n          is not included in\n            functor (A : $T1) (B : $T2) -> ...\n          1. Module types $S1 and $T1 match\n          2. Module types do not match:\n               $S2 = sig type yb end\n             does not include\n               $T2 = sig type ybb end\n             The type `yb' is required but not provided\n       3. Module types do not match:\n            $S3 =\n            functor (A : sig type za end) (B : sig type zbb end) -> sig end\n          does not include\n            $T3 =\n            functor (A : sig type za end) (B : sig type zb end) -> sig end\n          Modules do not match:\n            functor (A : $S1) (B : $S2) -> ...\n          is not included in\n            functor (A : $T1) (B : $T2) -> ...\n",(testsuite/tests/typing-modules/functors.ml[640,19759+12]..[709,22247+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[712,22253+0]..[732,22764+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[712,22253+7]..[712,22253+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[712,22253+8]..[732,22764+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[723,22553+6]..[732,22764+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[724,22566+2]..[731,22749+14])
              Pstr_module
              "F" (testsuite/tests/typing-modules/functors.ml[724,22566+9]..[724,22566+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[725,22577+6]..[731,22749+14])
                  Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[725,22577+7]..[725,22577+8])
                  module_type (testsuite/tests/typing-modules/functors.ml[726,22587+17]..[726,22587+67])
                    Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[726,22587+18]..[726,22587+19])
                    module_type (testsuite/tests/typing-modules/functors.ml[726,22587+21]..[726,22587+36])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[726,22587+25]..[726,22587+32])
                          Psig_type Rec
                          [
                            type_declaration "xa" (testsuite/tests/typing-modules/functors.ml[726,22587+30]..[726,22587+32]) (testsuite/tests/typing-modules/functors.ml[726,22587+25]..[726,22587+32])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_type (testsuite/tests/typing-modules/functors.ml[726,22587+37]..[726,22587+67])
                      Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[726,22587+38]..[726,22587+39])
                      module_type (testsuite/tests/typing-modules/functors.ml[726,22587+40]..[726,22587+55])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[726,22587+44]..[726,22587+51])
                            Psig_type Rec
                            [
                              type_declaration "xz" (testsuite/tests/typing-modules/functors.ml[726,22587+49]..[726,22587+51]) (testsuite/tests/typing-modules/functors.ml[726,22587+44]..[726,22587+51])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[726,22587+60]..[726,22587+67])
                        Pmty_signature
                        []
                  module_expr (testsuite/tests/typing-modules/functors.ml[728,22663+6]..[731,22749+14])
                    Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[728,22663+7]..[728,22663+8])
                    module_type (testsuite/tests/typing-modules/functors.ml[729,22673+17]..[729,22673+67])
                      Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[729,22673+18]..[729,22673+19])
                      module_type (testsuite/tests/typing-modules/functors.ml[729,22673+21]..[729,22673+36])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[729,22673+25]..[729,22673+32])
                            Psig_type Rec
                            [
                              type_declaration "ya" (testsuite/tests/typing-modules/functors.ml[729,22673+30]..[729,22673+32]) (testsuite/tests/typing-modules/functors.ml[729,22673+25]..[729,22673+32])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[729,22673+37]..[729,22673+67])
                        Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[729,22673+38]..[729,22673+39])
                        module_type (testsuite/tests/typing-modules/functors.ml[729,22673+40]..[729,22673+55])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/typing-modules/functors.ml[729,22673+44]..[729,22673+51])
                              Psig_type Rec
                              [
                                type_declaration "yb" (testsuite/tests/typing-modules/functors.ml[729,22673+49]..[729,22673+51]) (testsuite/tests/typing-modules/functors.ml[729,22673+44]..[729,22673+51])
                                  ptype_params =
                                    []
                                  ptype_cstrs =
                                    []
                                  ptype_kind =
                                    Ptype_abstract
                                  ptype_private = Public
                                  ptype_manifest =
                                    None
                              ]
                          ]
                        module_type (testsuite/tests/typing-modules/functors.ml[729,22673+60]..[729,22673+67])
                          Pmty_signature
                          []
                    module_expr (testsuite/tests/typing-modules/functors.ml[731,22749+4]..[731,22749+14])
                      Pmod_structure
                      []
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[712,22253+10]..[723,22553+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[713,22267+2]..[722,22534+18])
              Psig_module "F" (testsuite/tests/typing-modules/functors.ml[713,22267+9]..[713,22267+10])
              module_type (testsuite/tests/typing-modules/functors.ml[714,22287+6]..[722,22534+18])
                Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[714,22287+7]..[714,22287+8])
                module_type (testsuite/tests/typing-modules/functors.ml[715,22297+16]..[715,22297+66])
                  Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[715,22297+17]..[715,22297+18])
                  module_type (testsuite/tests/typing-modules/functors.ml[715,22297+20]..[715,22297+35])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[715,22297+24]..[715,22297+31])
                        Psig_type Rec
                        [
                          type_declaration "xa" (testsuite/tests/typing-modules/functors.ml[715,22297+29]..[715,22297+31]) (testsuite/tests/typing-modules/functors.ml[715,22297+24]..[715,22297+31])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_type (testsuite/tests/typing-modules/functors.ml[715,22297+36]..[715,22297+66])
                    Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[715,22297+37]..[715,22297+38])
                    module_type (testsuite/tests/typing-modules/functors.ml[715,22297+39]..[715,22297+54])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[715,22297+43]..[715,22297+50])
                          Psig_type Rec
                          [
                            type_declaration "xz" (testsuite/tests/typing-modules/functors.ml[715,22297+48]..[715,22297+50]) (testsuite/tests/typing-modules/functors.ml[715,22297+43]..[715,22297+50])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_type (testsuite/tests/typing-modules/functors.ml[715,22297+59]..[715,22297+66])
                      Pmty_signature
                      []
                module_type (testsuite/tests/typing-modules/functors.ml[717,22372+6]..[722,22534+18])
                  Pmty_functor "Y" (testsuite/tests/typing-modules/functors.ml[717,22372+7]..[717,22372+8])
                  module_type (testsuite/tests/typing-modules/functors.ml[718,22382+16]..[718,22382+66])
                    Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[718,22382+17]..[718,22382+18])
                    module_type (testsuite/tests/typing-modules/functors.ml[718,22382+20]..[718,22382+35])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[718,22382+24]..[718,22382+31])
                          Psig_type Rec
                          [
                            type_declaration "ya" (testsuite/tests/typing-modules/functors.ml[718,22382+29]..[718,22382+31]) (testsuite/tests/typing-modules/functors.ml[718,22382+24]..[718,22382+31])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_type (testsuite/tests/typing-modules/functors.ml[718,22382+36]..[718,22382+66])
                      Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[718,22382+37]..[718,22382+38])
                      module_type (testsuite/tests/typing-modules/functors.ml[718,22382+39]..[718,22382+54])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[718,22382+43]..[718,22382+50])
                            Psig_type Rec
                            [
                              type_declaration "yb" (testsuite/tests/typing-modules/functors.ml[718,22382+48]..[718,22382+50]) (testsuite/tests/typing-modules/functors.ml[718,22382+43]..[718,22382+50])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[718,22382+59]..[718,22382+66])
                        Pmty_signature
                        []
                  module_type (testsuite/tests/typing-modules/functors.ml[720,22457+6]..[722,22534+18])
                    Pmty_functor "Z" (testsuite/tests/typing-modules/functors.ml[720,22457+7]..[720,22457+8])
                    module_type (testsuite/tests/typing-modules/functors.ml[721,22467+16]..[721,22467+66])
                      Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[721,22467+17]..[721,22467+18])
                      module_type (testsuite/tests/typing-modules/functors.ml[721,22467+20]..[721,22467+35])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[721,22467+24]..[721,22467+31])
                            Psig_type Rec
                            [
                              type_declaration "za" (testsuite/tests/typing-modules/functors.ml[721,22467+29]..[721,22467+31]) (testsuite/tests/typing-modules/functors.ml[721,22467+24]..[721,22467+31])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[721,22467+36]..[721,22467+66])
                        Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[721,22467+37]..[721,22467+38])
                        module_type (testsuite/tests/typing-modules/functors.ml[721,22467+39]..[721,22467+54])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/typing-modules/functors.ml[721,22467+43]..[721,22467+50])
                              Psig_type Rec
                              [
                                type_declaration "zb" (testsuite/tests/typing-modules/functors.ml[721,22467+48]..[721,22467+50]) (testsuite/tests/typing-modules/functors.ml[721,22467+43]..[721,22467+50])
                                  ptype_params =
                                    []
                                  ptype_cstrs =
                                    []
                                  ptype_kind =
                                    Ptype_abstract
                                  ptype_private = Public
                                  ptype_manifest =
                                    None
                              ]
                          ]
                        module_type (testsuite/tests/typing-modules/functors.ml[721,22467+59]..[721,22467+66])
                          Pmty_signature
                          []
                    module_type (testsuite/tests/typing-modules/functors.ml[722,22534+11]..[722,22534+18])
                      Pmty_signature
                      []
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[733,22768+0]..[778,24290+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[733,22768+10]..[778,24290+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[733,22768+10]..[778,24290+2])
          Pexp_constant PConst_string ("\nLines 12-21, characters 6-3:\n12 | ......struct\n13 |   module F\n14 |       (X:\n15 |          functor (A: sig type xa end)(B:sig type xz end) -> sig end\n16 |       )\n17 |       (Y:\n18 |          functor (A: sig type ya end)(B:sig type yb end) -> sig end\n19 |       )\n20 |   = struct end\n21 | end\nError: Signature mismatch:\n       Modules do not match:\n         sig\n           module F :\n             functor\n               (X : functor (A : sig type xa end) (B : sig type xz end) ->\n                      sig end)\n               (Y : functor (A : sig type ya end) (B : sig type yb end) ->\n                      sig end)\n               -> sig end\n         end\n       is not included in\n         sig\n           module F :\n             functor\n               (X : functor (A : sig type xa end) (B : sig type xz end) ->\n                      sig end)\n               (Y : functor (A : sig type ya end) (B : sig type yb end) ->\n                      sig end)\n               (Z : functor (A : sig type za end) (B : sig type zb end) ->\n                      sig end)\n               -> sig end\n         end\n       In module F:\n       Modules do not match:\n         functor (X : $S1) (Y : $S2) -> ...\n       is not included in\n         functor (X : $T1) (Y : $T2) (Z : $T3) -> ...\n       1. Module types $S1 and $T1 match\n       2. Module types $S2 and $T2 match\n       3. An argument appears to be missing with module type\n              $T3 =\n              functor (A : sig type za end) (B : sig type zb end) -> sig end\n",(testsuite/tests/typing-modules/functors.ml[733,22768+12]..[778,24290+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[780,24295+0]..[803,24895+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[780,24295+7]..[780,24295+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[780,24295+8]..[803,24895+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[791,24595+6]..[803,24895+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[792,24608+2]..[802,24880+14])
              Pstr_module
              "F" (testsuite/tests/typing-modules/functors.ml[792,24608+9]..[792,24608+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[793,24619+6]..[802,24880+14])
                  Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[793,24619+7]..[793,24619+8])
                  module_type (testsuite/tests/typing-modules/functors.ml[794,24629+17]..[794,24629+68])
                    Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[794,24629+18]..[794,24629+19])
                    module_type (testsuite/tests/typing-modules/functors.ml[794,24629+21]..[794,24629+37])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[794,24629+25]..[794,24629+33])
                          Psig_type Rec
                          [
                            type_declaration "xaa" (testsuite/tests/typing-modules/functors.ml[794,24629+30]..[794,24629+33]) (testsuite/tests/typing-modules/functors.ml[794,24629+25]..[794,24629+33])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_type (testsuite/tests/typing-modules/functors.ml[794,24629+38]..[794,24629+68])
                      Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[794,24629+39]..[794,24629+40])
                      module_type (testsuite/tests/typing-modules/functors.ml[794,24629+41]..[794,24629+56])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[794,24629+45]..[794,24629+52])
                            Psig_type Rec
                            [
                              type_declaration "xz" (testsuite/tests/typing-modules/functors.ml[794,24629+50]..[794,24629+52]) (testsuite/tests/typing-modules/functors.ml[794,24629+45]..[794,24629+52])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[794,24629+61]..[794,24629+68])
                        Pmty_signature
                        []
                  module_expr (testsuite/tests/typing-modules/functors.ml[796,24706+6]..[802,24880+14])
                    Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[796,24706+7]..[796,24706+8])
                    module_type (testsuite/tests/typing-modules/functors.ml[797,24716+17]..[797,24716+68])
                      Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[797,24716+18]..[797,24716+19])
                      module_type (testsuite/tests/typing-modules/functors.ml[797,24716+21]..[797,24716+36])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[797,24716+25]..[797,24716+32])
                            Psig_type Rec
                            [
                              type_declaration "ya" (testsuite/tests/typing-modules/functors.ml[797,24716+30]..[797,24716+32]) (testsuite/tests/typing-modules/functors.ml[797,24716+25]..[797,24716+32])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[797,24716+37]..[797,24716+68])
                        Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[797,24716+38]..[797,24716+39])
                        module_type (testsuite/tests/typing-modules/functors.ml[797,24716+40]..[797,24716+56])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/typing-modules/functors.ml[797,24716+44]..[797,24716+52])
                              Psig_type Rec
                              [
                                type_declaration "ybb" (testsuite/tests/typing-modules/functors.ml[797,24716+49]..[797,24716+52]) (testsuite/tests/typing-modules/functors.ml[797,24716+44]..[797,24716+52])
                                  ptype_params =
                                    []
                                  ptype_cstrs =
                                    []
                                  ptype_kind =
                                    Ptype_abstract
                                  ptype_private = Public
                                  ptype_manifest =
                                    None
                              ]
                          ]
                        module_type (testsuite/tests/typing-modules/functors.ml[797,24716+61]..[797,24716+68])
                          Pmty_signature
                          []
                    module_expr (testsuite/tests/typing-modules/functors.ml[799,24793+6]..[802,24880+14])
                      Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[799,24793+7]..[799,24793+8])
                      module_type (testsuite/tests/typing-modules/functors.ml[800,24803+17]..[800,24803+68])
                        Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[800,24803+18]..[800,24803+19])
                        module_type (testsuite/tests/typing-modules/functors.ml[800,24803+21]..[800,24803+36])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/typing-modules/functors.ml[800,24803+25]..[800,24803+32])
                              Psig_type Rec
                              [
                                type_declaration "za" (testsuite/tests/typing-modules/functors.ml[800,24803+30]..[800,24803+32]) (testsuite/tests/typing-modules/functors.ml[800,24803+25]..[800,24803+32])
                                  ptype_params =
                                    []
                                  ptype_cstrs =
                                    []
                                  ptype_kind =
                                    Ptype_abstract
                                  ptype_private = Public
                                  ptype_manifest =
                                    None
                              ]
                          ]
                        module_type (testsuite/tests/typing-modules/functors.ml[800,24803+37]..[800,24803+68])
                          Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[800,24803+38]..[800,24803+39])
                          module_type (testsuite/tests/typing-modules/functors.ml[800,24803+40]..[800,24803+56])
                            Pmty_signature
                            [
                              signature_item (testsuite/tests/typing-modules/functors.ml[800,24803+44]..[800,24803+52])
                                Psig_type Rec
                                [
                                  type_declaration "zbb" (testsuite/tests/typing-modules/functors.ml[800,24803+49]..[800,24803+52]) (testsuite/tests/typing-modules/functors.ml[800,24803+44]..[800,24803+52])
                                    ptype_params =
                                      []
                                    ptype_cstrs =
                                      []
                                    ptype_kind =
                                      Ptype_abstract
                                    ptype_private = Public
                                    ptype_manifest =
                                      None
                                ]
                            ]
                          module_type (testsuite/tests/typing-modules/functors.ml[800,24803+61]..[800,24803+68])
                            Pmty_signature
                            []
                      module_expr (testsuite/tests/typing-modules/functors.ml[802,24880+4]..[802,24880+14])
                        Pmod_structure
                        []
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[780,24295+10]..[791,24595+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[781,24309+2]..[790,24576+18])
              Psig_module "F" (testsuite/tests/typing-modules/functors.ml[781,24309+9]..[781,24309+10])
              module_type (testsuite/tests/typing-modules/functors.ml[782,24329+6]..[790,24576+18])
                Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[782,24329+7]..[782,24329+8])
                module_type (testsuite/tests/typing-modules/functors.ml[783,24339+16]..[783,24339+66])
                  Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[783,24339+17]..[783,24339+18])
                  module_type (testsuite/tests/typing-modules/functors.ml[783,24339+20]..[783,24339+35])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[783,24339+24]..[783,24339+31])
                        Psig_type Rec
                        [
                          type_declaration "xa" (testsuite/tests/typing-modules/functors.ml[783,24339+29]..[783,24339+31]) (testsuite/tests/typing-modules/functors.ml[783,24339+24]..[783,24339+31])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_type (testsuite/tests/typing-modules/functors.ml[783,24339+36]..[783,24339+66])
                    Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[783,24339+37]..[783,24339+38])
                    module_type (testsuite/tests/typing-modules/functors.ml[783,24339+39]..[783,24339+54])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[783,24339+43]..[783,24339+50])
                          Psig_type Rec
                          [
                            type_declaration "xz" (testsuite/tests/typing-modules/functors.ml[783,24339+48]..[783,24339+50]) (testsuite/tests/typing-modules/functors.ml[783,24339+43]..[783,24339+50])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_type (testsuite/tests/typing-modules/functors.ml[783,24339+59]..[783,24339+66])
                      Pmty_signature
                      []
                module_type (testsuite/tests/typing-modules/functors.ml[785,24414+6]..[790,24576+18])
                  Pmty_functor "Y" (testsuite/tests/typing-modules/functors.ml[785,24414+7]..[785,24414+8])
                  module_type (testsuite/tests/typing-modules/functors.ml[786,24424+16]..[786,24424+66])
                    Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[786,24424+17]..[786,24424+18])
                    module_type (testsuite/tests/typing-modules/functors.ml[786,24424+20]..[786,24424+35])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[786,24424+24]..[786,24424+31])
                          Psig_type Rec
                          [
                            type_declaration "ya" (testsuite/tests/typing-modules/functors.ml[786,24424+29]..[786,24424+31]) (testsuite/tests/typing-modules/functors.ml[786,24424+24]..[786,24424+31])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_type (testsuite/tests/typing-modules/functors.ml[786,24424+36]..[786,24424+66])
                      Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[786,24424+37]..[786,24424+38])
                      module_type (testsuite/tests/typing-modules/functors.ml[786,24424+39]..[786,24424+54])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[786,24424+43]..[786,24424+50])
                            Psig_type Rec
                            [
                              type_declaration "yb" (testsuite/tests/typing-modules/functors.ml[786,24424+48]..[786,24424+50]) (testsuite/tests/typing-modules/functors.ml[786,24424+43]..[786,24424+50])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[786,24424+59]..[786,24424+66])
                        Pmty_signature
                        []
                  module_type (testsuite/tests/typing-modules/functors.ml[788,24499+6]..[790,24576+18])
                    Pmty_functor "Z" (testsuite/tests/typing-modules/functors.ml[788,24499+7]..[788,24499+8])
                    module_type (testsuite/tests/typing-modules/functors.ml[789,24509+16]..[789,24509+66])
                      Pmty_functor "A" (testsuite/tests/typing-modules/functors.ml[789,24509+17]..[789,24509+18])
                      module_type (testsuite/tests/typing-modules/functors.ml[789,24509+20]..[789,24509+35])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[789,24509+24]..[789,24509+31])
                            Psig_type Rec
                            [
                              type_declaration "za" (testsuite/tests/typing-modules/functors.ml[789,24509+29]..[789,24509+31]) (testsuite/tests/typing-modules/functors.ml[789,24509+24]..[789,24509+31])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_type (testsuite/tests/typing-modules/functors.ml[789,24509+36]..[789,24509+66])
                        Pmty_functor "B" (testsuite/tests/typing-modules/functors.ml[789,24509+37]..[789,24509+38])
                        module_type (testsuite/tests/typing-modules/functors.ml[789,24509+39]..[789,24509+54])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/typing-modules/functors.ml[789,24509+43]..[789,24509+50])
                              Psig_type Rec
                              [
                                type_declaration "zb" (testsuite/tests/typing-modules/functors.ml[789,24509+48]..[789,24509+50]) (testsuite/tests/typing-modules/functors.ml[789,24509+43]..[789,24509+50])
                                  ptype_params =
                                    []
                                  ptype_cstrs =
                                    []
                                  ptype_kind =
                                    Ptype_abstract
                                  ptype_private = Public
                                  ptype_manifest =
                                    None
                              ]
                          ]
                        module_type (testsuite/tests/typing-modules/functors.ml[789,24509+59]..[789,24509+66])
                          Pmty_signature
                          []
                    module_type (testsuite/tests/typing-modules/functors.ml[790,24576+11]..[790,24576+18])
                      Pmty_signature
                      []
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[804,24899+0]..[882,27754+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[804,24899+10]..[882,27754+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[804,24899+10]..[882,27754+2])
          Pexp_constant PConst_string ("\nLines 12-24, characters 6-3:\n12 | ......struct\n13 |   module F\n14 |       (X:\n15 |          functor (A: sig type xaa end)(B:sig type xz end) -> sig end\n16 |       )\n...\n21 |          functor (A: sig type za end)(B:sig type zbb end) -> sig end\n22 |       )\n23 |   = struct end\n24 | end\nError: Signature mismatch:\n       Modules do not match:\n         sig\n           module F :\n             functor\n               (X : functor (A : sig type xaa end) (B : sig type xz end) ->\n                      sig end)\n               (Y : functor (A : sig type ya end) (B : sig type ybb end) ->\n                      sig end)\n               (Z : functor (A : sig type za end) (B : sig type zbb end) ->\n                      sig end)\n               -> sig end\n         end\n       is not included in\n         sig\n           module F :\n             functor\n               (X : functor (A : sig type xa end) (B : sig type xz end) ->\n                      sig end)\n               (Y : functor (A : sig type ya end) (B : sig type yb end) ->\n                      sig end)\n               (Z : functor (A : sig type za end) (B : sig type zb end) ->\n                      sig end)\n               -> sig end\n         end\n       In module F:\n       Modules do not match:\n         functor (X : $S1) (Y : $S2) (Z : $S3) -> ...\n       is not included in\n         functor (X : $T1) (Y : $T2) (Z : $T3) -> ...\n       1. Module types do not match:\n            $S1 =\n            functor (A : sig type xaa end) (B : sig type xz end) -> sig end\n          does not include\n            $T1 =\n            functor (A : sig type xa end) (B : sig type xz end) -> sig end\n          Modules do not match:\n            functor (A : $S1) (B : $S2) -> ...\n          is not included in\n            functor (A : $T1) (B : $T2) -> ...\n          1. Module types do not match:\n               $S1 = sig type xa end\n             does not include\n               $T1 = sig type xaa end\n             The type `xa' is required but not provided\n          2. Module types $S2 and $T2 match\n       2. Module types do not match:\n            $S2 =\n            functor (A : sig type ya end) (B : sig type ybb end) -> sig end\n          does not include\n            $T2 =\n            functor (A : sig type ya end) (B : sig type yb end) -> sig end\n          Modules do not match:\n            functor (A : $S1) (B : $S2) -> ...\n          is not included in\n            functor (A : $T1) (B : $T2) -> ...\n       3. Module types do not match:\n            $S3 =\n            functor (A : sig type za end) (B : sig type zbb end) -> sig end\n          does not include\n            $T3 =\n            functor (A : sig type za end) (B : sig type zb end) -> sig end\n          Modules do not match:\n            functor (A : $S1) (B : $S2) -> ...\n          is not included in\n            functor (A : $T1) (B : $T2) -> ...\n",(testsuite/tests/typing-modules/functors.ml[804,24899+12]..[882,27754+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[884,27759+0]..[906,28236+3])
    Pstr_module
    "A" (testsuite/tests/typing-modules/functors.ml[884,27759+7]..[884,27759+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[884,27759+8]..[906,28236+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[895,27995+6]..[906,28236+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[896,28008+2]..[905,28230+5])
              Pstr_module
              "B" (testsuite/tests/typing-modules/functors.ml[896,28008+9]..[896,28008+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[896,28008+13]..[905,28230+5])
                  Pmod_structure
                  [
                    structure_item (testsuite/tests/typing-modules/functors.ml[897,28028+4]..[904,28222+7])
                      Pstr_module
                      "C" (testsuite/tests/typing-modules/functors.ml[897,28028+11]..[897,28028+12])
                        module_expr (testsuite/tests/typing-modules/functors.ml[897,28028+15]..[904,28222+7])
                          Pmod_structure
                          [
                            structure_item (testsuite/tests/typing-modules/functors.ml[898,28050+6]..[903,28212+9])
                              Pstr_module
                              "D" (testsuite/tests/typing-modules/functors.ml[898,28050+13]..[898,28050+14])
                                module_expr (testsuite/tests/typing-modules/functors.ml[898,28050+17]..[903,28212+9])
                                  Pmod_structure
                                  [
                                    structure_item (testsuite/tests/typing-modules/functors.ml[899,28074+8]..[902,28200+11])
                                      Pstr_module
                                      "E" (testsuite/tests/typing-modules/functors.ml[899,28074+15]..[899,28074+16])
                                        module_expr (testsuite/tests/typing-modules/functors.ml[899,28074+19]..[902,28200+11])
                                          Pmod_structure
                                          [
                                            structure_item (testsuite/tests/typing-modules/functors.ml[900,28100+10]..[901,28156+43])
                                              Pstr_module
                                              "F" (testsuite/tests/typing-modules/functors.ml[900,28100+17]..[900,28100+18])
                                                module_expr (testsuite/tests/typing-modules/functors.ml[900,28100+18]..[901,28156+43])
                                                  Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[900,28100+19]..[900,28100+20])
                                                  module_type (testsuite/tests/typing-modules/functors.ml[900,28100+21]..[900,28100+35])
                                                    Pmty_signature
                                                    [
                                                      signature_item (testsuite/tests/typing-modules/functors.ml[900,28100+25]..[900,28100+31])
                                                        Psig_type Rec
                                                        [
                                                          type_declaration "x" (testsuite/tests/typing-modules/functors.ml[900,28100+30]..[900,28100+31]) (testsuite/tests/typing-modules/functors.ml[900,28100+25]..[900,28100+31])
                                                            ptype_params =
                                                              []
                                                            ptype_cstrs =
                                                              []
                                                            ptype_kind =
                                                              Ptype_abstract
                                                            ptype_private = Public
                                                            ptype_manifest =
                                                              None
                                                        ]
                                                    ]
                                                  module_expr (testsuite/tests/typing-modules/functors.ml[900,28100+36]..[901,28156+43])
                                                    Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[900,28100+37]..[900,28100+38])
                                                    module_type (testsuite/tests/typing-modules/functors.ml[900,28100+39]..[900,28100+54])
                                                      Pmty_signature
                                                      [
                                                        signature_item (testsuite/tests/typing-modules/functors.ml[900,28100+43]..[900,28100+50])
                                                          Psig_type Rec
                                                          [
                                                            type_declaration "y'" (testsuite/tests/typing-modules/functors.ml[900,28100+48]..[900,28100+50]) (testsuite/tests/typing-modules/functors.ml[900,28100+43]..[900,28100+50])
                                                              ptype_params =
                                                                []
                                                              ptype_cstrs =
                                                                []
                                                              ptype_kind =
                                                                Ptype_abstract
                                                              ptype_private = Public
                                                              ptype_manifest =
                                                                None
                                                          ]
                                                      ]
                                                    module_expr (testsuite/tests/typing-modules/functors.ml[901,28156+12]..[901,28156+43])
                                                      Pmod_functor "W" (testsuite/tests/typing-modules/functors.ml[901,28156+13]..[901,28156+14])
                                                      module_type (testsuite/tests/typing-modules/functors.ml[901,28156+15]..[901,28156+29])
                                                        Pmty_signature
                                                        [
                                                          signature_item (testsuite/tests/typing-modules/functors.ml[901,28156+19]..[901,28156+25])
                                                            Psig_type Rec
                                                            [
                                                              type_declaration "w" (testsuite/tests/typing-modules/functors.ml[901,28156+24]..[901,28156+25]) (testsuite/tests/typing-modules/functors.ml[901,28156+19]..[901,28156+25])
                                                                ptype_params =
                                                                  []
                                                                ptype_cstrs =
                                                                  []
                                                                ptype_kind =
                                                                  Ptype_abstract
                                                                ptype_private = Public
                                                                ptype_manifest =
                                                                  None
                                                            ]
                                                        ]
                                                      module_expr (testsuite/tests/typing-modules/functors.ml[901,28156+33]..[901,28156+43])
                                                        Pmod_structure
                                                        []
                                          ]
                                  ]
                          ]
                  ]
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[884,27759+10]..[895,27995+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[885,27773+2]..[894,27989+5])
              Psig_module "B" (testsuite/tests/typing-modules/functors.ml[885,27773+9]..[885,27773+10])
              module_type (testsuite/tests/typing-modules/functors.ml[885,27773+12]..[894,27989+5])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/functors.ml[886,27789+4]..[893,27981+7])
                    Psig_module "C" (testsuite/tests/typing-modules/functors.ml[886,27789+11]..[886,27789+12])
                    module_type (testsuite/tests/typing-modules/functors.ml[886,27789+14]..[893,27981+7])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[887,27807+6]..[892,27971+9])
                          Psig_module "D" (testsuite/tests/typing-modules/functors.ml[887,27807+13]..[887,27807+14])
                          module_type (testsuite/tests/typing-modules/functors.ml[887,27807+16]..[892,27971+9])
                            Pmty_signature
                            [
                              signature_item (testsuite/tests/typing-modules/functors.ml[888,27827+8]..[891,27959+11])
                                Psig_module "E" (testsuite/tests/typing-modules/functors.ml[888,27827+15]..[888,27827+16])
                                module_type (testsuite/tests/typing-modules/functors.ml[888,27827+18]..[891,27959+11])
                                  Pmty_signature
                                  [
                                    signature_item (testsuite/tests/typing-modules/functors.ml[889,27849+10]..[890,27902+56])
                                      Psig_module "F" (testsuite/tests/typing-modules/functors.ml[889,27849+17]..[889,27849+18])
                                      module_type (testsuite/tests/typing-modules/functors.ml[889,27849+20]..[890,27902+56])
                                        Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                                        module_type (testsuite/tests/typing-modules/functors.ml[889,27849+20]..[889,27849+34])
                                          Pmty_signature
                                          [
                                            signature_item (testsuite/tests/typing-modules/functors.ml[889,27849+24]..[889,27849+30])
                                              Psig_type Rec
                                              [
                                                type_declaration "x" (testsuite/tests/typing-modules/functors.ml[889,27849+29]..[889,27849+30]) (testsuite/tests/typing-modules/functors.ml[889,27849+24]..[889,27849+30])
                                                  ptype_params =
                                                    []
                                                  ptype_cstrs =
                                                    []
                                                  ptype_kind =
                                                    Ptype_abstract
                                                  ptype_private = Public
                                                  ptype_manifest =
                                                    None
                                              ]
                                          ]
                                        module_type (testsuite/tests/typing-modules/functors.ml[889,27849+38]..[890,27902+56])
                                          Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                                          module_type (testsuite/tests/typing-modules/functors.ml[889,27849+38]..[889,27849+52])
                                            Pmty_signature
                                            [
                                              signature_item (testsuite/tests/typing-modules/functors.ml[889,27849+42]..[889,27849+48])
                                                Psig_type Rec
                                                [
                                                  type_declaration "y" (testsuite/tests/typing-modules/functors.ml[889,27849+47]..[889,27849+48]) (testsuite/tests/typing-modules/functors.ml[889,27849+42]..[889,27849+48])
                                                    ptype_params =
                                                      []
                                                    ptype_cstrs =
                                                      []
                                                    ptype_kind =
                                                      Ptype_abstract
                                                    ptype_private = Public
                                                    ptype_manifest =
                                                      None
                                                ]
                                            ]
                                          module_type (testsuite/tests/typing-modules/functors.ml[890,27902+13]..[890,27902+56])
                                            Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                                            module_type (testsuite/tests/typing-modules/functors.ml[890,27902+13]..[890,27902+27])
                                              Pmty_signature
                                              [
                                                signature_item (testsuite/tests/typing-modules/functors.ml[890,27902+17]..[890,27902+23])
                                                  Psig_type Rec
                                                  [
                                                    type_declaration "z" (testsuite/tests/typing-modules/functors.ml[890,27902+22]..[890,27902+23]) (testsuite/tests/typing-modules/functors.ml[890,27902+17]..[890,27902+23])
                                                      ptype_params =
                                                        []
                                                      ptype_cstrs =
                                                        []
                                                      ptype_kind =
                                                        Ptype_abstract
                                                      ptype_private = Public
                                                      ptype_manifest =
                                                        None
                                                  ]
                                              ]
                                            module_type (testsuite/tests/typing-modules/functors.ml[890,27902+31]..[890,27902+56])
                                              Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                                              module_type (testsuite/tests/typing-modules/functors.ml[890,27902+31]..[890,27902+45])
                                                Pmty_signature
                                                [
                                                  signature_item (testsuite/tests/typing-modules/functors.ml[890,27902+35]..[890,27902+41])
                                                    Psig_type Rec
                                                    [
                                                      type_declaration "w" (testsuite/tests/typing-modules/functors.ml[890,27902+40]..[890,27902+41]) (testsuite/tests/typing-modules/functors.ml[890,27902+35]..[890,27902+41])
                                                        ptype_params =
                                                          []
                                                        ptype_cstrs =
                                                          []
                                                        ptype_kind =
                                                          Ptype_abstract
                                                        ptype_private = Public
                                                        ptype_manifest =
                                                          None
                                                    ]
                                                ]
                                              module_type (testsuite/tests/typing-modules/functors.ml[890,27902+49]..[890,27902+56])
                                                Pmty_signature
                                                []
                                  ]
                            ]
                      ]
                ]
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[907,28240+0]..[1024,31598+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[907,28240+10]..[1024,31598+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[907,28240+10]..[1024,31598+2])
          Pexp_constant PConst_string ("\nLines 12-23, characters 6-3:\n12 | ......struct\n13 |   module B = struct\n14 |     module C = struct\n15 |       module D = struct\n16 |         module E = struct\n...\n20 |       end\n21 |     end\n22 |   end\n23 | end\nError: Signature mismatch:\n       Modules do not match:\n         sig\n           module B :\n             sig\n               module C :\n                 sig\n                   module D :\n                     sig\n                       module E :\n                         sig\n                           module F :\n                             functor (X : sig type x end)\n                               (Y : sig type y' end) (W : sig type w end) ->\n                               sig end\n                         end\n                     end\n                 end\n             end\n         end\n       is not included in\n         sig\n           module B :\n             sig\n               module C :\n                 sig\n                   module D :\n                     sig\n                       module E :\n                         sig\n                           module F :\n                             sig type x end -> sig type y end ->\n                               sig type z end -> sig type w end -> sig end\n                         end\n                     end\n                 end\n             end\n         end\n       In module B:\n       Modules do not match:\n         sig module C = B.C end\n       is not included in\n         sig\n           module C :\n             sig\n               module D :\n                 sig\n                   module E :\n                     sig\n                       module F :\n                         sig type x end -> sig type y end ->\n                           sig type z end -> sig type w end -> sig end\n                     end\n                 end\n             end\n         end\n       In module B.C:\n       Modules do not match:\n         sig module D = B.C.D end\n       is not included in\n         sig\n           module D :\n             sig\n               module E :\n                 sig\n                   module F :\n                     sig type x end -> sig type y end -> sig type z end ->\n                       sig type w end -> sig end\n                 end\n             end\n         end\n       In module B.C.D:\n       Modules do not match:\n         sig module E = B.C.D.E end\n       is not included in\n         sig\n           module E :\n             sig\n               module F :\n                 sig type x end -> sig type y end -> sig type z end ->\n                   sig type w end -> sig end\n             end\n         end\n       In module B.C.D.E:\n       Modules do not match:\n         sig module F = B.C.D.E.F end\n       is not included in\n         sig\n           module F :\n             sig type x end -> sig type y end -> sig type z end ->\n               sig type w end -> sig end\n         end\n       In module B.C.D.E.F:\n       Modules do not match:\n         functor (X : $S1) (Y : $S3) (W : $S4) -> ...\n       is not included in\n         functor $T1 $T2 $T3 $T4 -> ...\n       1. Module types $S1 and $T1 match\n       2. An argument appears to be missing with module type\n              $T2 = sig type y end\n       3. Module types do not match:\n            $S3 = sig type y' end\n          does not include\n            $T3 = sig type z end\n       4. Module types $S4 and $T4 match\n",(testsuite/tests/typing-modules/functors.ml[907,28240+12]..[1024,31598+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1027,31604+0]..[1027,31604+17])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1027,31604+0]..[1027,31604+17])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1027,31604+0]..[1027,31604+17])
          Pexp_constant PConst_string(" Ugly cases ",(testsuite/tests/typing-modules/functors.ml[1027,31604+0]..[1027,31604+17]),None)
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1029,31623+0]..[1034,31769+3])
    Pstr_modtype "Arg" (testsuite/tests/typing-modules/functors.ml[1029,31623+12]..[1029,31623+15])
      module_type (testsuite/tests/typing-modules/functors.ml[1029,31623+18]..[1034,31769+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/functors.ml[1030,31645+4]..[1030,31645+17])
            Psig_modtype "A" (testsuite/tests/typing-modules/functors.ml[1030,31645+16]..[1030,31645+17])
            #abstract          signature_item (testsuite/tests/typing-modules/functors.ml[1031,31663+4]..[1031,31663+43])
            Psig_modtype "Honorificabilitudinitatibus" (testsuite/tests/typing-modules/functors.ml[1031,31663+16]..[1031,31663+43])
            #abstract          signature_item (testsuite/tests/typing-modules/functors.ml[1032,31707+4]..[1032,31707+43])
            Psig_module "X" (testsuite/tests/typing-modules/functors.ml[1032,31707+11]..[1032,31707+12])
            module_type (testsuite/tests/typing-modules/functors.ml[1032,31707+16]..[1032,31707+43])
              Pmty_ident "Honorificabilitudinitatibus" (testsuite/tests/typing-modules/functors.ml[1032,31707+16]..[1032,31707+43])
          signature_item (testsuite/tests/typing-modules/functors.ml[1033,31751+4]..[1033,31751+17])
            Psig_module "Y" (testsuite/tests/typing-modules/functors.ml[1033,31751+11]..[1033,31751+12])
            module_type (testsuite/tests/typing-modules/functors.ml[1033,31751+16]..[1033,31751+17])
              Pmty_ident "A" (testsuite/tests/typing-modules/functors.ml[1033,31751+16]..[1033,31751+17])
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1036,31774+0]..[1041,31882+3])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[1036,31774+7]..[1036,31774+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1036,31774+8]..[1041,31882+3])
        Pmod_functor "A" (testsuite/tests/typing-modules/functors.ml[1036,31774+9]..[1036,31774+10])
        module_type (testsuite/tests/typing-modules/functors.ml[1036,31774+11]..[1036,31774+14])
          Pmty_ident "Arg" (testsuite/tests/typing-modules/functors.ml[1036,31774+11]..[1036,31774+14])
        module_expr (testsuite/tests/typing-modules/functors.ml[1037,31790+2]..[1041,31882+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[1038,31799+2]..[1038,31799+8])
              Pstr_open Fresh
              module_expr (testsuite/tests/typing-modules/functors.ml[1038,31799+7]..[1038,31799+8])
                Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1038,31799+7]..[1038,31799+8])
            structure_item (testsuite/tests/typing-modules/functors.ml[1039,31808+2]..[1039,31808+43])
              Pstr_module
              "G" (testsuite/tests/typing-modules/functors.ml[1039,31808+9]..[1039,31808+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[1039,31808+10]..[1039,31808+43])
                  Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[1039,31808+11]..[1039,31808+12])
                  module_type (testsuite/tests/typing-modules/functors.ml[1039,31808+13]..[1039,31808+14])
                    Pmty_ident "A" (testsuite/tests/typing-modules/functors.ml[1039,31808+13]..[1039,31808+14])
                  module_expr (testsuite/tests/typing-modules/functors.ml[1039,31808+15]..[1039,31808+43])
                    Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[1039,31808+16]..[1039,31808+17])
                    module_type (testsuite/tests/typing-modules/functors.ml[1039,31808+18]..[1039,31808+19])
                      Pmty_ident "A" (testsuite/tests/typing-modules/functors.ml[1039,31808+18]..[1039,31808+19])
                    module_expr (testsuite/tests/typing-modules/functors.ml[1039,31808+20]..[1039,31808+43])
                      Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1039,31808+21]..[1039,31808+22])
                      module_type (testsuite/tests/typing-modules/functors.ml[1039,31808+23]..[1039,31808+24])
                        Pmty_ident "A" (testsuite/tests/typing-modules/functors.ml[1039,31808+23]..[1039,31808+24])
                      module_expr (testsuite/tests/typing-modules/functors.ml[1039,31808+25]..[1039,31808+43])
                        Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[1039,31808+26]..[1039,31808+27])
                        module_type (testsuite/tests/typing-modules/functors.ml[1039,31808+28]..[1039,31808+29])
                          Pmty_ident "A" (testsuite/tests/typing-modules/functors.ml[1039,31808+28]..[1039,31808+29])
                        module_expr (testsuite/tests/typing-modules/functors.ml[1039,31808+33]..[1039,31808+43])
                          Pmod_structure
                          []
            structure_item (testsuite/tests/typing-modules/functors.ml[1040,31852+2]..[1040,31852+29])
              Pstr_type Rec
              [
                type_declaration "u" (testsuite/tests/typing-modules/functors.ml[1040,31852+7]..[1040,31852+8]) (testsuite/tests/typing-modules/functors.ml[1040,31852+2]..[1040,31852+29])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-modules/functors.ml[1040,31852+11]..[1040,31852+29])
                        Ptyp_constr "G(X)(Y)(X)(Y)(X).t" (testsuite/tests/typing-modules/functors.ml[1040,31852+11]..[1040,31852+29])
                        []
              ]
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1042,31888+0]..[1070,32828+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1042,31888+10]..[1070,32828+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1042,31888+10]..[1070,32828+2])
          Pexp_constant PConst_string ("\nmodule type Arg =\n  sig\n    module type A\n    module type Honorificabilitudinitatibus\n    module X : Honorificabilitudinitatibus\n    module Y : A\n  end\nLine 14, characters 11-29:\n14 |   type u = G(X)(Y)(X)(Y)(X).t\n                ^^^^^^^^^^^^^^^^^^\nError: The functor application G(X)(Y)(X)(Y)(X) is ill-typed.\n       These arguments:\n         A.X A.Y A.X A.Y A.X\n       do not match these parameters:\n         functor (X : A.A) (Y : A.A) A.A (Z : A.A) -> ...\n       1. The following extra argument is provided\n              A.X : A.Honorificabilitudinitatibus\n       2. Module A.Y matches the expected module type A.A\n       3. Modules do not match:\n            A.X : A.Honorificabilitudinitatibus\n          is not included in\n            A.A\n       4. Module A.Y matches the expected module type A.A\n       5. Modules do not match:\n            A.X : A.Honorificabilitudinitatibus\n          is not included in\n            A.A\n",(testsuite/tests/typing-modules/functors.ml[1042,31888+12]..[1070,32828+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1073,32834+0]..[1081,33323+10])
    Pstr_modtype "s" (testsuite/tests/typing-modules/functors.ml[1073,32834+12]..[1073,32834+13])
      module_type (testsuite/tests/typing-modules/functors.ml[1074,32858+2]..[1081,33323+10])
        Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[1074,32858+3]..[1074,32858+4])
        module_type (testsuite/tests/typing-modules/functors.ml[1074,32858+6]..[1074,32858+75])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[1074,32858+10]..[1074,32858+20])
              Psig_type Rec
              [
                type_declaration "when_" (testsuite/tests/typing-modules/functors.ml[1074,32858+15]..[1074,32858+20]) (testsuite/tests/typing-modules/functors.ml[1074,32858+10]..[1074,32858+20])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[1074,32858+21]..[1074,32858+31])
              Psig_type Rec
              [
                type_declaration "shall" (testsuite/tests/typing-modules/functors.ml[1074,32858+26]..[1074,32858+31]) (testsuite/tests/typing-modules/functors.ml[1074,32858+21]..[1074,32858+31])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[1074,32858+32]..[1074,32858+39])
              Psig_type Rec
              [
                type_declaration "we" (testsuite/tests/typing-modules/functors.ml[1074,32858+37]..[1074,32858+39]) (testsuite/tests/typing-modules/functors.ml[1074,32858+32]..[1074,32858+39])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[1074,32858+40]..[1074,32858+50])
              Psig_type Rec
              [
                type_declaration "three" (testsuite/tests/typing-modules/functors.ml[1074,32858+45]..[1074,32858+50]) (testsuite/tests/typing-modules/functors.ml[1074,32858+40]..[1074,32858+50])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[1074,32858+51]..[1074,32858+60])
              Psig_type Rec
              [
                type_declaration "meet" (testsuite/tests/typing-modules/functors.ml[1074,32858+56]..[1074,32858+60]) (testsuite/tests/typing-modules/functors.ml[1074,32858+51]..[1074,32858+60])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[1074,32858+61]..[1074,32858+71])
              Psig_type Rec
              [
                type_declaration "again" (testsuite/tests/typing-modules/functors.ml[1074,32858+66]..[1074,32858+71]) (testsuite/tests/typing-modules/functors.ml[1074,32858+61]..[1074,32858+71])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[1075,32935+2]..[1081,33323+10])
          Pmty_functor "Y" (testsuite/tests/typing-modules/functors.ml[1075,32935+3]..[1075,32935+4])
          module_type (testsuite/tests/typing-modules/functors.ml[1075,32935+5]..[1075,32935+66])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-modules/functors.ml[1075,32935+9]..[1075,32935+17])
                Psig_type Rec
                [
                  type_declaration "in_" (testsuite/tests/typing-modules/functors.ml[1075,32935+14]..[1075,32935+17]) (testsuite/tests/typing-modules/functors.ml[1075,32935+9]..[1075,32935+17])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              signature_item (testsuite/tests/typing-modules/functors.ml[1075,32935+18]..[1075,32935+33])
                Psig_value
                value_description "thunder" (testsuite/tests/typing-modules/functors.ml[1075,32935+22]..[1075,32935+29]) (testsuite/tests/typing-modules/functors.ml[1075,32935+18]..[1075,32935+33])
                  core_type (testsuite/tests/typing-modules/functors.ml[1075,32935+30]..[1075,32935+33])
                    Ptyp_constr "in_" (testsuite/tests/typing-modules/functors.ml[1075,32935+30]..[1075,32935+33])
                    []
                  []
              signature_item (testsuite/tests/typing-modules/functors.ml[1075,32935+34]..[1075,32935+52])
                Psig_value
                value_description "lightning" (testsuite/tests/typing-modules/functors.ml[1075,32935+38]..[1075,32935+47]) (testsuite/tests/typing-modules/functors.ml[1075,32935+34]..[1075,32935+52])
                  core_type (testsuite/tests/typing-modules/functors.ml[1075,32935+49]..[1075,32935+52])
                    Ptyp_constr "in_" (testsuite/tests/typing-modules/functors.ml[1075,32935+49]..[1075,32935+52])
                    []
                  []
              signature_item (testsuite/tests/typing-modules/functors.ml[1075,32935+53]..[1075,32935+62])
                Psig_type Rec
                [
                  type_declaration "rain" (testsuite/tests/typing-modules/functors.ml[1075,32935+58]..[1075,32935+62]) (testsuite/tests/typing-modules/functors.ml[1075,32935+53]..[1075,32935+62])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
            ]
          module_type (testsuite/tests/typing-modules/functors.ml[1076,33003+2]..[1081,33323+10])
            Pmty_functor "Z" (testsuite/tests/typing-modules/functors.ml[1076,33003+3]..[1076,33003+4])
            module_type (testsuite/tests/typing-modules/functors.ml[1076,33003+5]..[1076,33003+62])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/functors.ml[1076,33003+9]..[1076,33003+19])
                  Psig_type Rec
                  [
                    type_declaration "when_" (testsuite/tests/typing-modules/functors.ml[1076,33003+14]..[1076,33003+19]) (testsuite/tests/typing-modules/functors.ml[1076,33003+9]..[1076,33003+19])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
                signature_item (testsuite/tests/typing-modules/functors.ml[1076,33003+20]..[1076,33003+28])
                  Psig_type Rec
                  [
                    type_declaration "the" (testsuite/tests/typing-modules/functors.ml[1076,33003+25]..[1076,33003+28]) (testsuite/tests/typing-modules/functors.ml[1076,33003+20]..[1076,33003+28])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
                signature_item (testsuite/tests/typing-modules/functors.ml[1076,33003+29]..[1076,33003+46])
                  Psig_type Rec
                  [
                    type_declaration "hurlyburly's" (testsuite/tests/typing-modules/functors.ml[1076,33003+34]..[1076,33003+46]) (testsuite/tests/typing-modules/functors.ml[1076,33003+29]..[1076,33003+46])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
                signature_item (testsuite/tests/typing-modules/functors.ml[1076,33003+47]..[1076,33003+57])
                  Psig_type Rec
                  [
                    type_declaration "done_" (testsuite/tests/typing-modules/functors.ml[1076,33003+52]..[1076,33003+57]) (testsuite/tests/typing-modules/functors.ml[1076,33003+47]..[1076,33003+57])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
              ]
            module_type (testsuite/tests/typing-modules/functors.ml[1077,33067+2]..[1081,33323+10])
              Pmty_functor "Z" (testsuite/tests/typing-modules/functors.ml[1077,33067+3]..[1077,33067+4])
              module_type (testsuite/tests/typing-modules/functors.ml[1077,33067+5]..[1077,33067+75])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/functors.ml[1077,33067+9]..[1077,33067+19])
                    Psig_type Rec
                    [
                      type_declaration "when_" (testsuite/tests/typing-modules/functors.ml[1077,33067+14]..[1077,33067+19]) (testsuite/tests/typing-modules/functors.ml[1077,33067+9]..[1077,33067+19])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/functors.ml[1077,33067+20]..[1077,33067+28])
                    Psig_type Rec
                    [
                      type_declaration "the" (testsuite/tests/typing-modules/functors.ml[1077,33067+25]..[1077,33067+28]) (testsuite/tests/typing-modules/functors.ml[1077,33067+20]..[1077,33067+28])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/functors.ml[1077,33067+29]..[1077,33067+42])
                    Psig_type Rec
                    [
                      type_declaration "battle's" (testsuite/tests/typing-modules/functors.ml[1077,33067+34]..[1077,33067+42]) (testsuite/tests/typing-modules/functors.ml[1077,33067+29]..[1077,33067+42])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/functors.ml[1077,33067+43]..[1077,33067+52])
                    Psig_type Rec
                    [
                      type_declaration "lost" (testsuite/tests/typing-modules/functors.ml[1077,33067+48]..[1077,33067+52]) (testsuite/tests/typing-modules/functors.ml[1077,33067+43]..[1077,33067+52])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/functors.ml[1077,33067+53]..[1077,33067+62])
                    Psig_type Rec
                    [
                      type_declaration "and_" (testsuite/tests/typing-modules/functors.ml[1077,33067+58]..[1077,33067+62]) (testsuite/tests/typing-modules/functors.ml[1077,33067+53]..[1077,33067+62])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/functors.ml[1077,33067+63]..[1077,33067+71])
                    Psig_type Rec
                    [
                      type_declaration "won" (testsuite/tests/typing-modules/functors.ml[1077,33067+68]..[1077,33067+71]) (testsuite/tests/typing-modules/functors.ml[1077,33067+63]..[1077,33067+71])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                ]
              module_type (testsuite/tests/typing-modules/functors.ml[1078,33144+2]..[1081,33323+10])
                Pmty_functor "W" (testsuite/tests/typing-modules/functors.ml[1078,33144+3]..[1078,33144+4])
                module_type (testsuite/tests/typing-modules/functors.ml[1078,33144+5]..[1078,33144+86])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[1078,33144+9]..[1078,33144+18])
                      Psig_type Rec
                      [
                        type_declaration "that" (testsuite/tests/typing-modules/functors.ml[1078,33144+14]..[1078,33144+18]) (testsuite/tests/typing-modules/functors.ml[1078,33144+9]..[1078,33144+18])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1078,33144+19]..[1078,33144+28])
                      Psig_type Rec
                      [
                        type_declaration "will" (testsuite/tests/typing-modules/functors.ml[1078,33144+24]..[1078,33144+28]) (testsuite/tests/typing-modules/functors.ml[1078,33144+19]..[1078,33144+28])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1078,33144+29]..[1078,33144+36])
                      Psig_type Rec
                      [
                        type_declaration "be" (testsuite/tests/typing-modules/functors.ml[1078,33144+34]..[1078,33144+36]) (testsuite/tests/typing-modules/functors.ml[1078,33144+29]..[1078,33144+36])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1078,33144+37]..[1078,33144+45])
                      Psig_type Rec
                      [
                        type_declaration "ere" (testsuite/tests/typing-modules/functors.ml[1078,33144+42]..[1078,33144+45]) (testsuite/tests/typing-modules/functors.ml[1078,33144+37]..[1078,33144+45])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1078,33144+46]..[1078,33144+55])
                      Psig_type Rec
                      [
                        type_declaration "the_" (testsuite/tests/typing-modules/functors.ml[1078,33144+51]..[1078,33144+55]) (testsuite/tests/typing-modules/functors.ml[1078,33144+46]..[1078,33144+55])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1078,33144+56]..[1078,33144+64])
                      Psig_type Rec
                      [
                        type_declaration "set" (testsuite/tests/typing-modules/functors.ml[1078,33144+61]..[1078,33144+64]) (testsuite/tests/typing-modules/functors.ml[1078,33144+56]..[1078,33144+64])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1078,33144+65]..[1078,33144+73])
                      Psig_type Rec
                      [
                        type_declaration "of_" (testsuite/tests/typing-modules/functors.ml[1078,33144+70]..[1078,33144+73]) (testsuite/tests/typing-modules/functors.ml[1078,33144+65]..[1078,33144+73])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1078,33144+74]..[1078,33144+82])
                      Psig_type Rec
                      [
                        type_declaration "sun" (testsuite/tests/typing-modules/functors.ml[1078,33144+79]..[1078,33144+82]) (testsuite/tests/typing-modules/functors.ml[1078,33144+74]..[1078,33144+82])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                  ]
                module_type (testsuite/tests/typing-modules/functors.ml[1079,33232+2]..[1081,33323+10])
                  Pmty_functor "S" (testsuite/tests/typing-modules/functors.ml[1079,33232+3]..[1079,33232+4])
                  module_type (testsuite/tests/typing-modules/functors.ml[1079,33232+6]..[1079,33232+44])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[1079,33232+10]..[1079,33232+20])
                        Psig_type Rec
                        [
                          type_declaration "where" (testsuite/tests/typing-modules/functors.ml[1079,33232+15]..[1079,33232+20]) (testsuite/tests/typing-modules/functors.ml[1079,33232+10]..[1079,33232+20])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1079,33232+21]..[1079,33232+29])
                        Psig_type Rec
                        [
                          type_declaration "the" (testsuite/tests/typing-modules/functors.ml[1079,33232+26]..[1079,33232+29]) (testsuite/tests/typing-modules/functors.ml[1079,33232+21]..[1079,33232+29])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1079,33232+30]..[1079,33232+40])
                        Psig_type Rec
                        [
                          type_declaration "place" (testsuite/tests/typing-modules/functors.ml[1079,33232+35]..[1079,33232+40]) (testsuite/tests/typing-modules/functors.ml[1079,33232+30]..[1079,33232+40])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_type (testsuite/tests/typing-modules/functors.ml[1080,33278+2]..[1081,33323+10])
                    Pmty_functor "R" (testsuite/tests/typing-modules/functors.ml[1080,33278+3]..[1080,33278+4])
                    module_type (testsuite/tests/typing-modules/functors.ml[1080,33278+6]..[1080,33278+43])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[1080,33278+10]..[1080,33278+19])
                          Psig_type Rec
                          [
                            type_declaration "upon" (testsuite/tests/typing-modules/functors.ml[1080,33278+15]..[1080,33278+19]) (testsuite/tests/typing-modules/functors.ml[1080,33278+10]..[1080,33278+19])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                        signature_item (testsuite/tests/typing-modules/functors.ml[1080,33278+20]..[1080,33278+28])
                          Psig_type Rec
                          [
                            type_declaration "the" (testsuite/tests/typing-modules/functors.ml[1080,33278+25]..[1080,33278+28]) (testsuite/tests/typing-modules/functors.ml[1080,33278+20]..[1080,33278+28])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                        signature_item (testsuite/tests/typing-modules/functors.ml[1080,33278+29]..[1080,33278+39])
                          Psig_type Rec
                          [
                            type_declaration "heath" (testsuite/tests/typing-modules/functors.ml[1080,33278+34]..[1080,33278+39]) (testsuite/tests/typing-modules/functors.ml[1080,33278+29]..[1080,33278+39])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_type (testsuite/tests/typing-modules/functors.ml[1081,33323+3]..[1081,33323+10])
                      Pmty_signature
                      []
  structure_item (testsuite/tests/typing-modules/functors.ml[1082,33334+0]..[1090,33817+15])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[1082,33334+7]..[1082,33334+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1082,33334+8]..[1090,33817+15])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[1083,33356+2]..[1090,33817+15])
          Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[1083,33356+3]..[1083,33356+4])
          module_type (testsuite/tests/typing-modules/functors.ml[1083,33356+6]..[1083,33356+74])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-modules/functors.ml[1083,33356+10]..[1083,33356+20])
                Psig_type Rec
                [
                  type_declaration "when_" (testsuite/tests/typing-modules/functors.ml[1083,33356+15]..[1083,33356+20]) (testsuite/tests/typing-modules/functors.ml[1083,33356+10]..[1083,33356+20])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              signature_item (testsuite/tests/typing-modules/functors.ml[1083,33356+21]..[1083,33356+31])
                Psig_type Rec
                [
                  type_declaration "shall" (testsuite/tests/typing-modules/functors.ml[1083,33356+26]..[1083,33356+31]) (testsuite/tests/typing-modules/functors.ml[1083,33356+21]..[1083,33356+31])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              signature_item (testsuite/tests/typing-modules/functors.ml[1083,33356+32]..[1083,33356+39])
                Psig_type Rec
                [
                  type_declaration "we" (testsuite/tests/typing-modules/functors.ml[1083,33356+37]..[1083,33356+39]) (testsuite/tests/typing-modules/functors.ml[1083,33356+32]..[1083,33356+39])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              signature_item (testsuite/tests/typing-modules/functors.ml[1083,33356+40]..[1083,33356+49])
                Psig_type Rec
                [
                  type_declaration "tree" (testsuite/tests/typing-modules/functors.ml[1083,33356+45]..[1083,33356+49]) (testsuite/tests/typing-modules/functors.ml[1083,33356+40]..[1083,33356+49])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              signature_item (testsuite/tests/typing-modules/functors.ml[1083,33356+50]..[1083,33356+59])
                Psig_type Rec
                [
                  type_declaration "meet" (testsuite/tests/typing-modules/functors.ml[1083,33356+55]..[1083,33356+59]) (testsuite/tests/typing-modules/functors.ml[1083,33356+50]..[1083,33356+59])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              signature_item (testsuite/tests/typing-modules/functors.ml[1083,33356+60]..[1083,33356+70])
                Psig_type Rec
                [
                  type_declaration "again" (testsuite/tests/typing-modules/functors.ml[1083,33356+65]..[1083,33356+70]) (testsuite/tests/typing-modules/functors.ml[1083,33356+60]..[1083,33356+70])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
            ]
          module_expr (testsuite/tests/typing-modules/functors.ml[1084,33432+2]..[1090,33817+15])
            Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[1084,33432+3]..[1084,33432+4])
            module_type (testsuite/tests/typing-modules/functors.ml[1084,33432+5]..[1084,33432+66])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/functors.ml[1084,33432+9]..[1084,33432+17])
                  Psig_type Rec
                  [
                    type_declaration "in_" (testsuite/tests/typing-modules/functors.ml[1084,33432+14]..[1084,33432+17]) (testsuite/tests/typing-modules/functors.ml[1084,33432+9]..[1084,33432+17])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
                signature_item (testsuite/tests/typing-modules/functors.ml[1084,33432+18]..[1084,33432+33])
                  Psig_value
                  value_description "thunder" (testsuite/tests/typing-modules/functors.ml[1084,33432+22]..[1084,33432+29]) (testsuite/tests/typing-modules/functors.ml[1084,33432+18]..[1084,33432+33])
                    core_type (testsuite/tests/typing-modules/functors.ml[1084,33432+30]..[1084,33432+33])
                      Ptyp_constr "in_" (testsuite/tests/typing-modules/functors.ml[1084,33432+30]..[1084,33432+33])
                      []
                    []
                signature_item (testsuite/tests/typing-modules/functors.ml[1084,33432+34]..[1084,33432+52])
                  Psig_value
                  value_description "lightning" (testsuite/tests/typing-modules/functors.ml[1084,33432+38]..[1084,33432+47]) (testsuite/tests/typing-modules/functors.ml[1084,33432+34]..[1084,33432+52])
                    core_type (testsuite/tests/typing-modules/functors.ml[1084,33432+49]..[1084,33432+52])
                      Ptyp_constr "in_" (testsuite/tests/typing-modules/functors.ml[1084,33432+49]..[1084,33432+52])
                      []
                    []
                signature_item (testsuite/tests/typing-modules/functors.ml[1084,33432+53]..[1084,33432+62])
                  Psig_type Rec
                  [
                    type_declaration "pain" (testsuite/tests/typing-modules/functors.ml[1084,33432+58]..[1084,33432+62]) (testsuite/tests/typing-modules/functors.ml[1084,33432+53]..[1084,33432+62])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
              ]
            module_expr (testsuite/tests/typing-modules/functors.ml[1085,33500+2]..[1090,33817+15])
              Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[1085,33500+3]..[1085,33500+4])
              module_type (testsuite/tests/typing-modules/functors.ml[1085,33500+5]..[1085,33500+61])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/functors.ml[1085,33500+9]..[1085,33500+19])
                    Psig_type Rec
                    [
                      type_declaration "when_" (testsuite/tests/typing-modules/functors.ml[1085,33500+14]..[1085,33500+19]) (testsuite/tests/typing-modules/functors.ml[1085,33500+9]..[1085,33500+19])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/functors.ml[1085,33500+20]..[1085,33500+28])
                    Psig_type Rec
                    [
                      type_declaration "the" (testsuite/tests/typing-modules/functors.ml[1085,33500+25]..[1085,33500+28]) (testsuite/tests/typing-modules/functors.ml[1085,33500+20]..[1085,33500+28])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/functors.ml[1085,33500+29]..[1085,33500+46])
                    Psig_type Rec
                    [
                      type_declaration "hurlyburly's" (testsuite/tests/typing-modules/functors.ml[1085,33500+34]..[1085,33500+46]) (testsuite/tests/typing-modules/functors.ml[1085,33500+29]..[1085,33500+46])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/functors.ml[1085,33500+47]..[1085,33500+56])
                    Psig_type Rec
                    [
                      type_declaration "gone" (testsuite/tests/typing-modules/functors.ml[1085,33500+52]..[1085,33500+56]) (testsuite/tests/typing-modules/functors.ml[1085,33500+47]..[1085,33500+56])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                ]
              module_expr (testsuite/tests/typing-modules/functors.ml[1086,33563+2]..[1090,33817+15])
                Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[1086,33563+3]..[1086,33563+4])
                module_type (testsuite/tests/typing-modules/functors.ml[1086,33563+5]..[1086,33563+75])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[1086,33563+9]..[1086,33563+19])
                      Psig_type Rec
                      [
                        type_declaration "when_" (testsuite/tests/typing-modules/functors.ml[1086,33563+14]..[1086,33563+19]) (testsuite/tests/typing-modules/functors.ml[1086,33563+9]..[1086,33563+19])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1086,33563+20]..[1086,33563+28])
                      Psig_type Rec
                      [
                        type_declaration "the" (testsuite/tests/typing-modules/functors.ml[1086,33563+25]..[1086,33563+28]) (testsuite/tests/typing-modules/functors.ml[1086,33563+20]..[1086,33563+28])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1086,33563+29]..[1086,33563+42])
                      Psig_type Rec
                      [
                        type_declaration "battle's" (testsuite/tests/typing-modules/functors.ml[1086,33563+34]..[1086,33563+42]) (testsuite/tests/typing-modules/functors.ml[1086,33563+29]..[1086,33563+42])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1086,33563+43]..[1086,33563+52])
                      Psig_type Rec
                      [
                        type_declaration "last" (testsuite/tests/typing-modules/functors.ml[1086,33563+48]..[1086,33563+52]) (testsuite/tests/typing-modules/functors.ml[1086,33563+43]..[1086,33563+52])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1086,33563+53]..[1086,33563+62])
                      Psig_type Rec
                      [
                        type_declaration "and_" (testsuite/tests/typing-modules/functors.ml[1086,33563+58]..[1086,33563+62]) (testsuite/tests/typing-modules/functors.ml[1086,33563+53]..[1086,33563+62])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1086,33563+63]..[1086,33563+71])
                      Psig_type Rec
                      [
                        type_declaration "won" (testsuite/tests/typing-modules/functors.ml[1086,33563+68]..[1086,33563+71]) (testsuite/tests/typing-modules/functors.ml[1086,33563+63]..[1086,33563+71])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                  ]
                module_expr (testsuite/tests/typing-modules/functors.ml[1087,33640+2]..[1090,33817+15])
                  Pmod_functor "W" (testsuite/tests/typing-modules/functors.ml[1087,33640+3]..[1087,33640+4])
                  module_type (testsuite/tests/typing-modules/functors.ml[1087,33640+5]..[1087,33640+85])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[1087,33640+9]..[1087,33640+18])
                        Psig_type Rec
                        [
                          type_declaration "that" (testsuite/tests/typing-modules/functors.ml[1087,33640+14]..[1087,33640+18]) (testsuite/tests/typing-modules/functors.ml[1087,33640+9]..[1087,33640+18])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1087,33640+19]..[1087,33640+28])
                        Psig_type Rec
                        [
                          type_declaration "will" (testsuite/tests/typing-modules/functors.ml[1087,33640+24]..[1087,33640+28]) (testsuite/tests/typing-modules/functors.ml[1087,33640+19]..[1087,33640+28])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1087,33640+29]..[1087,33640+36])
                        Psig_type Rec
                        [
                          type_declaration "be" (testsuite/tests/typing-modules/functors.ml[1087,33640+34]..[1087,33640+36]) (testsuite/tests/typing-modules/functors.ml[1087,33640+29]..[1087,33640+36])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1087,33640+37]..[1087,33640+45])
                        Psig_type Rec
                        [
                          type_declaration "the" (testsuite/tests/typing-modules/functors.ml[1087,33640+42]..[1087,33640+45]) (testsuite/tests/typing-modules/functors.ml[1087,33640+37]..[1087,33640+45])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1087,33640+46]..[1087,33640+54])
                        Psig_type Rec
                        [
                          type_declaration "era" (testsuite/tests/typing-modules/functors.ml[1087,33640+51]..[1087,33640+54]) (testsuite/tests/typing-modules/functors.ml[1087,33640+46]..[1087,33640+54])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1087,33640+55]..[1087,33640+63])
                        Psig_type Rec
                        [
                          type_declaration "set" (testsuite/tests/typing-modules/functors.ml[1087,33640+60]..[1087,33640+63]) (testsuite/tests/typing-modules/functors.ml[1087,33640+55]..[1087,33640+63])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1087,33640+64]..[1087,33640+72])
                        Psig_type Rec
                        [
                          type_declaration "of_" (testsuite/tests/typing-modules/functors.ml[1087,33640+69]..[1087,33640+72]) (testsuite/tests/typing-modules/functors.ml[1087,33640+64]..[1087,33640+72])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1087,33640+73]..[1087,33640+81])
                        Psig_type Rec
                        [
                          type_declaration "sun" (testsuite/tests/typing-modules/functors.ml[1087,33640+78]..[1087,33640+81]) (testsuite/tests/typing-modules/functors.ml[1087,33640+73]..[1087,33640+81])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_expr (testsuite/tests/typing-modules/functors.ml[1088,33727+2]..[1090,33817+15])
                    Pmod_functor "S" (testsuite/tests/typing-modules/functors.ml[1088,33727+3]..[1088,33727+4])
                    module_type (testsuite/tests/typing-modules/functors.ml[1088,33727+6]..[1088,33727+43])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[1088,33727+10]..[1088,33727+20])
                          Psig_type Rec
                          [
                            type_declaration "where" (testsuite/tests/typing-modules/functors.ml[1088,33727+15]..[1088,33727+20]) (testsuite/tests/typing-modules/functors.ml[1088,33727+10]..[1088,33727+20])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                        signature_item (testsuite/tests/typing-modules/functors.ml[1088,33727+21]..[1088,33727+29])
                          Psig_type Rec
                          [
                            type_declaration "the" (testsuite/tests/typing-modules/functors.ml[1088,33727+26]..[1088,33727+29]) (testsuite/tests/typing-modules/functors.ml[1088,33727+21]..[1088,33727+29])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                        signature_item (testsuite/tests/typing-modules/functors.ml[1088,33727+30]..[1088,33727+39])
                          Psig_type Rec
                          [
                            type_declaration "lace" (testsuite/tests/typing-modules/functors.ml[1088,33727+35]..[1088,33727+39]) (testsuite/tests/typing-modules/functors.ml[1088,33727+30]..[1088,33727+39])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_expr (testsuite/tests/typing-modules/functors.ml[1089,33772+2]..[1090,33817+15])
                      Pmod_functor "R" (testsuite/tests/typing-modules/functors.ml[1089,33772+3]..[1089,33772+4])
                      module_type (testsuite/tests/typing-modules/functors.ml[1089,33772+6]..[1089,33772+43])
                        Pmty_signature
                        [
                          signature_item (testsuite/tests/typing-modules/functors.ml[1089,33772+10]..[1089,33772+19])
                            Psig_type Rec
                            [
                              type_declaration "upon" (testsuite/tests/typing-modules/functors.ml[1089,33772+15]..[1089,33772+19]) (testsuite/tests/typing-modules/functors.ml[1089,33772+10]..[1089,33772+19])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                          signature_item (testsuite/tests/typing-modules/functors.ml[1089,33772+20]..[1089,33772+28])
                            Psig_type Rec
                            [
                              type_declaration "the" (testsuite/tests/typing-modules/functors.ml[1089,33772+25]..[1089,33772+28]) (testsuite/tests/typing-modules/functors.ml[1089,33772+20]..[1089,33772+28])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                          signature_item (testsuite/tests/typing-modules/functors.ml[1089,33772+29]..[1089,33772+39])
                            Psig_type Rec
                            [
                              type_declaration "heart" (testsuite/tests/typing-modules/functors.ml[1089,33772+34]..[1089,33772+39]) (testsuite/tests/typing-modules/functors.ml[1089,33772+29]..[1089,33772+39])
                                ptype_params =
                                  []
                                ptype_cstrs =
                                  []
                                ptype_kind =
                                  Ptype_abstract
                                ptype_private = Public
                                ptype_manifest =
                                  None
                            ]
                        ]
                      module_expr (testsuite/tests/typing-modules/functors.ml[1090,33817+5]..[1090,33817+15])
                        Pmod_structure
                        []
        module_type (testsuite/tests/typing-modules/functors.ml[1082,33334+10]..[1082,33334+11])
          Pmty_ident "s" (testsuite/tests/typing-modules/functors.ml[1082,33334+10]..[1082,33334+11])
  structure_item (testsuite/tests/typing-modules/functors.ml[1091,33833+0]..[1223,37780+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1091,33833+10]..[1223,37780+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1091,33833+10]..[1223,37780+2])
          Pexp_constant PConst_string ("\nmodule type s =\n  functor\n    (X : sig\n           type when_\n           type shall\n           type we\n           type three\n           type meet\n           type again\n         end)\n    (Y : sig type in_ val thunder : in_ val lightning : in_ type rain end)\n    (Z : sig type when_ type the type hurlyburly's type done_ end)\n    (Z : sig\n           type when_\n           type the\n           type battle's\n           type lost\n           type and_\n           type won\n         end)\n    (W : sig\n           type that\n           type will\n           type be\n           type ere\n           type the_\n           type set\n           type of_\n           type sun\n         end)\n    (S : sig type where type the type place end)\n    (R : sig type upon type the type heath end) -> sig end\nLines 11-18, characters 2-15:\n11 | ..(X: sig type when_ type shall type we type tree type meet type again end)\n12 |   (Y:sig type in_ val thunder:in_ val lightning: in_ type pain end)\n13 |   (Z:sig type when_ type the type hurlyburly's type gone  end)\n14 |   (Z:sig type when_ type the type battle's type last type and_ type won end)\n15 |   (W:sig type that type will type be type the type era type set type of_ type sun end)\n16 |   (S: sig type where type the type lace end)\n17 |   (R: sig type upon type the type heart end)\n18 |   -> struct end\nError: Signature mismatch:\n       Modules do not match:\n         functor (X : $S1) (Y : $S2) (Z : $S3) (Z : $S4) (W : $S5) (S : $S6)\n         (R : $S7) -> ...\n       is not included in\n         functor (X : $T1) (Y : $T2) (Z : $T3) (Z : $T4) (W : $T5) (S : $T6)\n         (R : $T7) -> ...\n       1. Module types do not match:\n            $S1 =\n            sig\n              type when_\n              type shall\n              type we\n              type tree\n              type meet\n              type again\n            end\n          does not include\n            $T1 =\n            sig\n              type when_\n              type shall\n              type we\n              type three\n              type meet\n              type again\n            end\n          The type `tree' is required but not provided\n       2. Module types do not match:\n            $S2 =\n            sig type in_ val thunder : in_ val lightning : in_ type pain end\n          does not include\n            $T2 =\n            sig type in_ val thunder : in_ val lightning : in_ type rain end\n       3. Module types do not match:\n            $S3 = sig type when_ type the type hurlyburly's type gone end\n          does not include\n            $T3 = sig type when_ type the type hurlyburly's type done_ end\n       4. Module types do not match:\n            $S4 =\n            sig\n              type when_\n              type the\n              type battle's\n              type last\n              type and_\n              type won\n            end\n          does not include\n            $T4 =\n            sig\n              type when_\n              type the\n              type battle's\n              type lost\n              type and_\n              type won\n            end\n       5. Module types do not match:\n            $S5 =\n            sig\n              type that\n              type will\n              type be\n              type the\n              type era\n              type set\n              type of_\n              type sun\n            end\n          does not include\n            $T5 =\n            sig\n              type that\n              type will\n              type be\n              type ere\n              type the_\n              type set\n              type of_\n              type sun\n            end\n       6. Module types do not match:\n            $S6 = sig type where type the type lace end\n          does not include\n            $T6 = sig type where type the type place end\n       7. Module types do not match:\n            $S7 = sig type upon type the type heart end\n          does not include\n            $T7 = sig type upon type the type heath end\n",(testsuite/tests/typing-modules/functors.ml[1091,33833+12]..[1223,37780+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1226,37786+0]..[1226,37786+32])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1226,37786+0]..[1226,37786+32])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1226,37786+0]..[1226,37786+32])
          Pexp_constant PConst_string(" Abstract module type woes ",(testsuite/tests/typing-modules/functors.ml[1226,37786+0]..[1226,37786+32]),None)
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1229,37821+0]..[1229,37821+63])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[1229,37821+7]..[1229,37821+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1229,37821+8]..[1229,37821+63])
        Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[1229,37821+9]..[1229,37821+10])
        module_type (testsuite/tests/typing-modules/functors.ml[1229,37821+11]..[1229,37821+56])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[1229,37821+15]..[1229,37821+27])
              Psig_type Rec
              [
                type_declaration "witness" (testsuite/tests/typing-modules/functors.ml[1229,37821+20]..[1229,37821+27]) (testsuite/tests/typing-modules/functors.ml[1229,37821+15]..[1229,37821+27])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
            signature_item (testsuite/tests/typing-modules/functors.ml[1229,37821+28]..[1229,37821+41])
              Psig_modtype "t" (testsuite/tests/typing-modules/functors.ml[1229,37821+40]..[1229,37821+41])
              #abstract            signature_item (testsuite/tests/typing-modules/functors.ml[1229,37821+42]..[1229,37821+52])
              Psig_module "M" (testsuite/tests/typing-modules/functors.ml[1229,37821+49]..[1229,37821+50])
              module_type (testsuite/tests/typing-modules/functors.ml[1229,37821+51]..[1229,37821+52])
                Pmty_ident "t" (testsuite/tests/typing-modules/functors.ml[1229,37821+51]..[1229,37821+52])
          ]
        module_expr (testsuite/tests/typing-modules/functors.ml[1229,37821+60]..[1229,37821+63])
          Pmod_ident "X.M" (testsuite/tests/typing-modules/functors.ml[1229,37821+60]..[1229,37821+63])
  structure_item (testsuite/tests/typing-modules/functors.ml[1231,37886+0]..[1235,37970+3])
    Pstr_module
    "PF" (testsuite/tests/typing-modules/functors.ml[1231,37886+7]..[1231,37886+9])
      module_expr (testsuite/tests/typing-modules/functors.ml[1231,37886+12]..[1235,37970+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1232,37905+2]..[1232,37905+14])
            Pstr_type Rec
            [
              type_declaration "witness" (testsuite/tests/typing-modules/functors.ml[1232,37905+7]..[1232,37905+14]) (testsuite/tests/typing-modules/functors.ml[1232,37905+2]..[1232,37905+14])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
          structure_item (testsuite/tests/typing-modules/functors.ml[1233,37920+2]..[1233,37920+34])
            Pstr_modtype "t" (testsuite/tests/typing-modules/functors.ml[1233,37920+14]..[1233,37920+15])
              module_type (testsuite/tests/typing-modules/functors.ml[1233,37920+18]..[1233,37920+34])
                Pmty_typeof
                module_expr (testsuite/tests/typing-modules/functors.ml[1233,37920+33]..[1233,37920+34])
                  Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[1233,37920+33]..[1233,37920+34])
          structure_item (testsuite/tests/typing-modules/functors.ml[1234,37955+2]..[1234,37955+14])
            Pstr_module
            "M" (testsuite/tests/typing-modules/functors.ml[1234,37955+9]..[1234,37955+10])
              module_expr (testsuite/tests/typing-modules/functors.ml[1234,37955+13]..[1234,37955+14])
                Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[1234,37955+13]..[1234,37955+14])
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1237,37975+0]..[1237,37975+24])
    Pstr_module
    "U" (testsuite/tests/typing-modules/functors.ml[1237,37975+7]..[1237,37975+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1237,37975+11]..[1237,37975+24])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[1237,37975+11]..[1237,37975+20])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[1237,37975+11]..[1237,37975+16])
            Pmod_apply
            module_expr (testsuite/tests/typing-modules/functors.ml[1237,37975+11]..[1237,37975+12])
              Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[1237,37975+11]..[1237,37975+12])
            module_expr (testsuite/tests/typing-modules/functors.ml[1237,37975+13]..[1237,37975+15])
              Pmod_ident "PF" (testsuite/tests/typing-modules/functors.ml[1237,37975+13]..[1237,37975+15])
          module_expr (testsuite/tests/typing-modules/functors.ml[1237,37975+17]..[1237,37975+19])
            Pmod_ident "PF" (testsuite/tests/typing-modules/functors.ml[1237,37975+17]..[1237,37975+19])
        module_expr (testsuite/tests/typing-modules/functors.ml[1237,37975+21]..[1237,37975+23])
          Pmod_ident "PF" (testsuite/tests/typing-modules/functors.ml[1237,37975+21]..[1237,37975+23])
  structure_item (testsuite/tests/typing-modules/functors.ml[1238,38000+0]..[1249,38264+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1238,38000+10]..[1249,38264+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1238,38000+10]..[1249,38264+2])
          Pexp_constant PConst_string ("\nmodule F :\n  functor (X : sig type witness module type t module M : t end) -> X.t\nmodule PF :\n  sig\n    type witness\n    module type t =\n      functor (X : sig type witness module type t module M : t end) -> X.t\n    module M = F\n  end\nmodule U : PF.t\n",(testsuite/tests/typing-modules/functors.ml[1238,38000+12]..[1249,38264+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1251,38269+0]..[1251,38269+35])
    Pstr_module
    "W" (testsuite/tests/typing-modules/functors.ml[1251,38269+7]..[1251,38269+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+11]..[1251,38269+35])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+11]..[1251,38269+32])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+11]..[1251,38269+28])
            Pmod_apply
            module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+11]..[1251,38269+24])
              Pmod_apply
              module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+11]..[1251,38269+20])
                Pmod_apply
                module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+11]..[1251,38269+16])
                  Pmod_apply
                  module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+11]..[1251,38269+12])
                    Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[1251,38269+11]..[1251,38269+12])
                  module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+13]..[1251,38269+15])
                    Pmod_ident "PF" (testsuite/tests/typing-modules/functors.ml[1251,38269+13]..[1251,38269+15])
                module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+17]..[1251,38269+19])
                  Pmod_ident "PF" (testsuite/tests/typing-modules/functors.ml[1251,38269+17]..[1251,38269+19])
              module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+21]..[1251,38269+23])
                Pmod_ident "PF" (testsuite/tests/typing-modules/functors.ml[1251,38269+21]..[1251,38269+23])
            module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+25]..[1251,38269+27])
              Pmod_ident "PF" (testsuite/tests/typing-modules/functors.ml[1251,38269+25]..[1251,38269+27])
          module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+29]..[1251,38269+31])
            Pmod_ident "PF" (testsuite/tests/typing-modules/functors.ml[1251,38269+29]..[1251,38269+31])
        module_expr (testsuite/tests/typing-modules/functors.ml[1251,38269+33]..[1251,38269+34])
          Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[1251,38269+33]..[1251,38269+34])
  structure_item (testsuite/tests/typing-modules/functors.ml[1252,38305+0]..[1279,39402+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1252,38305+10]..[1279,39402+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1252,38305+10]..[1279,39402+2])
          Pexp_constant PConst_string ("\nLine 1, characters 11-35:\n1 | module W = F(PF)(PF)(PF)(PF)(PF)(F)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         PF PF PF PF PF F\n       do not match these parameters:\n         functor (X : ...) (X : ...) (X : ...) (X : ...) (X : ...) (X : $T6)\n         -> ...\n       1. Module PF matches the expected module type\n       2. Module PF matches the expected module type\n       3. Module PF matches the expected module type\n       4. Module PF matches the expected module type\n       5. Module PF matches the expected module type\n       6. Modules do not match:\n            F :\n            functor (X : sig type witness module type t module M : t end) ->\n              X.t\n          is not included in\n            $T6 = sig type witness module type t module M : t end\n          Modules do not match:\n            functor (X : $S1) -> ...\n          is not included in\n            functor  -> ...\n          An extra argument is provided of module type\n              $S1 = sig type witness module type t module M : t end\n",(testsuite/tests/typing-modules/functors.ml[1252,38305+12]..[1279,39402+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1282,39432+0]..[1282,39432+34])
    Pstr_modtype "arg" (testsuite/tests/typing-modules/functors.ml[1282,39432+12]..[1282,39432+15])
      attribute "ocaml.doc"
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1281,39407+0]..[1281,39407+24])
            Pstr_eval
            expression (testsuite/tests/typing-modules/functors.ml[1281,39407+0]..[1281,39407+24])
              Pexp_constant PConst_string(" Divergent arities ",(testsuite/tests/typing-modules/functors.ml[1281,39407+0]..[1281,39407+24]),None)
        ]
      module_type (testsuite/tests/typing-modules/functors.ml[1282,39432+18]..[1282,39432+34])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/functors.ml[1282,39432+22]..[1282,39432+30])
            Psig_type Rec
            [
              type_declaration "arg" (testsuite/tests/typing-modules/functors.ml[1282,39432+27]..[1282,39432+30]) (testsuite/tests/typing-modules/functors.ml[1282,39432+22]..[1282,39432+30])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1283,39467+0]..[1283,39467+30])
    Pstr_module
    "A" (testsuite/tests/typing-modules/functors.ml[1283,39467+7]..[1283,39467+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1283,39467+11]..[1283,39467+30])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1283,39467+18]..[1283,39467+26])
            Pstr_type Rec
            [
              type_declaration "arg" (testsuite/tests/typing-modules/functors.ml[1283,39467+23]..[1283,39467+26]) (testsuite/tests/typing-modules/functors.ml[1283,39467+18]..[1283,39467+26])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1285,39499+0]..[1288,39581+3])
    Pstr_module
    "Add_one'" (testsuite/tests/typing-modules/functors.ml[1285,39499+7]..[1285,39499+15])
      module_expr (testsuite/tests/typing-modules/functors.ml[1285,39499+18]..[1288,39581+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1286,39524+2]..[1286,39524+21])
            Pstr_module
            "M" (testsuite/tests/typing-modules/functors.ml[1286,39524+9]..[1286,39524+10])
              module_expr (testsuite/tests/typing-modules/functors.ml[1286,39524+10]..[1286,39524+21])
                Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1286,39524+11]..[1286,39524+12])
                module_type (testsuite/tests/typing-modules/functors.ml[1286,39524+13]..[1286,39524+16])
                  Pmty_ident "arg" (testsuite/tests/typing-modules/functors.ml[1286,39524+13]..[1286,39524+16])
                module_expr (testsuite/tests/typing-modules/functors.ml[1286,39524+20]..[1286,39524+21])
                  Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1286,39524+20]..[1286,39524+21])
          structure_item (testsuite/tests/typing-modules/functors.ml[1287,39546+2]..[1287,39546+34])
            Pstr_modtype "t" (testsuite/tests/typing-modules/functors.ml[1287,39546+14]..[1287,39546+15])
              module_type (testsuite/tests/typing-modules/functors.ml[1287,39546+18]..[1287,39546+34])
                Pmty_typeof
                module_expr (testsuite/tests/typing-modules/functors.ml[1287,39546+33]..[1287,39546+34])
                  Pmod_ident "M" (testsuite/tests/typing-modules/functors.ml[1287,39546+33]..[1287,39546+34])
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1290,39586+0]..[1290,39586+57])
    Pstr_module
    "Add_one" (testsuite/tests/typing-modules/functors.ml[1290,39586+7]..[1290,39586+14])
      module_expr (testsuite/tests/typing-modules/functors.ml[1290,39586+17]..[1290,39586+57])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1290,39586+24]..[1290,39586+36])
            Pstr_type Rec
            [
              type_declaration "witness" (testsuite/tests/typing-modules/functors.ml[1290,39586+29]..[1290,39586+36]) (testsuite/tests/typing-modules/functors.ml[1290,39586+24]..[1290,39586+36])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
          structure_item (testsuite/tests/typing-modules/functors.ml[1290,39586+37]..[1290,39586+53])
            Pstr_include            module_expr (testsuite/tests/typing-modules/functors.ml[1290,39586+45]..[1290,39586+53])
              Pmod_ident "Add_one'" (testsuite/tests/typing-modules/functors.ml[1290,39586+45]..[1290,39586+53])
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1292,39645+0]..[1295,39743+3])
    Pstr_module
    "Add_three'" (testsuite/tests/typing-modules/functors.ml[1292,39645+7]..[1292,39645+17])
      module_expr (testsuite/tests/typing-modules/functors.ml[1292,39645+20]..[1295,39743+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1293,39672+2]..[1293,39672+35])
            Pstr_module
            "M" (testsuite/tests/typing-modules/functors.ml[1293,39672+9]..[1293,39672+10])
              module_expr (testsuite/tests/typing-modules/functors.ml[1293,39672+10]..[1293,39672+35])
                Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1293,39672+11]..[1293,39672+12])
                module_type (testsuite/tests/typing-modules/functors.ml[1293,39672+13]..[1293,39672+16])
                  Pmty_ident "arg" (testsuite/tests/typing-modules/functors.ml[1293,39672+13]..[1293,39672+16])
                module_expr (testsuite/tests/typing-modules/functors.ml[1293,39672+17]..[1293,39672+35])
                  Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1293,39672+18]..[1293,39672+19])
                  module_type (testsuite/tests/typing-modules/functors.ml[1293,39672+20]..[1293,39672+23])
                    Pmty_ident "arg" (testsuite/tests/typing-modules/functors.ml[1293,39672+20]..[1293,39672+23])
                  module_expr (testsuite/tests/typing-modules/functors.ml[1293,39672+24]..[1293,39672+35])
                    Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1293,39672+25]..[1293,39672+26])
                    module_type (testsuite/tests/typing-modules/functors.ml[1293,39672+27]..[1293,39672+30])
                      Pmty_ident "arg" (testsuite/tests/typing-modules/functors.ml[1293,39672+27]..[1293,39672+30])
                    module_expr (testsuite/tests/typing-modules/functors.ml[1293,39672+34]..[1293,39672+35])
                      Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1293,39672+34]..[1293,39672+35])
          structure_item (testsuite/tests/typing-modules/functors.ml[1294,39708+2]..[1294,39708+34])
            Pstr_modtype "t" (testsuite/tests/typing-modules/functors.ml[1294,39708+14]..[1294,39708+15])
              module_type (testsuite/tests/typing-modules/functors.ml[1294,39708+18]..[1294,39708+34])
                Pmty_typeof
                module_expr (testsuite/tests/typing-modules/functors.ml[1294,39708+33]..[1294,39708+34])
                  Pmod_ident "M" (testsuite/tests/typing-modules/functors.ml[1294,39708+33]..[1294,39708+34])
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1297,39748+0]..[1300,39810+3])
    Pstr_module
    "Add_three" (testsuite/tests/typing-modules/functors.ml[1297,39748+7]..[1297,39748+16])
      module_expr (testsuite/tests/typing-modules/functors.ml[1297,39748+19]..[1300,39810+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1298,39774+2]..[1298,39774+20])
            Pstr_include            module_expr (testsuite/tests/typing-modules/functors.ml[1298,39774+10]..[1298,39774+20])
              Pmod_ident "Add_three'" (testsuite/tests/typing-modules/functors.ml[1298,39774+10]..[1298,39774+20])
          structure_item (testsuite/tests/typing-modules/functors.ml[1299,39795+2]..[1299,39795+14])
            Pstr_type Rec
            [
              type_declaration "witness" (testsuite/tests/typing-modules/functors.ml[1299,39795+7]..[1299,39795+14]) (testsuite/tests/typing-modules/functors.ml[1299,39795+2]..[1299,39795+14])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1303,39816+0]..[1303,39816+43])
    Pstr_module
    "Wrong_intro" (testsuite/tests/typing-modules/functors.ml[1303,39816+7]..[1303,39816+18])
      module_expr (testsuite/tests/typing-modules/functors.ml[1303,39816+21]..[1303,39816+43])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[1303,39816+21]..[1303,39816+40])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[1303,39816+21]..[1303,39816+37])
            Pmod_apply
            module_expr (testsuite/tests/typing-modules/functors.ml[1303,39816+21]..[1303,39816+34])
              Pmod_apply
              module_expr (testsuite/tests/typing-modules/functors.ml[1303,39816+21]..[1303,39816+22])
                Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[1303,39816+21]..[1303,39816+22])
              module_expr (testsuite/tests/typing-modules/functors.ml[1303,39816+23]..[1303,39816+33])
                Pmod_ident "Add_three'" (testsuite/tests/typing-modules/functors.ml[1303,39816+23]..[1303,39816+33])
            module_expr (testsuite/tests/typing-modules/functors.ml[1303,39816+35]..[1303,39816+36])
              Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1303,39816+35]..[1303,39816+36])
          module_expr (testsuite/tests/typing-modules/functors.ml[1303,39816+38]..[1303,39816+39])
            Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1303,39816+38]..[1303,39816+39])
        module_expr (testsuite/tests/typing-modules/functors.ml[1303,39816+41]..[1303,39816+42])
          Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1303,39816+41]..[1303,39816+42])
  structure_item (testsuite/tests/typing-modules/functors.ml[1304,39860+0]..[1349,41318+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1304,39860+10]..[1349,41318+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1304,39860+10]..[1349,41318+2])
          Pexp_constant PConst_string ("\nmodule type arg = sig type arg end\nmodule A : sig type arg end\nmodule Add_one' :\n  sig\n    module M : arg -> sig type arg = A.arg end\n    module type t = arg -> sig type arg = A.arg end\n  end\nmodule Add_one :\n  sig\n    type witness\n    module M = Add_one'.M\n    module type t = arg -> sig type arg = A.arg end\n  end\nmodule Add_three' :\n  sig\n    module M : arg -> arg -> arg -> sig type arg = A.arg end\n    module type t = arg -> arg -> arg -> sig type arg = A.arg end\n  end\nmodule Add_three :\n  sig\n    module M = Add_three'.M\n    module type t = arg -> arg -> arg -> sig type arg = A.arg end\n    type witness\n  end\nLine 22, characters 21-43:\n22 | module Wrong_intro = F(Add_three')(A)(A)(A)\n                          ^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         Add_three' A A A\n       do not match these parameters:\n         functor (X : $T1) arg arg arg -> ...\n       1. Modules do not match:\n            Add_three' :\n            sig\n              module M = Add_three'.M\n              module type t = arg -> arg -> arg -> sig type arg = A.arg end\n            end\n          is not included in\n            $T1 = sig type witness module type t module M : t end\n          The type `witness' is required but not provided\n       2. Module A matches the expected module type arg\n       3. Module A matches the expected module type arg\n       4. Module A matches the expected module type arg\n",(testsuite/tests/typing-modules/functors.ml[1304,39860+12]..[1349,41318+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1351,41323+0]..[1351,41323+51])
    Pstr_module
    "Choose_one" (testsuite/tests/typing-modules/functors.ml[1351,41323+7]..[1351,41323+17])
      module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+20]..[1351,41323+51])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+20]..[1351,41323+48])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+20]..[1351,41323+45])
            Pmod_apply
            module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+20]..[1351,41323+42])
              Pmod_apply
              module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+20]..[1351,41323+31])
                Pmod_apply
                module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+20]..[1351,41323+21])
                  Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[1351,41323+20]..[1351,41323+21])
                module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+22]..[1351,41323+30])
                  Pmod_ident "Add_one'" (testsuite/tests/typing-modules/functors.ml[1351,41323+22]..[1351,41323+30])
              module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+32]..[1351,41323+41])
                Pmod_ident "Add_three" (testsuite/tests/typing-modules/functors.ml[1351,41323+32]..[1351,41323+41])
            module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+43]..[1351,41323+44])
              Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1351,41323+43]..[1351,41323+44])
          module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+46]..[1351,41323+47])
            Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1351,41323+46]..[1351,41323+47])
        module_expr (testsuite/tests/typing-modules/functors.ml[1351,41323+49]..[1351,41323+50])
          Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1351,41323+49]..[1351,41323+50])
  structure_item (testsuite/tests/typing-modules/functors.ml[1352,41375+0]..[1371,42155+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1352,41375+10]..[1371,42155+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1352,41375+10]..[1371,42155+2])
          Pexp_constant PConst_string ("\nLine 1, characters 20-51:\n1 | module Choose_one = F(Add_one')(Add_three)(A)(A)(A)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         Add_one' Add_three A A A\n       do not match these parameters:\n         functor (X : ...) arg arg arg -> ...\n       1. The following extra argument is provided\n              Add_one' :\n              sig\n                module M = Add_one'.M\n                module type t = arg -> sig type arg = A.arg end\n              end\n       2. Module Add_three matches the expected module type\n       3. Module A matches the expected module type arg\n       4. Module A matches the expected module type arg\n       5. Module A matches the expected module type arg\n",(testsuite/tests/typing-modules/functors.ml[1352,41375+12]..[1371,42155+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1376,42250+0]..[1376,42250+58])
    Pstr_module
    "Mislead_chosen_one" (testsuite/tests/typing-modules/functors.ml[1376,42250+7]..[1376,42250+25])
      attribute "ocaml.doc"
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1373,42160+0]..[1375,42246+3])
            Pstr_eval
            expression (testsuite/tests/typing-modules/functors.ml[1373,42160+0]..[1375,42246+3])
              Pexp_constant PConst_string(" Known lmitation: we choose the wrong environment without the\n    error on Add_one\n*",(testsuite/tests/typing-modules/functors.ml[1373,42160+0]..[1375,42246+3]),None)
        ]
      module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+28]..[1376,42250+58])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+28]..[1376,42250+55])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+28]..[1376,42250+52])
            Pmod_apply
            module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+28]..[1376,42250+49])
              Pmod_apply
              module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+28]..[1376,42250+38])
                Pmod_apply
                module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+28]..[1376,42250+29])
                  Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[1376,42250+28]..[1376,42250+29])
                module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+30]..[1376,42250+37])
                  Pmod_ident "Add_one" (testsuite/tests/typing-modules/functors.ml[1376,42250+30]..[1376,42250+37])
              module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+39]..[1376,42250+48])
                Pmod_ident "Add_three" (testsuite/tests/typing-modules/functors.ml[1376,42250+39]..[1376,42250+48])
            module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+50]..[1376,42250+51])
              Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1376,42250+50]..[1376,42250+51])
          module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+53]..[1376,42250+54])
            Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1376,42250+53]..[1376,42250+54])
        module_expr (testsuite/tests/typing-modules/functors.ml[1376,42250+56]..[1376,42250+57])
          Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1376,42250+56]..[1376,42250+57])
  structure_item (testsuite/tests/typing-modules/functors.ml[1377,42309+0]..[1397,43148+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1377,42309+10]..[1397,43148+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1377,42309+10]..[1397,43148+2])
          Pexp_constant PConst_string ("\nLine 1, characters 28-58:\n1 | module Mislead_chosen_one = F(Add_one)(Add_three)(A)(A)(A)\n                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         Add_one Add_three A A A\n       do not match these parameters:\n         functor (X : ...) arg arg arg -> ...\n       1. The following extra argument is provided\n              Add_one :\n              sig\n                type witness = Add_one.witness\n                module M = Add_one'.M\n                module type t = arg -> sig type arg = A.arg end\n              end\n       2. Module Add_three matches the expected module type\n       3. Module A matches the expected module type arg\n       4. Module A matches the expected module type arg\n       5. Module A matches the expected module type arg\n",(testsuite/tests/typing-modules/functors.ml[1377,42309+12]..[1397,43148+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1404,43158+0]..[1404,43158+37])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1404,43158+0]..[1404,43158+37])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1404,43158+0]..[1404,43158+37])
          Pexp_constant PConst_string(" Hide your arity from the world ",(testsuite/tests/typing-modules/functors.ml[1404,43158+0]..[1404,43158+37]),None)
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1406,43197+0]..[1419,43524+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[1406,43197+7]..[1406,43197+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1406,43197+8]..[1419,43524+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[1417,43455+2]..[1419,43524+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[1418,43464+2]..[1418,43464+59])
              Pstr_module
              "F" (testsuite/tests/typing-modules/functors.ml[1418,43464+9]..[1418,43464+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[1418,43464+10]..[1418,43464+59])
                  Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[1418,43464+11]..[1418,43464+12])
                  module_type (testsuite/tests/typing-modules/functors.ml[1418,43464+13]..[1418,43464+27])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[1418,43464+17]..[1418,43464+23])
                        Psig_type Rec
                        [
                          type_declaration "x" (testsuite/tests/typing-modules/functors.ml[1418,43464+22]..[1418,43464+23]) (testsuite/tests/typing-modules/functors.ml[1418,43464+17]..[1418,43464+23])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_expr (testsuite/tests/typing-modules/functors.ml[1418,43464+28]..[1418,43464+59])
                    Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[1418,43464+29]..[1418,43464+30])
                    module_type (testsuite/tests/typing-modules/functors.ml[1418,43464+31]..[1418,43464+45])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[1418,43464+35]..[1418,43464+41])
                          Psig_type Rec
                          [
                            type_declaration "z" (testsuite/tests/typing-modules/functors.ml[1418,43464+40]..[1418,43464+41]) (testsuite/tests/typing-modules/functors.ml[1418,43464+35]..[1418,43464+41])
                              ptype_params =
                                []
                              ptype_cstrs =
                                []
                              ptype_kind =
                                Ptype_abstract
                              ptype_private = Public
                              ptype_manifest =
                                None
                          ]
                      ]
                    module_expr (testsuite/tests/typing-modules/functors.ml[1418,43464+49]..[1418,43464+59])
                      Pmod_structure
                      []
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[1406,43197+10]..[1416,43451+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[1407,43211+2]..[1415,43426+24])
              Psig_module "F" (testsuite/tests/typing-modules/functors.ml[1407,43211+9]..[1407,43211+10])
              module_type (testsuite/tests/typing-modules/functors.ml[1408,43223+12]..[1415,43426+24])
                Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[1408,43223+13]..[1408,43223+14])
                module_type (testsuite/tests/typing-modules/functors.ml[1408,43223+15]..[1415,43426+16])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[1409,43242+15]..[1409,43242+21])
                      Psig_type Rec
                      [
                        type_declaration "x" (testsuite/tests/typing-modules/functors.ml[1409,43242+20]..[1409,43242+21]) (testsuite/tests/typing-modules/functors.ml[1409,43242+15]..[1409,43242+21])
                          ptype_params =
                            []
                          ptype_cstrs =
                            []
                          ptype_kind =
                            Ptype_abstract
                          ptype_private = Public
                          ptype_manifest =
                            None
                      ]
                    signature_item (testsuite/tests/typing-modules/functors.ml[1410,43264+15]..[1414,43396+29])
                      Psig_modtype "t" (testsuite/tests/typing-modules/functors.ml[1410,43264+27]..[1410,43264+28])
                        module_type (testsuite/tests/typing-modules/functors.ml[1412,43320+19]..[1414,43396+29])
                          Pmty_functor "Y" (testsuite/tests/typing-modules/functors.ml[1412,43320+20]..[1412,43320+21])
                          module_type (testsuite/tests/typing-modules/functors.ml[1412,43320+22]..[1412,43320+36])
                            Pmty_signature
                            [
                              signature_item (testsuite/tests/typing-modules/functors.ml[1412,43320+26]..[1412,43320+32])
                                Psig_type Rec
                                [
                                  type_declaration "y" (testsuite/tests/typing-modules/functors.ml[1412,43320+31]..[1412,43320+32]) (testsuite/tests/typing-modules/functors.ml[1412,43320+26]..[1412,43320+32])
                                    ptype_params =
                                      []
                                    ptype_cstrs =
                                      []
                                    ptype_kind =
                                      Ptype_abstract
                                    ptype_private = Public
                                    ptype_manifest =
                                      None
                                ]
                            ]
                          module_type (testsuite/tests/typing-modules/functors.ml[1413,43358+19]..[1414,43396+29])
                            Pmty_functor "Z" (testsuite/tests/typing-modules/functors.ml[1413,43358+20]..[1413,43358+21])
                            module_type (testsuite/tests/typing-modules/functors.ml[1413,43358+22]..[1413,43358+36])
                              Pmty_signature
                              [
                                signature_item (testsuite/tests/typing-modules/functors.ml[1413,43358+26]..[1413,43358+32])
                                  Psig_type Rec
                                  [
                                    type_declaration "z" (testsuite/tests/typing-modules/functors.ml[1413,43358+31]..[1413,43358+32]) (testsuite/tests/typing-modules/functors.ml[1413,43358+26]..[1413,43358+32])
                                      ptype_params =
                                        []
                                      ptype_cstrs =
                                        []
                                      ptype_kind =
                                        Ptype_abstract
                                      ptype_private = Public
                                      ptype_manifest =
                                        None
                                  ]
                              ]
                            module_type (testsuite/tests/typing-modules/functors.ml[1414,43396+22]..[1414,43396+29])
                              Pmty_signature
                              []
                  ]
                module_type (testsuite/tests/typing-modules/functors.ml[1415,43426+21]..[1415,43426+24])
                  Pmty_ident "X.t" (testsuite/tests/typing-modules/functors.ml[1415,43426+21]..[1415,43426+24])
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1420,43528+0]..[1452,44531+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1420,43528+10]..[1452,44531+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1420,43528+10]..[1452,44531+2])
          Pexp_constant PConst_string ("\nLines 14-16, characters 2-3:\n14 | ..struct\n15 |   module F(X:sig type x end)(Z:sig type z end) = struct end\n16 | end\nError: Signature mismatch:\n       Modules do not match:\n         sig\n           module F :\n             functor (X : sig type x end) (Z : sig type z end) -> sig end\n         end\n       is not included in\n         sig\n           module F :\n             functor\n               (X : sig\n                      type x\n                      module type t =\n                        functor (Y : sig type y end) (Z : sig type z end) ->\n                          sig end\n                    end)\n               -> X.t\n         end\n       In module F:\n       Modules do not match:\n         functor (X : $S1) (Z : $S3) -> ...\n       is not included in\n         functor (X : $T1) (Y : $T2) (Z : $T3) -> ...\n       1. Module types $S1 and $T1 match\n       2. An argument appears to be missing with module type\n              $T2 = sig type y end\n       3. Module types $S3 and $T3 match\n",(testsuite/tests/typing-modules/functors.ml[1420,43528+12]..[1452,44531+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1455,44537+0]..[1468,44817+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[1455,44537+7]..[1455,44537+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1455,44537+8]..[1468,44817+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[1462,44680+6]..[1468,44817+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[1463,44693+2]..[1467,44790+26])
              Pstr_module
              "F" (testsuite/tests/typing-modules/functors.ml[1463,44693+9]..[1463,44693+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[1463,44693+11]..[1467,44790+26])
                  Pmod_functor "Wrong" (testsuite/tests/typing-modules/functors.ml[1463,44693+12]..[1463,44693+17])
                  module_type (testsuite/tests/typing-modules/functors.ml[1463,44693+19]..[1463,44693+37])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[1463,44693+23]..[1463,44693+33])
                        Psig_type Rec
                        [
                          type_declaration "wrong" (testsuite/tests/typing-modules/functors.ml[1463,44693+28]..[1463,44693+33]) (testsuite/tests/typing-modules/functors.ml[1463,44693+23]..[1463,44693+33])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_expr (testsuite/tests/typing-modules/functors.ml[1464,44732+6]..[1467,44790+26])
                    Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[1464,44732+7]..[1464,44732+8])
                    module_type (testsuite/tests/typing-modules/functors.ml[1464,44732+10]..[1467,44790+10])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[1465,44746+9]..[1465,44746+22])
                          Psig_modtype "t" (testsuite/tests/typing-modules/functors.ml[1465,44746+21]..[1465,44746+22])
                          #abstract                        signature_item (testsuite/tests/typing-modules/functors.ml[1466,44769+9]..[1466,44769+20])
                          Psig_module "M" (testsuite/tests/typing-modules/functors.ml[1466,44769+16]..[1466,44769+17])
                          module_type (testsuite/tests/typing-modules/functors.ml[1466,44769+19]..[1466,44769+20])
                            Pmty_ident "t" (testsuite/tests/typing-modules/functors.ml[1466,44769+19]..[1466,44769+20])
                      ]
                    module_expr (testsuite/tests/typing-modules/functors.ml[1467,44790+15]..[1467,44790+26])
                      Pmod_constraint
                      module_expr (testsuite/tests/typing-modules/functors.ml[1467,44790+16]..[1467,44790+19])
                        Pmod_ident "X.M" (testsuite/tests/typing-modules/functors.ml[1467,44790+16]..[1467,44790+19])
                      module_type (testsuite/tests/typing-modules/functors.ml[1467,44790+22]..[1467,44790+25])
                        Pmty_ident "X.t" (testsuite/tests/typing-modules/functors.ml[1467,44790+22]..[1467,44790+25])
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[1455,44537+10]..[1462,44680+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[1456,44551+2]..[1461,44649+30])
              Psig_module "F" (testsuite/tests/typing-modules/functors.ml[1456,44551+9]..[1456,44551+10])
              module_type (testsuite/tests/typing-modules/functors.ml[1456,44551+10]..[1461,44649+30])
                Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[1456,44551+11]..[1456,44551+12])
                module_type (testsuite/tests/typing-modules/functors.ml[1456,44551+14]..[1460,44641+7])
                  Pmty_signature
                  [
                    signature_item (testsuite/tests/typing-modules/functors.ml[1457,44569+6]..[1457,44569+19])
                      Psig_modtype "T" (testsuite/tests/typing-modules/functors.ml[1457,44569+18]..[1457,44569+19])
                      #abstract                    signature_item (testsuite/tests/typing-modules/functors.ml[1458,44589+6]..[1458,44589+33])
                      Psig_modtype "t" (testsuite/tests/typing-modules/functors.ml[1458,44589+18]..[1458,44589+19])
                        module_type (testsuite/tests/typing-modules/functors.ml[1458,44589+22]..[1458,44589+33])
                          Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                          module_type (testsuite/tests/typing-modules/functors.ml[1458,44589+22]..[1458,44589+23])
                            Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1458,44589+22]..[1458,44589+23])
                          module_type (testsuite/tests/typing-modules/functors.ml[1458,44589+27]..[1458,44589+33])
                            Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                            module_type (testsuite/tests/typing-modules/functors.ml[1458,44589+27]..[1458,44589+28])
                              Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1458,44589+27]..[1458,44589+28])
                            module_type (testsuite/tests/typing-modules/functors.ml[1458,44589+32]..[1458,44589+33])
                              Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1458,44589+32]..[1458,44589+33])
                    signature_item (testsuite/tests/typing-modules/functors.ml[1459,44623+6]..[1459,44623+17])
                      Psig_module "M" (testsuite/tests/typing-modules/functors.ml[1459,44623+13]..[1459,44623+14])
                      module_type (testsuite/tests/typing-modules/functors.ml[1459,44623+16]..[1459,44623+17])
                        Pmty_ident "t" (testsuite/tests/typing-modules/functors.ml[1459,44623+16]..[1459,44623+17])
                  ]
                module_type (testsuite/tests/typing-modules/functors.ml[1461,44649+11]..[1461,44649+30])
                  Pmty_functor "_" (testsuite/tests/typing-modules/functors.ml[1461,44649+12]..[1461,44649+13])
                  module_type (testsuite/tests/typing-modules/functors.ml[1461,44649+14]..[1461,44649+17])
                    Pmty_ident "X.T" (testsuite/tests/typing-modules/functors.ml[1461,44649+14]..[1461,44649+17])
                  module_type (testsuite/tests/typing-modules/functors.ml[1461,44649+18]..[1461,44649+30])
                    Pmty_functor "_" (testsuite/tests/typing-modules/functors.ml[1461,44649+19]..[1461,44649+20])
                    module_type (testsuite/tests/typing-modules/functors.ml[1461,44649+21]..[1461,44649+24])
                      Pmty_ident "X.T" (testsuite/tests/typing-modules/functors.ml[1461,44649+21]..[1461,44649+24])
                    module_type (testsuite/tests/typing-modules/functors.ml[1461,44649+27]..[1461,44649+30])
                      Pmty_ident "X.T" (testsuite/tests/typing-modules/functors.ml[1461,44649+27]..[1461,44649+30])
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1469,44821+0]..[1506,45954+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1469,44821+10]..[1506,45954+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1469,44821+10]..[1506,45954+2])
          Pexp_constant PConst_string ("\nLines 8-14, characters 6-3:\n 8 | ......struct\n 9 |   module F (Wrong: sig type wrong end)\n10 |       (X: sig\n11 |          module type t\n12 |          module M: t\n13 |        end)  = (X.M : X.t)\n14 | end\nError: Signature mismatch:\n       Modules do not match:\n         sig\n           module F :\n             functor (Wrong : sig type wrong end)\n               (X : sig module type t module M : t end) -> X.t\n         end\n       is not included in\n         sig\n           module F :\n             functor\n               (X : sig\n                      module type T\n                      module type t = T -> T -> T\n                      module M : t\n                    end)\n               -> X.T -> X.T -> X.T\n         end\n       In module F:\n       Modules do not match:\n         functor (Wrong : $S1) (X : $S2) X.T X.T -> ...\n       is not included in\n         functor (X : $T2) X.T X.T -> ...\n       1. An extra argument is provided of module type\n              $S1 = sig type wrong end\n       2. Module types $S2 and $T2 match\n       3. Module types X/3.T and X/2.T match\n       4. Module types X/3.T and X/2.T match\n",(testsuite/tests/typing-modules/functors.ml[1469,44821+12]..[1506,45954+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1509,45960+0]..[1529,46539+3])
    Pstr_module
    "M" (testsuite/tests/typing-modules/functors.ml[1509,45960+7]..[1509,45960+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1509,45960+8]..[1529,46539+3])
        Pmod_constraint
        module_expr (testsuite/tests/typing-modules/functors.ml[1525,46405+6]..[1529,46539+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-modules/functors.ml[1526,46418+2]..[1528,46491+47])
              Pstr_module
              "F" (testsuite/tests/typing-modules/functors.ml[1526,46418+9]..[1526,46418+10])
                module_expr (testsuite/tests/typing-modules/functors.ml[1526,46418+10]..[1528,46491+47])
                  Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1526,46418+11]..[1526,46418+12])
                  module_type (testsuite/tests/typing-modules/functors.ml[1526,46418+13]..[1526,46418+31])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[1526,46418+17]..[1526,46418+27])
                        Psig_type Rec
                        [
                          type_declaration "wrong" (testsuite/tests/typing-modules/functors.ml[1526,46418+22]..[1526,46418+27]) (testsuite/tests/typing-modules/functors.ml[1526,46418+17]..[1526,46418+27])
                            ptype_params =
                              []
                            ptype_cstrs =
                              []
                            ptype_kind =
                              Ptype_abstract
                            ptype_private = Public
                            ptype_manifest =
                              None
                        ]
                    ]
                  module_expr (testsuite/tests/typing-modules/functors.ml[1526,46418+33]..[1528,46491+47])
                    Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[1526,46418+34]..[1526,46418+35])
                    module_type (testsuite/tests/typing-modules/functors.ml[1527,46455+13]..[1527,46455+35])
                      Pmty_signature
                      [
                        signature_item (testsuite/tests/typing-modules/functors.ml[1527,46455+18]..[1527,46455+31])
                          Psig_modtype "T" (testsuite/tests/typing-modules/functors.ml[1527,46455+30]..[1527,46455+31])
                          #abstract                      ]
                    module_expr (testsuite/tests/typing-modules/functors.ml[1528,46491+11]..[1528,46491+47])
                      Pmod_functor "Res" (testsuite/tests/typing-modules/functors.ml[1528,46491+12]..[1528,46491+15])
                      module_type (testsuite/tests/typing-modules/functors.ml[1528,46491+17]..[1528,46491+20])
                        Pmty_ident "X.T" (testsuite/tests/typing-modules/functors.ml[1528,46491+17]..[1528,46491+20])
                      module_expr (testsuite/tests/typing-modules/functors.ml[1528,46491+21]..[1528,46491+47])
                        Pmod_functor "Res" (testsuite/tests/typing-modules/functors.ml[1528,46491+22]..[1528,46491+25])
                        module_type (testsuite/tests/typing-modules/functors.ml[1528,46491+27]..[1528,46491+30])
                          Pmty_ident "X.T" (testsuite/tests/typing-modules/functors.ml[1528,46491+27]..[1528,46491+30])
                        module_expr (testsuite/tests/typing-modules/functors.ml[1528,46491+31]..[1528,46491+47])
                          Pmod_functor "Res" (testsuite/tests/typing-modules/functors.ml[1528,46491+32]..[1528,46491+35])
                          module_type (testsuite/tests/typing-modules/functors.ml[1528,46491+37]..[1528,46491+40])
                            Pmty_ident "X.T" (testsuite/tests/typing-modules/functors.ml[1528,46491+37]..[1528,46491+40])
                          module_expr (testsuite/tests/typing-modules/functors.ml[1528,46491+44]..[1528,46491+47])
                            Pmod_ident "Res" (testsuite/tests/typing-modules/functors.ml[1528,46491+44]..[1528,46491+47])
          ]
        module_type (testsuite/tests/typing-modules/functors.ml[1509,45960+10]..[1525,46405+3])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[1510,45974+2]..[1524,46381+23])
              Psig_module "F" (testsuite/tests/typing-modules/functors.ml[1510,45974+9]..[1510,45974+10])
              module_type (testsuite/tests/typing-modules/functors.ml[1510,45974+10]..[1524,46381+23])
                Pmty_functor "_" (testsuite/tests/typing-modules/functors.ml[1510,45974+11]..[1510,45974+12])
                module_type (testsuite/tests/typing-modules/functors.ml[1510,45974+13]..[1510,45974+20])
                  Pmty_signature
                  []
                module_type (testsuite/tests/typing-modules/functors.ml[1510,45974+21]..[1524,46381+23])
                  Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[1510,45974+22]..[1510,45974+23])
                  module_type (testsuite/tests/typing-modules/functors.ml[1511,45999+11]..[1523,46364+14])
                    Pmty_signature
                    [
                      signature_item (testsuite/tests/typing-modules/functors.ml[1512,46014+13]..[1512,46014+26])
                        Psig_modtype "T" (testsuite/tests/typing-modules/functors.ml[1512,46014+25]..[1512,46014+26])
                        #abstract                      signature_item (testsuite/tests/typing-modules/functors.ml[1513,46041+13]..[1516,46134+16])
                        Psig_modtype "inner" (testsuite/tests/typing-modules/functors.ml[1513,46041+25]..[1513,46041+30])
                          module_type (testsuite/tests/typing-modules/functors.ml[1513,46041+33]..[1516,46134+16])
                            Pmty_signature
                            [
                              signature_item (testsuite/tests/typing-modules/functors.ml[1514,46078+15]..[1514,46078+28])
                                Psig_modtype "t" (testsuite/tests/typing-modules/functors.ml[1514,46078+27]..[1514,46078+28])
                                #abstract                              signature_item (testsuite/tests/typing-modules/functors.ml[1515,46107+15]..[1515,46107+26])
                                Psig_module "M" (testsuite/tests/typing-modules/functors.ml[1515,46107+22]..[1515,46107+23])
                                module_type (testsuite/tests/typing-modules/functors.ml[1515,46107+25]..[1515,46107+26])
                                  Pmty_ident "t" (testsuite/tests/typing-modules/functors.ml[1515,46107+25]..[1515,46107+26])
                            ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1517,46151+13]..[1518,46197+42])
                        Psig_module "F" (testsuite/tests/typing-modules/functors.ml[1517,46151+20]..[1517,46151+21])
                        module_type (testsuite/tests/typing-modules/functors.ml[1517,46151+21]..[1518,46197+42])
                          Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[1517,46151+22]..[1517,46151+23])
                          module_type (testsuite/tests/typing-modules/functors.ml[1517,46151+25]..[1517,46151+30])
                            Pmty_ident "inner" (testsuite/tests/typing-modules/functors.ml[1517,46151+25]..[1517,46151+30])
                          module_type (testsuite/tests/typing-modules/functors.ml[1517,46151+31]..[1518,46197+42])
                            Pmty_functor "_" (testsuite/tests/typing-modules/functors.ml[1517,46151+32]..[1517,46151+33])
                            module_type (testsuite/tests/typing-modules/functors.ml[1517,46151+34]..[1517,46151+43])
                              Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                              module_type (testsuite/tests/typing-modules/functors.ml[1517,46151+34]..[1517,46151+35])
                                Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1517,46151+34]..[1517,46151+35])
                              module_type (testsuite/tests/typing-modules/functors.ml[1517,46151+39]..[1517,46151+43])
                                Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                                module_type (testsuite/tests/typing-modules/functors.ml[1517,46151+39]..[1517,46151+40])
                                  Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1517,46151+39]..[1517,46151+40])
                                module_type (testsuite/tests/typing-modules/functors.ml[1517,46151+42]..[1517,46151+43])
                                  Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1517,46151+42]..[1517,46151+43])
                            module_type (testsuite/tests/typing-modules/functors.ml[1518,46197+13]..[1518,46197+42])
                              Pmty_signature
                              [
                                signature_item (testsuite/tests/typing-modules/functors.ml[1518,46197+17]..[1518,46197+38])
                                  Psig_modtype "res" (testsuite/tests/typing-modules/functors.ml[1518,46197+29]..[1518,46197+32])
                                    module_type (testsuite/tests/typing-modules/functors.ml[1518,46197+35]..[1518,46197+38])
                                      Pmty_ident "X.t" (testsuite/tests/typing-modules/functors.ml[1518,46197+35]..[1518,46197+38])
                              ]
                      signature_item (testsuite/tests/typing-modules/functors.ml[1519,46240+13]..[1522,46347+16])
                        Psig_module "Y" (testsuite/tests/typing-modules/functors.ml[1519,46240+20]..[1519,46240+21])
                        module_type (testsuite/tests/typing-modules/functors.ml[1519,46240+23]..[1522,46347+16])
                          Pmty_signature
                          [
                            signature_item (testsuite/tests/typing-modules/functors.ml[1520,46267+15]..[1520,46267+42])
                              Psig_modtype "t" (testsuite/tests/typing-modules/functors.ml[1520,46267+27]..[1520,46267+28])
                                module_type (testsuite/tests/typing-modules/functors.ml[1520,46267+31]..[1520,46267+42])
                                  Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                                  module_type (testsuite/tests/typing-modules/functors.ml[1520,46267+31]..[1520,46267+32])
                                    Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1520,46267+31]..[1520,46267+32])
                                  module_type (testsuite/tests/typing-modules/functors.ml[1520,46267+36]..[1520,46267+42])
                                    Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                                    module_type (testsuite/tests/typing-modules/functors.ml[1520,46267+36]..[1520,46267+37])
                                      Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1520,46267+36]..[1520,46267+37])
                                    module_type (testsuite/tests/typing-modules/functors.ml[1520,46267+41]..[1520,46267+42])
                                      Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1520,46267+41]..[1520,46267+42])
                            signature_item (testsuite/tests/typing-modules/functors.ml[1521,46310+15]..[1521,46310+36])
                              Psig_module "M" (testsuite/tests/typing-modules/functors.ml[1521,46310+22]..[1521,46310+23])
                              module_type (testsuite/tests/typing-modules/functors.ml[1521,46310+23]..[1521,46310+36])
                                Pmty_functor "X" (testsuite/tests/typing-modules/functors.ml[1521,46310+24]..[1521,46310+25])
                                module_type (testsuite/tests/typing-modules/functors.ml[1521,46310+26]..[1521,46310+27])
                                  Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1521,46310+26]..[1521,46310+27])
                                module_type (testsuite/tests/typing-modules/functors.ml[1521,46310+28]..[1521,46310+36])
                                  Pmty_functor "Y" (testsuite/tests/typing-modules/functors.ml[1521,46310+29]..[1521,46310+30])
                                  module_type (testsuite/tests/typing-modules/functors.ml[1521,46310+31]..[1521,46310+32])
                                    Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1521,46310+31]..[1521,46310+32])
                                  module_type (testsuite/tests/typing-modules/functors.ml[1521,46310+35]..[1521,46310+36])
                                    Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1521,46310+35]..[1521,46310+36])
                          ]
                    ]
                  module_type (testsuite/tests/typing-modules/functors.ml[1524,46381+4]..[1524,46381+23])
                    Pmty_ident "X.F(X.Y)(X.Y.M).res" (testsuite/tests/typing-modules/functors.ml[1524,46381+4]..[1524,46381+23])
          ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1530,46543+0]..[1581,48333+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1530,46543+10]..[1581,48333+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1530,46543+10]..[1581,48333+2])
          Pexp_constant PConst_string ("\nLines 17-21, characters 6-3:\n17 | ......struct\n18 |   module F(_:sig type wrong end) (X:\n19 |              sig  module type T end\n20 |           )(Res: X.T)(Res: X.T)(Res: X.T) = Res\n21 | end\nError: Signature mismatch:\n       Modules do not match:\n         sig\n           module F :\n             sig type wrong end ->\n               functor (X : sig module type T end) (Res : X.T) (Res :\n                 X.T) (Res : X.T)\n               -> X.T\n         end\n       is not included in\n         sig\n           module F :\n             sig end ->\n               functor\n                 (X : sig\n                        module type T\n                        module type inner =\n                          sig module type t module M : t end\n                        module F :\n                          functor (X : inner) -> (T -> T -> T) ->\n                            sig module type res = X.t end\n                        module Y :\n                          sig\n                            module type t = T -> T -> T\n                            module M : functor (X : T) (Y : T) -> T\n                          end\n                      end)\n               -> X.F(X.Y)(X.Y.M).res\n         end\n       In module F:\n       Modules do not match:\n         functor (Arg : $S1) (X : $S2) (Res : X.T) (Res : X.T) (Res :\n         X.T) -> ...\n       is not included in\n         functor (sig end) (X : $T2) X.T X.T -> ...\n       1. Module types do not match:\n            $S1 = sig type wrong end\n          does not include\n            sig end\n          The type `wrong' is required but not provided\n       2. Module types $S2 and $T2 match\n       3. An extra argument is provided of module type X/2.T\n       4. Module types X/2.T and X/2.T match\n       5. Module types X/2.T and X/2.T match\n",(testsuite/tests/typing-modules/functors.ml[1530,46543+12]..[1581,48333+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1584,48339+0]..[1584,48339+96])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1584,48339+0]..[1584,48339+96])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1584,48339+0]..[1584,48339+96])
          Pexp_constant PConst_string(" The price of Gluttony: gready update of environment leads to a non-optimal edit distance. ",(testsuite/tests/typing-modules/functors.ml[1584,48339+0]..[1584,48339+96]),None)
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1586,48437+0]..[1586,48437+97])
    Pstr_module
    "F" (testsuite/tests/typing-modules/functors.ml[1586,48437+7]..[1586,48437+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1586,48437+8]..[1586,48437+97])
        Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[1586,48437+9]..[1586,48437+10])
        module_type (testsuite/tests/typing-modules/functors.ml[1586,48437+11]..[1586,48437+25])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-modules/functors.ml[1586,48437+15]..[1586,48437+21])
              Psig_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-modules/functors.ml[1586,48437+20]..[1586,48437+21]) (testsuite/tests/typing-modules/functors.ml[1586,48437+15]..[1586,48437+21])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_expr (testsuite/tests/typing-modules/functors.ml[1586,48437+26]..[1586,48437+97])
          Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[1586,48437+27]..[1586,48437+28])
          module_type (testsuite/tests/typing-modules/functors.ml[1586,48437+29]..[1586,48437+54])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-modules/functors.ml[1586,48437+33]..[1586,48437+50])
                Psig_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-modules/functors.ml[1586,48437+38]..[1586,48437+39]) (testsuite/tests/typing-modules/functors.ml[1586,48437+33]..[1586,48437+50])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-modules/functors.ml[1586,48437+42]..[1586,48437+50])
                            "Y" (testsuite/tests/typing-modules/functors.ml[1586,48437+42]..[1586,48437+43])
                            [
                              core_type (testsuite/tests/typing-modules/functors.ml[1586,48437+47]..[1586,48437+50])
                                Ptyp_constr "X.t" (testsuite/tests/typing-modules/functors.ml[1586,48437+47]..[1586,48437+50])
                                []
                            ]
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
            ]
          module_expr (testsuite/tests/typing-modules/functors.ml[1586,48437+55]..[1586,48437+97])
            Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[1586,48437+56]..[1586,48437+57])
            module_type (testsuite/tests/typing-modules/functors.ml[1586,48437+58]..[1586,48437+83])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/functors.ml[1586,48437+62]..[1586,48437+79])
                  Psig_type Rec
                  [
                    type_declaration "t" (testsuite/tests/typing-modules/functors.ml[1586,48437+67]..[1586,48437+68]) (testsuite/tests/typing-modules/functors.ml[1586,48437+62]..[1586,48437+79])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_variant
                          [
                            (testsuite/tests/typing-modules/functors.ml[1586,48437+71]..[1586,48437+79])
                              "Z" (testsuite/tests/typing-modules/functors.ml[1586,48437+71]..[1586,48437+72])
                              [
                                core_type (testsuite/tests/typing-modules/functors.ml[1586,48437+76]..[1586,48437+79])
                                  Ptyp_constr "X.t" (testsuite/tests/typing-modules/functors.ml[1586,48437+76]..[1586,48437+79])
                                  []
                              ]
                              None
                          ]
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
              ]
            module_expr (testsuite/tests/typing-modules/functors.ml[1586,48437+87]..[1586,48437+97])
              Pmod_structure
              []
  structure_item (testsuite/tests/typing-modules/functors.ml[1588,48536+0]..[1588,48536+32])
    Pstr_module
    "X" (testsuite/tests/typing-modules/functors.ml[1588,48536+7]..[1588,48536+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1588,48536+11]..[1588,48536+32])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1588,48536+18]..[1588,48536+28])
            Pstr_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-modules/functors.ml[1588,48536+23]..[1588,48536+24]) (testsuite/tests/typing-modules/functors.ml[1588,48536+18]..[1588,48536+28])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_variant
                    [
                      (testsuite/tests/typing-modules/functors.ml[1588,48536+27]..[1588,48536+28])
                        "U" (testsuite/tests/typing-modules/functors.ml[1588,48536+27]..[1588,48536+28])
                        []
                        None
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1589,48569+0]..[1589,48569+39])
    Pstr_module
    "Y" (testsuite/tests/typing-modules/functors.ml[1589,48569+7]..[1589,48569+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1589,48569+11]..[1589,48569+39])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1589,48569+18]..[1589,48569+35])
            Pstr_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-modules/functors.ml[1589,48569+23]..[1589,48569+24]) (testsuite/tests/typing-modules/functors.ml[1589,48569+18]..[1589,48569+35])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_variant
                    [
                      (testsuite/tests/typing-modules/functors.ml[1589,48569+27]..[1589,48569+35])
                        "Y" (testsuite/tests/typing-modules/functors.ml[1589,48569+27]..[1589,48569+28])
                        [
                          core_type (testsuite/tests/typing-modules/functors.ml[1589,48569+32]..[1589,48569+35])
                            Ptyp_constr "int" (testsuite/tests/typing-modules/functors.ml[1589,48569+32]..[1589,48569+35])
                            []
                        ]
                        None
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1590,48609+0]..[1590,48609+39])
    Pstr_module
    "Z" (testsuite/tests/typing-modules/functors.ml[1590,48609+7]..[1590,48609+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1590,48609+11]..[1590,48609+39])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1590,48609+18]..[1590,48609+35])
            Pstr_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-modules/functors.ml[1590,48609+23]..[1590,48609+24]) (testsuite/tests/typing-modules/functors.ml[1590,48609+18]..[1590,48609+35])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_variant
                    [
                      (testsuite/tests/typing-modules/functors.ml[1590,48609+27]..[1590,48609+35])
                        "Z" (testsuite/tests/typing-modules/functors.ml[1590,48609+27]..[1590,48609+28])
                        [
                          core_type (testsuite/tests/typing-modules/functors.ml[1590,48609+32]..[1590,48609+35])
                            Ptyp_constr "int" (testsuite/tests/typing-modules/functors.ml[1590,48609+32]..[1590,48609+35])
                            []
                        ]
                        None
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1592,48650+0]..[1592,48650+48])
    Pstr_module
    "Error" (testsuite/tests/typing-modules/functors.ml[1592,48650+7]..[1592,48650+12])
      module_expr (testsuite/tests/typing-modules/functors.ml[1592,48650+13]..[1592,48650+48])
        Pmod_apply
        module_expr (testsuite/tests/typing-modules/functors.ml[1592,48650+13]..[1592,48650+45])
          Pmod_apply
          module_expr (testsuite/tests/typing-modules/functors.ml[1592,48650+13]..[1592,48650+42])
            Pmod_apply
            module_expr (testsuite/tests/typing-modules/functors.ml[1592,48650+13]..[1592,48650+17])
              Pmod_apply
              module_expr (testsuite/tests/typing-modules/functors.ml[1592,48650+13]..[1592,48650+14])
                Pmod_ident "F" (testsuite/tests/typing-modules/functors.ml[1592,48650+13]..[1592,48650+14])
              module_expr (testsuite/tests/typing-modules/functors.ml[1592,48650+15]..[1592,48650+16])
                Pmod_ident "X" (testsuite/tests/typing-modules/functors.ml[1592,48650+15]..[1592,48650+16])
            module_expr (testsuite/tests/typing-modules/functors.ml[1592,48650+18]..[1592,48650+41])
              Pmod_structure
              [
                structure_item (testsuite/tests/typing-modules/functors.ml[1592,48650+25]..[1592,48650+37])
                  Pstr_type Rec
                  [
                    type_declaration "t" (testsuite/tests/typing-modules/functors.ml[1592,48650+30]..[1592,48650+31]) (testsuite/tests/typing-modules/functors.ml[1592,48650+25]..[1592,48650+37])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        Some
                          core_type (testsuite/tests/typing-modules/functors.ml[1592,48650+34]..[1592,48650+37])
                            Ptyp_constr "int" (testsuite/tests/typing-modules/functors.ml[1592,48650+34]..[1592,48650+37])
                            []
                  ]
              ]
          module_expr (testsuite/tests/typing-modules/functors.ml[1592,48650+43]..[1592,48650+44])
            Pmod_ident "Y" (testsuite/tests/typing-modules/functors.ml[1592,48650+43]..[1592,48650+44])
        module_expr (testsuite/tests/typing-modules/functors.ml[1592,48650+46]..[1592,48650+47])
          Pmod_ident "Z" (testsuite/tests/typing-modules/functors.ml[1592,48650+46]..[1592,48650+47])
  structure_item (testsuite/tests/typing-modules/functors.ml[1593,48699+0]..[1636,50285+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1593,48699+10]..[1636,50285+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1593,48699+10]..[1636,50285+2])
          Pexp_constant PConst_string ("\nmodule F :\n  functor (X : sig type t end) (Y : sig type t = Y of X.t end)\n    (Z : sig type t = Z of X.t end) -> sig end\nmodule X : sig type t = U end\nmodule Y : sig type t = Y of int end\nmodule Z : sig type t = Z of int end\nLine 9, characters 13-48:\n9 | module Error=F(X)(struct type t = int end)(Y)(Z)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application is ill-typed.\n       These arguments:\n         X ... Y Z\n       do not match these parameters:\n         functor (X : ...) (Y : $T3) (Z : $T4) -> ...\n       1. Module X matches the expected module type\n       2. The following extra argument is provided ... : sig type t = int end\n       3. Modules do not match:\n            Y : sig type t = Y.t = Y of int end\n          is not included in\n            $T3 = sig type t = Y of X/2.t end\n          Type declarations do not match:\n            type t = Y.t = Y of int\n          is not included in\n            type t = Y of X.t\n          Constructors do not match:\n            Y of int\n          is not the same as:\n            Y of X.t\n          The type int is not equal to the type X.t\n       4. Modules do not match:\n            Z : sig type t = Z.t = Z of int end\n          is not included in\n            $T4 = sig type t = Z of X/2.t end\n          Type declarations do not match:\n            type t = Z.t = Z of int\n          is not included in\n            type t = Z of X.t\n          Constructors do not match:\n            Z of int\n          is not the same as:\n            Z of X.t\n          The type int is not equal to the type X.t\n",(testsuite/tests/typing-modules/functors.ml[1593,48699+12]..[1636,50285+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1638,50290+0]..[1641,50443+2])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1638,50290+0]..[1641,50443+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1638,50290+0]..[1641,50443+2])
          Pexp_constant PConst_string(" Final state in the presence of extensions\n    Test provided by Leo White in\n    https://github.com/ocaml/ocaml/pull/9331#pullrequestreview-492359720\n",(testsuite/tests/typing-modules/functors.ml[1638,50290+0]..[1641,50443+2]),None)
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1643,50447+0]..[1643,50447+30])
    Pstr_modtype "A" (testsuite/tests/typing-modules/functors.ml[1643,50447+12]..[1643,50447+13])
      module_type (testsuite/tests/typing-modules/functors.ml[1643,50447+16]..[1643,50447+30])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/functors.ml[1643,50447+20]..[1643,50447+26])
            Psig_type Rec
            [
              type_declaration "a" (testsuite/tests/typing-modules/functors.ml[1643,50447+25]..[1643,50447+26]) (testsuite/tests/typing-modules/functors.ml[1643,50447+20]..[1643,50447+26])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1644,50478+0]..[1644,50478+28])
    Pstr_module
    "A" (testsuite/tests/typing-modules/functors.ml[1644,50478+7]..[1644,50478+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1644,50478+11]..[1644,50478+28])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1644,50478+18]..[1644,50478+24])
            Pstr_type Rec
            [
              type_declaration "a" (testsuite/tests/typing-modules/functors.ml[1644,50478+23]..[1644,50478+24]) (testsuite/tests/typing-modules/functors.ml[1644,50478+18]..[1644,50478+24])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1645,50507+0]..[1645,50507+30])
    Pstr_modtype "B" (testsuite/tests/typing-modules/functors.ml[1645,50507+12]..[1645,50507+13])
      module_type (testsuite/tests/typing-modules/functors.ml[1645,50507+16]..[1645,50507+30])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/functors.ml[1645,50507+20]..[1645,50507+26])
            Psig_type Rec
            [
              type_declaration "b" (testsuite/tests/typing-modules/functors.ml[1645,50507+25]..[1645,50507+26]) (testsuite/tests/typing-modules/functors.ml[1645,50507+20]..[1645,50507+26])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1646,50538+0]..[1646,50538+28])
    Pstr_module
    "B" (testsuite/tests/typing-modules/functors.ml[1646,50538+7]..[1646,50538+8])
      module_expr (testsuite/tests/typing-modules/functors.ml[1646,50538+11]..[1646,50538+28])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1646,50538+18]..[1646,50538+24])
            Pstr_type Rec
            [
              type_declaration "b" (testsuite/tests/typing-modules/functors.ml[1646,50538+23]..[1646,50538+24]) (testsuite/tests/typing-modules/functors.ml[1646,50538+18]..[1646,50538+24])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1648,50568+0]..[1648,50568+31])
    Pstr_modtype "ty" (testsuite/tests/typing-modules/functors.ml[1648,50568+12]..[1648,50568+14])
      module_type (testsuite/tests/typing-modules/functors.ml[1648,50568+17]..[1648,50568+31])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/functors.ml[1648,50568+21]..[1648,50568+27])
            Psig_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-modules/functors.ml[1648,50568+26]..[1648,50568+27]) (testsuite/tests/typing-modules/functors.ml[1648,50568+21]..[1648,50568+27])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1649,50600+0]..[1649,50600+29])
    Pstr_module
    "TY" (testsuite/tests/typing-modules/functors.ml[1649,50600+7]..[1649,50600+9])
      module_expr (testsuite/tests/typing-modules/functors.ml[1649,50600+12]..[1649,50600+29])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1649,50600+19]..[1649,50600+25])
            Pstr_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-modules/functors.ml[1649,50600+24]..[1649,50600+25]) (testsuite/tests/typing-modules/functors.ml[1649,50600+19]..[1649,50600+25])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1651,50631+0]..[1651,50631+52])
    Pstr_modtype "Ext" (testsuite/tests/typing-modules/functors.ml[1651,50631+12]..[1651,50631+15])
      module_type (testsuite/tests/typing-modules/functors.ml[1651,50631+18]..[1651,50631+52])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/functors.ml[1651,50631+22]..[1651,50631+35])
            Psig_modtype "T" (testsuite/tests/typing-modules/functors.ml[1651,50631+34]..[1651,50631+35])
            #abstract          signature_item (testsuite/tests/typing-modules/functors.ml[1651,50631+36]..[1651,50631+48])
            Psig_module "X" (testsuite/tests/typing-modules/functors.ml[1651,50631+43]..[1651,50631+44])
            module_type (testsuite/tests/typing-modules/functors.ml[1651,50631+47]..[1651,50631+48])
              Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1651,50631+47]..[1651,50631+48])
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1653,50685+0]..[1653,50685+55])
    Pstr_module
    "AExt" (testsuite/tests/typing-modules/functors.ml[1653,50685+7]..[1653,50685+11])
      module_expr (testsuite/tests/typing-modules/functors.ml[1653,50685+14]..[1653,50685+55])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1653,50685+21]..[1653,50685+38])
            Pstr_modtype "T" (testsuite/tests/typing-modules/functors.ml[1653,50685+33]..[1653,50685+34])
              module_type (testsuite/tests/typing-modules/functors.ml[1653,50685+37]..[1653,50685+38])
                Pmty_ident "A" (testsuite/tests/typing-modules/functors.ml[1653,50685+37]..[1653,50685+38])
          structure_item (testsuite/tests/typing-modules/functors.ml[1653,50685+39]..[1653,50685+51])
            Pstr_module
            "X" (testsuite/tests/typing-modules/functors.ml[1653,50685+46]..[1653,50685+47])
              module_expr (testsuite/tests/typing-modules/functors.ml[1653,50685+50]..[1653,50685+51])
                Pmod_ident "A" (testsuite/tests/typing-modules/functors.ml[1653,50685+50]..[1653,50685+51])
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1654,50741+0]..[1658,50913+3])
    Pstr_module
    "FiveArgsExt" (testsuite/tests/typing-modules/functors.ml[1654,50741+7]..[1654,50741+18])
      module_expr (testsuite/tests/typing-modules/functors.ml[1654,50741+21]..[1658,50913+3])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-modules/functors.ml[1655,50769+2]..[1655,50769+55])
            Pstr_modtype "T" (testsuite/tests/typing-modules/functors.ml[1655,50769+14]..[1655,50769+15])
              module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+18]..[1655,50769+55])
                Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+18]..[1655,50769+20])
                  Pmty_ident "ty" (testsuite/tests/typing-modules/functors.ml[1655,50769+18]..[1655,50769+20])
                module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+24]..[1655,50769+55])
                  Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                  module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+24]..[1655,50769+26])
                    Pmty_ident "ty" (testsuite/tests/typing-modules/functors.ml[1655,50769+24]..[1655,50769+26])
                  module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+30]..[1655,50769+55])
                    Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                    module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+30]..[1655,50769+32])
                      Pmty_ident "ty" (testsuite/tests/typing-modules/functors.ml[1655,50769+30]..[1655,50769+32])
                    module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+36]..[1655,50769+55])
                      Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                      module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+36]..[1655,50769+38])
                        Pmty_ident "ty" (testsuite/tests/typing-modules/functors.ml[1655,50769+36]..[1655,50769+38])
                      module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+42]..[1655,50769+55])
                        Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                        module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+42]..[1655,50769+44])
                          Pmty_ident "ty" (testsuite/tests/typing-modules/functors.ml[1655,50769+42]..[1655,50769+44])
                        module_type (testsuite/tests/typing-modules/functors.ml[1655,50769+48]..[1655,50769+55])
                          Pmty_signature
                          []
          structure_item (testsuite/tests/typing-modules/functors.ml[1656,50825+2]..[1657,50842+70])
            Pstr_module
            "X" (testsuite/tests/typing-modules/functors.ml[1656,50825+9]..[1656,50825+10])
              module_expr (testsuite/tests/typing-modules/functors.ml[1656,50825+11]..[1657,50842+70])
                Pmod_constraint
                module_expr (testsuite/tests/typing-modules/functors.ml[1657,50842+12]..[1657,50842+70])
                  Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1657,50842+13]..[1657,50842+14])
                  module_type (testsuite/tests/typing-modules/functors.ml[1657,50842+17]..[1657,50842+19])
                    Pmty_ident "ty" (testsuite/tests/typing-modules/functors.ml[1657,50842+17]..[1657,50842+19])
                  module_expr (testsuite/tests/typing-modules/functors.ml[1657,50842+21]..[1657,50842+70])
                    Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1657,50842+22]..[1657,50842+23])
                    module_type (testsuite/tests/typing-modules/functors.ml[1657,50842+26]..[1657,50842+28])
                      Pmty_ident "ty" (testsuite/tests/typing-modules/functors.ml[1657,50842+26]..[1657,50842+28])
                    module_expr (testsuite/tests/typing-modules/functors.ml[1657,50842+30]..[1657,50842+70])
                      Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1657,50842+31]..[1657,50842+32])
                      module_type (testsuite/tests/typing-modules/functors.ml[1657,50842+35]..[1657,50842+37])
                        Pmty_ident "ty" (testsuite/tests/typing-modules/functors.ml[1657,50842+35]..[1657,50842+37])
                      module_expr (testsuite/tests/typing-modules/functors.ml[1657,50842+39]..[1657,50842+70])
                        Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1657,50842+40]..[1657,50842+41])
                        module_type (testsuite/tests/typing-modules/functors.ml[1657,50842+44]..[1657,50842+46])
                          Pmty_ident "ty" (testsuite/tests/typing-modules/functors.ml[1657,50842+44]..[1657,50842+46])
                        module_expr (testsuite/tests/typing-modules/functors.ml[1657,50842+48]..[1657,50842+70])
                          Pmod_functor "_" (testsuite/tests/typing-modules/functors.ml[1657,50842+49]..[1657,50842+50])
                          module_type (testsuite/tests/typing-modules/functors.ml[1657,50842+53]..[1657,50842+55])
                            Pmty_ident "ty" (testsuite/tests/typing-modules/functors.ml[1657,50842+53]..[1657,50842+55])
                          module_expr (testsuite/tests/typing-modules/functors.ml[1657,50842+60]..[1657,50842+70])
                            Pmod_structure
                            []
                module_type (testsuite/tests/typing-modules/functors.ml[1656,50825+13]..[1656,50825+14])
                  Pmty_ident "T" (testsuite/tests/typing-modules/functors.ml[1656,50825+13]..[1656,50825+14])
        ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1660,50918+0]..[1660,50918+52])
    Pstr_module
    "Bar" (testsuite/tests/typing-modules/functors.ml[1660,50918+7]..[1660,50918+10])
      module_expr (testsuite/tests/typing-modules/functors.ml[1660,50918+11]..[1660,50918+52])
        Pmod_functor "W" (testsuite/tests/typing-modules/functors.ml[1660,50918+12]..[1660,50918+13])
        module_type (testsuite/tests/typing-modules/functors.ml[1660,50918+16]..[1660,50918+17])
          Pmty_ident "A" (testsuite/tests/typing-modules/functors.ml[1660,50918+16]..[1660,50918+17])
        module_expr (testsuite/tests/typing-modules/functors.ml[1660,50918+19]..[1660,50918+52])
          Pmod_functor "X" (testsuite/tests/typing-modules/functors.ml[1660,50918+20]..[1660,50918+21])
          module_type (testsuite/tests/typing-modules/functors.ml[1660,50918+24]..[1660,50918+27])
            Pmty_ident "Ext" (testsuite/tests/typing-modules/functors.ml[1660,50918+24]..[1660,50918+27])
          module_expr (testsuite/tests/typing-modules/functors.ml[1660,50918+29]..[1660,50918+52])
            Pmod_functor "Y" (testsuite/tests/typing-modules/functors.ml[1660,50918+30]..[1660,50918+31])
            module_type (testsuite/tests/typing-modules/functors.ml[1660,50918+34]..[1660,50918+35])
              Pmty_ident "B" (testsuite/tests/typing-modules/functors.ml[1660,50918+34]..[1660,50918+35])
            module_expr (testsuite/tests/typing-modules/functors.ml[1660,50918+37]..[1660,50918+52])
              Pmod_functor "Z" (testsuite/tests/typing-modules/functors.ml[1660,50918+38]..[1660,50918+39])
              module_type (testsuite/tests/typing-modules/functors.ml[1660,50918+42]..[1660,50918+45])
                Pmty_ident "Ext" (testsuite/tests/typing-modules/functors.ml[1660,50918+42]..[1660,50918+45])
              module_expr (testsuite/tests/typing-modules/functors.ml[1660,50918+49]..[1660,50918+52])
                Pmod_ident "Z.X" (testsuite/tests/typing-modules/functors.ml[1660,50918+49]..[1660,50918+52])
  structure_item (testsuite/tests/typing-modules/functors.ml[1662,50972+0]..[1662,50972+42])
    Pstr_type Rec
    [
      type_declaration "fine" (testsuite/tests/typing-modules/functors.ml[1662,50972+5]..[1662,50972+9]) (testsuite/tests/typing-modules/functors.ml[1662,50972+0]..[1662,50972+42])
        ptype_params =
          []
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-modules/functors.ml[1662,50972+12]..[1662,50972+42])
              Ptyp_constr "Bar(A)(FiveArgsExt)(B)(AExt).a" (testsuite/tests/typing-modules/functors.ml[1662,50972+12]..[1662,50972+42])
              []
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1663,51015+0]..[1676,51511+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1663,51015+9]..[1676,51511+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1663,51015+9]..[1676,51511+2])
          Pexp_constant PConst_string ("\nmodule type A = sig type a end\nmodule A : sig type a end\nmodule type B = sig type b end\nmodule B : sig type b end\nmodule type ty = sig type t end\nmodule TY : sig type t end\nmodule type Ext = sig module type T module X : T end\nmodule AExt : sig module type T = A module X = A end\nmodule FiveArgsExt :\n  sig module type T = ty -> ty -> ty -> ty -> ty -> sig end module X : T end\nmodule Bar : functor (W : A) (X : Ext) (Y : B) (Z : Ext) -> Z.T\ntype fine = Bar(A)(FiveArgsExt)(B)(AExt).a\n",(testsuite/tests/typing-modules/functors.ml[1663,51015+11]..[1676,51511+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1678,51516+0]..[1678,51516+45])
    Pstr_type Rec
    [
      type_declaration "broken1" (testsuite/tests/typing-modules/functors.ml[1678,51516+5]..[1678,51516+12]) (testsuite/tests/typing-modules/functors.ml[1678,51516+0]..[1678,51516+45])
        ptype_params =
          []
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-modules/functors.ml[1678,51516+15]..[1678,51516+45])
              Ptyp_constr "Bar(B)(FiveArgsExt)(B)(AExt).a" (testsuite/tests/typing-modules/functors.ml[1678,51516+15]..[1678,51516+45])
              []
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1679,51562+0]..[1696,52269+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1679,51562+9]..[1696,52269+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1679,51562+9]..[1696,52269+2])
          Pexp_constant PConst_string ("\nLine 1, characters 15-45:\n1 | type broken1 = Bar(B)(FiveArgsExt)(B)(AExt).a\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application Bar(B)(FiveArgsExt)(B)(AExt) is ill-typed.\n       These arguments:\n         B FiveArgsExt B AExt\n       do not match these parameters:\n         functor (W : A) (X : Ext) (Y : B) (Z : Ext) -> ...\n       1. Modules do not match:\n            B : sig type b = B.b end\n          is not included in\n            A\n          The type `a' is required but not provided\n       2. Module FiveArgsExt matches the expected module type Ext\n       3. Module B matches the expected module type B\n       4. Module AExt matches the expected module type Ext\n",(testsuite/tests/typing-modules/functors.ml[1679,51562+11]..[1696,52269+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1698,52274+0]..[1698,52274+56])
    Pstr_type Rec
    [
      type_declaration "broken2" (testsuite/tests/typing-modules/functors.ml[1698,52274+5]..[1698,52274+12]) (testsuite/tests/typing-modules/functors.ml[1698,52274+0]..[1698,52274+56])
        ptype_params =
          []
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-modules/functors.ml[1698,52274+15]..[1698,52274+56])
              Ptyp_constr "Bar(A)(FiveArgsExt)(TY)(TY)(TY)(TY)(TY).a" (testsuite/tests/typing-modules/functors.ml[1698,52274+15]..[1698,52274+56])
              []
    ]
  structure_item (testsuite/tests/typing-modules/functors.ml[1699,52331+0]..[1717,53279+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/functors.ml[1699,52331+9]..[1717,53279+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/functors.ml[1699,52331+9]..[1717,53279+2])
          Pexp_constant PConst_string ("\nLine 1, characters 15-56:\n1 | type broken2 = Bar(A)(FiveArgsExt)(TY)(TY)(TY)(TY)(TY).a\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: The functor application Bar(A)(FiveArgsExt)(TY)(TY)(TY)(TY)(TY) is ill-typed.\n       These arguments:\n         A FiveArgsExt TY TY TY TY TY\n       do not match these parameters:\n         functor (W : A) (X : Ext) (Y : B) (Z : Ext) ty ty ty ty ty -> ...\n       1. Module A matches the expected module type A\n       2. An argument appears to be missing with module type Ext\n       3. An argument appears to be missing with module type B\n       4. Module FiveArgsExt matches the expected module type Ext\n       5. Module TY matches the expected module type ty\n       6. Module TY matches the expected module type ty\n       7. Module TY matches the expected module type ty\n       8. Module TY matches the expected module type ty\n       9. Module TY matches the expected module type ty\n",(testsuite/tests/typing-modules/functors.ml[1699,52331+11]..[1717,53279+0]),Some "")
    ]
]

