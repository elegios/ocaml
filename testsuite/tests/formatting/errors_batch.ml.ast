[
  structure_item (testsuite/tests/formatting/errors_batch.ml[5,35+0]..[43,1289+42])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/formatting/errors_batch.ml[5,35+4]..[5,35+6])
          Ppat_construct "()" (testsuite/tests/formatting/errors_batch.ml[5,35+4]..[5,35+6])
          None
        expression (testsuite/tests/formatting/errors_batch.ml[6,44+2]..[43,1289+42])
          Pexp_open Fresh
          module_expr (testsuite/tests/formatting/errors_batch.ml[6,44+11]..[6,44+19])
            Pmod_ident "Location" (testsuite/tests/formatting/errors_batch.ml[6,44+11]..[6,44+19])
          expression (testsuite/tests/formatting/errors_batch.ml[8,114+2]..[43,1289+42])
            Pexp_let Nonrec
            [
              <def>
                pattern (testsuite/tests/formatting/errors_batch.ml[8,114+6]..[8,114+9])
                  Ppat_var "pos" (testsuite/tests/formatting/errors_batch.ml[8,114+6]..[8,114+9])
                expression (testsuite/tests/formatting/errors_batch.ml[8,114+12]..[13,219+3])
                  Pexp_open Fresh
                  module_expr (testsuite/tests/formatting/errors_batch.ml[8,114+12]..[8,114+18])
                    Pmod_ident "Lexing" (testsuite/tests/formatting/errors_batch.ml[8,114+12]..[8,114+18])
                  expression (testsuite/tests/formatting/errors_batch.ml[8,114+19]..[13,219+3])
                    Pexp_record
                    [
                      "pos_fname" (testsuite/tests/formatting/errors_batch.ml[9,135+4]..[9,135+13])
                        expression (testsuite/tests/formatting/errors_batch.ml[9,135+16]..[9,135+26])
                          Pexp_constant PConst_string("hello.ml",(testsuite/tests/formatting/errors_batch.ml[9,135+17]..[9,135+25]),None)
                      "pos_lnum" (testsuite/tests/formatting/errors_batch.ml[10,163+4]..[10,163+12])
                        expression (testsuite/tests/formatting/errors_batch.ml[10,163+15]..[10,163+17])
                          Pexp_constant PConst_int (18,None)
                      "pos_bol" (testsuite/tests/formatting/errors_batch.ml[11,182+4]..[11,182+11])
                        expression (testsuite/tests/formatting/errors_batch.ml[11,182+14]..[11,182+16])
                          Pexp_constant PConst_int (15,None)
                      "pos_cnum" (testsuite/tests/formatting/errors_batch.ml[12,200+4]..[12,200+12])
                        expression (testsuite/tests/formatting/errors_batch.ml[12,200+15]..[12,200+17])
                          Pexp_constant PConst_int (35,None)
                    ]
                    None
            ]
            expression (testsuite/tests/formatting/errors_batch.ml[14,226+2]..[43,1289+42])
              Pexp_let Nonrec
              [
                <def>
                  pattern (testsuite/tests/formatting/errors_batch.ml[14,226+6]..[14,226+10])
                    Ppat_var "loc1" (testsuite/tests/formatting/errors_batch.ml[14,226+6]..[14,226+10])
                  expression (testsuite/tests/formatting/errors_batch.ml[14,226+13]..[17,322+3])
                    Pexp_record
                    [
                      "loc_start" (testsuite/tests/formatting/errors_batch.ml[15,241+4]..[15,241+13])
                        expression (testsuite/tests/formatting/errors_batch.ml[15,241+16]..[15,241+19])
                          Pexp_ident "pos" (testsuite/tests/formatting/errors_batch.ml[15,241+16]..[15,241+19])
                      "loc_end" (testsuite/tests/formatting/errors_batch.ml[15,241+21]..[15,241+28])
                        expression (testsuite/tests/formatting/errors_batch.ml[15,241+31]..[15,241+57])
                          Pexp_record
                          [
                            "pos_cnum" (testsuite/tests/formatting/errors_batch.ml[15,241+42]..[15,241+50])
                              expression (testsuite/tests/formatting/errors_batch.ml[15,241+53]..[15,241+55])
                                Pexp_constant PConst_int (42,None)
                          ]
                          Some
                            expression (testsuite/tests/formatting/errors_batch.ml[15,241+33]..[15,241+36])
                              Pexp_ident "pos" (testsuite/tests/formatting/errors_batch.ml[15,241+33]..[15,241+36])
                      "loc_ghost" (testsuite/tests/formatting/errors_batch.ml[16,300+4]..[16,300+13])
                        expression (testsuite/tests/formatting/errors_batch.ml[16,300+16]..[16,300+21])
                          Pexp_construct "false" (testsuite/tests/formatting/errors_batch.ml[16,300+16]..[16,300+21])
                          None
                    ]
                    None
              ]
              expression (testsuite/tests/formatting/errors_batch.ml[18,329+2]..[43,1289+42])
                Pexp_let Nonrec
                [
                  <def>
                    pattern (testsuite/tests/formatting/errors_batch.ml[18,329+6]..[18,329+10])
                      Ppat_var "loc2" (testsuite/tests/formatting/errors_batch.ml[18,329+6]..[18,329+10])
                    expression (testsuite/tests/formatting/errors_batch.ml[18,329+13]..[22,506+3])
                      Pexp_record
                      [
                        "loc_start" (testsuite/tests/formatting/errors_batch.ml[19,344+4]..[19,344+13])
                          expression (testsuite/tests/formatting/errors_batch.ml[19,344+16]..[19,344+69])
                            Pexp_record
                            [
                              "pos_lnum" (testsuite/tests/formatting/errors_batch.ml[19,344+27]..[19,344+35])
                                expression (testsuite/tests/formatting/errors_batch.ml[19,344+38]..[19,344+40])
                                  Pexp_constant PConst_int (20,None)
                              "pos_bol" (testsuite/tests/formatting/errors_batch.ml[19,344+42]..[19,344+49])
                                expression (testsuite/tests/formatting/errors_batch.ml[19,344+52]..[19,344+53])
                                  Pexp_constant PConst_int (0,None)
                              "pos_cnum" (testsuite/tests/formatting/errors_batch.ml[19,344+55]..[19,344+63])
                                expression (testsuite/tests/formatting/errors_batch.ml[19,344+66]..[19,344+67])
                                  Pexp_constant PConst_int (4,None)
                            ]
                            Some
                              expression (testsuite/tests/formatting/errors_batch.ml[19,344+18]..[19,344+21])
                                Pexp_ident "pos" (testsuite/tests/formatting/errors_batch.ml[19,344+18]..[19,344+21])
                        "loc_end" (testsuite/tests/formatting/errors_batch.ml[20,415+4]..[20,415+11])
                          expression (testsuite/tests/formatting/errors_batch.ml[20,415+14]..[20,415+67])
                            Pexp_record
                            [
                              "pos_lnum" (testsuite/tests/formatting/errors_batch.ml[20,415+25]..[20,415+33])
                                expression (testsuite/tests/formatting/errors_batch.ml[20,415+36]..[20,415+38])
                                  Pexp_constant PConst_int (20,None)
                              "pos_bol" (testsuite/tests/formatting/errors_batch.ml[20,415+40]..[20,415+47])
                                expression (testsuite/tests/formatting/errors_batch.ml[20,415+50]..[20,415+51])
                                  Pexp_constant PConst_int (0,None)
                              "pos_cnum" (testsuite/tests/formatting/errors_batch.ml[20,415+53]..[20,415+61])
                                expression (testsuite/tests/formatting/errors_batch.ml[20,415+64]..[20,415+65])
                                  Pexp_constant PConst_int (8,None)
                            ]
                            Some
                              expression (testsuite/tests/formatting/errors_batch.ml[20,415+16]..[20,415+19])
                                Pexp_ident "pos" (testsuite/tests/formatting/errors_batch.ml[20,415+16]..[20,415+19])
                        "loc_ghost" (testsuite/tests/formatting/errors_batch.ml[21,484+4]..[21,484+13])
                          expression (testsuite/tests/formatting/errors_batch.ml[21,484+16]..[21,484+21])
                            Pexp_construct "false" (testsuite/tests/formatting/errors_batch.ml[21,484+16]..[21,484+21])
                            None
                      ]
                      None
                ]
                expression (testsuite/tests/formatting/errors_batch.ml[23,513+2]..[43,1289+42])
                  Pexp_let Nonrec
                  [
                    <def>
                      pattern (testsuite/tests/formatting/errors_batch.ml[23,513+6]..[23,513+10])
                        Ppat_var "loc3" (testsuite/tests/formatting/errors_batch.ml[23,513+6]..[23,513+10])
                      expression (testsuite/tests/formatting/errors_batch.ml[23,513+13]..[27,690+3])
                        Pexp_record
                        [
                          "loc_start" (testsuite/tests/formatting/errors_batch.ml[24,528+4]..[24,528+13])
                            expression (testsuite/tests/formatting/errors_batch.ml[24,528+16]..[24,528+69])
                              Pexp_record
                              [
                                "pos_lnum" (testsuite/tests/formatting/errors_batch.ml[24,528+27]..[24,528+35])
                                  expression (testsuite/tests/formatting/errors_batch.ml[24,528+38]..[24,528+40])
                                    Pexp_constant PConst_int (20,None)
                                "pos_bol" (testsuite/tests/formatting/errors_batch.ml[24,528+42]..[24,528+49])
                                  expression (testsuite/tests/formatting/errors_batch.ml[24,528+52]..[24,528+53])
                                    Pexp_constant PConst_int (0,None)
                                "pos_cnum" (testsuite/tests/formatting/errors_batch.ml[24,528+55]..[24,528+63])
                                  expression (testsuite/tests/formatting/errors_batch.ml[24,528+66]..[24,528+67])
                                    Pexp_constant PConst_int (6,None)
                              ]
                              Some
                                expression (testsuite/tests/formatting/errors_batch.ml[24,528+18]..[24,528+21])
                                  Pexp_ident "pos" (testsuite/tests/formatting/errors_batch.ml[24,528+18]..[24,528+21])
                          "loc_end" (testsuite/tests/formatting/errors_batch.ml[25,599+4]..[25,599+11])
                            expression (testsuite/tests/formatting/errors_batch.ml[25,599+14]..[25,599+67])
                              Pexp_record
                              [
                                "pos_lnum" (testsuite/tests/formatting/errors_batch.ml[25,599+25]..[25,599+33])
                                  expression (testsuite/tests/formatting/errors_batch.ml[25,599+36]..[25,599+38])
                                    Pexp_constant PConst_int (20,None)
                                "pos_bol" (testsuite/tests/formatting/errors_batch.ml[25,599+40]..[25,599+47])
                                  expression (testsuite/tests/formatting/errors_batch.ml[25,599+50]..[25,599+51])
                                    Pexp_constant PConst_int (0,None)
                                "pos_cnum" (testsuite/tests/formatting/errors_batch.ml[25,599+53]..[25,599+61])
                                  expression (testsuite/tests/formatting/errors_batch.ml[25,599+64]..[25,599+65])
                                    Pexp_constant PConst_int (8,None)
                              ]
                              Some
                                expression (testsuite/tests/formatting/errors_batch.ml[25,599+16]..[25,599+19])
                                  Pexp_ident "pos" (testsuite/tests/formatting/errors_batch.ml[25,599+16]..[25,599+19])
                          "loc_ghost" (testsuite/tests/formatting/errors_batch.ml[26,668+4]..[26,668+13])
                            expression (testsuite/tests/formatting/errors_batch.ml[26,668+16]..[26,668+21])
                              Pexp_construct "false" (testsuite/tests/formatting/errors_batch.ml[26,668+16]..[26,668+21])
                              None
                        ]
                        None
                  ]
                  expression (testsuite/tests/formatting/errors_batch.ml[28,697+2]..[43,1289+42])
                    Pexp_let Nonrec
                    [
                      <def>
                        pattern (testsuite/tests/formatting/errors_batch.ml[28,697+6]..[28,697+12])
                          Ppat_var "report" (testsuite/tests/formatting/errors_batch.ml[28,697+6]..[28,697+12])
                        expression (testsuite/tests/formatting/errors_batch.ml[28,697+15]..[42,1282+3])
                          Pexp_record
                          [
                            "kind" (testsuite/tests/formatting/errors_batch.ml[29,714+4]..[29,714+8])
                              expression (testsuite/tests/formatting/errors_batch.ml[29,714+11]..[29,714+23])
                                Pexp_construct "Report_error" (testsuite/tests/formatting/errors_batch.ml[29,714+11]..[29,714+23])
                                None
                            "main" (testsuite/tests/formatting/errors_batch.ml[30,739+4]..[30,739+8])
                              expression (testsuite/tests/formatting/errors_batch.ml[30,739+11]..[32,851+63])
                                Pexp_apply
                                expression (testsuite/tests/formatting/errors_batch.ml[30,739+11]..[30,739+14])
                                  Pexp_ident "msg" (testsuite/tests/formatting/errors_batch.ml[30,739+11]..[30,739+14])
                                [
                                  <arg>
                                  Labelled "loc"
                                    expression (testsuite/tests/formatting/errors_batch.ml[30,739+20]..[30,739+24])
                                      Pexp_ident "loc1" (testsuite/tests/formatting/errors_batch.ml[30,739+20]..[30,739+24])
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/formatting/errors_batch.ml[30,739+25]..[30,739+29])
                                      Pexp_constant PConst_string("%a",(testsuite/tests/formatting/errors_batch.ml[30,739+26]..[30,739+28]),None)
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/formatting/errors_batch.ml[30,739+30]..[30,739+50])
                                      Pexp_ident "Format.pp_print_text" (testsuite/tests/formatting/errors_batch.ml[30,739+30]..[30,739+50])
                                  <arg>
                                  Nolabel
                                    expression (testsuite/tests/formatting/errors_batch.ml[31,790+8]..[32,851+63])
                                      Pexp_constant PConst_string("These are the contents of the main error message. It is very long and should wrap across several lines.",(testsuite/tests/formatting/errors_batch.ml[31,790+9]..[32,851+62]),None)
                                ]
                            "sub" (testsuite/tests/formatting/errors_batch.ml[33,916+4]..[33,916+7])
                              expression (testsuite/tests/formatting/errors_batch.ml[33,916+10]..[41,1276+5])
                                Pexp_construct "::" (testsuite/tests/formatting/errors_batch.ml[34,928+6]..[41,1276+5]) ghost
                                Some
                                  expression (testsuite/tests/formatting/errors_batch.ml[34,928+6]..[41,1276+5]) ghost
                                    Pexp_tuple
                                    [
                                      expression (testsuite/tests/formatting/errors_batch.ml[34,928+6]..[34,928+50])
                                        Pexp_apply
                                        expression (testsuite/tests/formatting/errors_batch.ml[34,928+6]..[34,928+9])
                                          Pexp_ident "msg" (testsuite/tests/formatting/errors_batch.ml[34,928+6]..[34,928+9])
                                        [
                                          <arg>
                                          Labelled "loc"
                                            expression (testsuite/tests/formatting/errors_batch.ml[34,928+15]..[34,928+19])
                                              Pexp_ident "loc2" (testsuite/tests/formatting/errors_batch.ml[34,928+15]..[34,928+19])
                                          <arg>
                                          Nolabel
                                            expression (testsuite/tests/formatting/errors_batch.ml[34,928+20]..[34,928+50])
                                              Pexp_constant PConst_string("A located first sub-message.",(testsuite/tests/formatting/errors_batch.ml[34,928+21]..[34,928+49]),None)
                                        ]
                                      expression (testsuite/tests/formatting/errors_batch.ml[35,980+6]..[41,1276+5]) ghost
                                        Pexp_construct "::" (testsuite/tests/formatting/errors_batch.ml[35,980+6]..[41,1276+5]) ghost
                                        Some
                                          expression (testsuite/tests/formatting/errors_batch.ml[35,980+6]..[41,1276+5]) ghost
                                            Pexp_tuple
                                            [
                                              expression (testsuite/tests/formatting/errors_batch.ml[35,980+6]..[37,1080+49])
                                                Pexp_apply
                                                expression (testsuite/tests/formatting/errors_batch.ml[35,980+6]..[35,980+9])
                                                  Pexp_ident "msg" (testsuite/tests/formatting/errors_batch.ml[35,980+6]..[35,980+9])
                                                [
                                                  <arg>
                                                  Labelled "loc"
                                                    expression (testsuite/tests/formatting/errors_batch.ml[35,980+15]..[35,980+19])
                                                      Pexp_ident "loc3" (testsuite/tests/formatting/errors_batch.ml[35,980+15]..[35,980+19])
                                                  <arg>
                                                  Nolabel
                                                    expression (testsuite/tests/formatting/errors_batch.ml[35,980+20]..[35,980+24])
                                                      Pexp_constant PConst_string("%a",(testsuite/tests/formatting/errors_batch.ml[35,980+21]..[35,980+23]),None)
                                                  <arg>
                                                  Nolabel
                                                    expression (testsuite/tests/formatting/errors_batch.ml[35,980+25]..[35,980+45])
                                                      Pexp_ident "Format.pp_print_text" (testsuite/tests/formatting/errors_batch.ml[35,980+25]..[35,980+45])
                                                  <arg>
                                                  Nolabel
                                                    expression (testsuite/tests/formatting/errors_batch.ml[36,1026+8]..[37,1080+49])
                                                      Pexp_constant PConst_string("Longer sub-messages that do not fit on the same line as the location get indented.",(testsuite/tests/formatting/errors_batch.ml[36,1026+9]..[37,1080+48]),None)
                                                ]
                                              expression (testsuite/tests/formatting/errors_batch.ml[38,1131+6]..[41,1276+5]) ghost
                                                Pexp_construct "::" (testsuite/tests/formatting/errors_batch.ml[38,1131+6]..[41,1276+5]) ghost
                                                Some
                                                  expression (testsuite/tests/formatting/errors_batch.ml[38,1131+6]..[41,1276+5]) ghost
                                                    Pexp_tuple
                                                    [
                                                      expression (testsuite/tests/formatting/errors_batch.ml[38,1131+6]..[40,1248+26])
                                                        Pexp_apply
                                                        expression (testsuite/tests/formatting/errors_batch.ml[38,1131+6]..[38,1131+9])
                                                          Pexp_ident "msg" (testsuite/tests/formatting/errors_batch.ml[38,1131+6]..[38,1131+9])
                                                        [
                                                          <arg>
                                                          Nolabel
                                                            expression (testsuite/tests/formatting/errors_batch.ml[38,1131+10]..[40,1248+26])
                                                              Pexp_constant PConst_string("@[<v>This second sub-message does not have a location;@,ghost locations of submessages are not printed.@]",(testsuite/tests/formatting/errors_batch.ml[38,1131+11]..[40,1248+25]),None)
                                                        ]
                                                      expression (testsuite/tests/formatting/errors_batch.ml[41,1276+4]..[41,1276+5]) ghost
                                                        Pexp_construct "[]" (testsuite/tests/formatting/errors_batch.ml[41,1276+4]..[41,1276+5]) ghost
                                                        None
                                                    ]
                                            ]
                                    ]
                          ]
                          None
                    ]
                    expression (testsuite/tests/formatting/errors_batch.ml[43,1289+2]..[43,1289+42])
                      Pexp_apply
                      expression (testsuite/tests/formatting/errors_batch.ml[43,1289+2]..[43,1289+14])
                        Pexp_ident "print_report" (testsuite/tests/formatting/errors_batch.ml[43,1289+2]..[43,1289+14])
                      [
                        <arg>
                        Nolabel
                          expression (testsuite/tests/formatting/errors_batch.ml[43,1289+15]..[43,1289+35])
                            Pexp_ident "Format.std_formatter" (testsuite/tests/formatting/errors_batch.ml[43,1289+15]..[43,1289+35])
                        <arg>
                        Nolabel
                          expression (testsuite/tests/formatting/errors_batch.ml[43,1289+36]..[43,1289+42])
                            Pexp_ident "report" (testsuite/tests/formatting/errors_batch.ml[43,1289+36]..[43,1289+42])
                      ]
    ]
]

