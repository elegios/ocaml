[
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[6,36+0]..[6,36+36])
    Pstr_modtype "x" (testsuite/tests/typing-modules/module_type_substitution.ml[6,36+12]..[6,36+13])
      attribute "ocaml.doc"
        [
          structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[5,23+0]..[5,23+12])
            Pstr_eval
            expression (testsuite/tests/typing-modules/module_type_substitution.ml[5,23+0]..[5,23+12])
              Pexp_constant PConst_string(" Basic ",(testsuite/tests/typing-modules/module_type_substitution.ml[5,23+0]..[5,23+12]),None)
        ]
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[6,36+16]..[6,36+36])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[6,36+20]..[6,36+32])
            Psig_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-modules/module_type_substitution.ml[6,36+25]..[6,36+26]) (testsuite/tests/typing-modules/module_type_substitution.ml[6,36+20]..[6,36+32])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  Some
                    core_type (testsuite/tests/typing-modules/module_type_substitution.ml[6,36+29]..[6,36+32])
                      Ptyp_constr "int" (testsuite/tests/typing-modules/module_type_substitution.ml[6,36+29]..[6,36+32])
                      []
            ]
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[8,74+0]..[11,123+3])
    Pstr_modtype "t" (testsuite/tests/typing-modules/module_type_substitution.ml[8,74+12]..[8,74+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[8,74+16]..[11,123+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[9,94+2]..[9,94+15])
            Psig_modtype "x" (testsuite/tests/typing-modules/module_type_substitution.ml[9,94+14]..[9,94+15])
            #abstract          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[10,110+2]..[10,110+12])
            Psig_module "M" (testsuite/tests/typing-modules/module_type_substitution.ml[10,110+9]..[10,110+10])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[10,110+11]..[10,110+12])
              Pmty_ident "x" (testsuite/tests/typing-modules/module_type_substitution.ml[10,110+11]..[10,110+12])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[13,128+0]..[13,128+41])
    Pstr_modtype "t'" (testsuite/tests/typing-modules/module_type_substitution.ml[13,128+12]..[13,128+14])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[13,128+17]..[13,128+41])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[13,128+17]..[13,128+18])
          Pmty_ident "t" (testsuite/tests/typing-modules/module_type_substitution.ml[13,128+17]..[13,128+18])
        [
          Pwith_modtype "x" (testsuite/tests/typing-modules/module_type_substitution.ml[13,128+36]..[13,128+37])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[13,128+40]..[13,128+41])
              Pmty_ident "x" (testsuite/tests/typing-modules/module_type_substitution.ml[13,128+40]..[13,128+41])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[14,170+0]..[18,327+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[14,170+10]..[18,327+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[14,170+10]..[18,327+2])
          Pexp_constant PConst_string ("\nmodule type x = sig type t = int end\nmodule type t = sig module type x module M : x end\nmodule type t' = sig module type x = x module M : x end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[14,170+12]..[18,327+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[20,332+0]..[20,332+43])
    Pstr_modtype "t''" (testsuite/tests/typing-modules/module_type_substitution.ml[20,332+12]..[20,332+15])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[20,332+18]..[20,332+43])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[20,332+18]..[20,332+19])
          Pmty_ident "t" (testsuite/tests/typing-modules/module_type_substitution.ml[20,332+18]..[20,332+19])
        [
          Pwith_modtypesubst "x" (testsuite/tests/typing-modules/module_type_substitution.ml[20,332+37]..[20,332+38])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[20,332+42]..[20,332+43])
              Pmty_ident "x" (testsuite/tests/typing-modules/module_type_substitution.ml[20,332+42]..[20,332+43])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[21,376+0]..[23,428+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[21,376+10]..[23,428+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[21,376+10]..[23,428+2])
          Pexp_constant PConst_string ("\nmodule type t'' = sig module M : x end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[21,376+12]..[23,428+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[25,433+0]..[25,433+54])
    Pstr_modtype "t3" (testsuite/tests/typing-modules/module_type_substitution.ml[25,433+12]..[25,433+14])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[25,433+17]..[25,433+54])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[25,433+17]..[25,433+18])
          Pmty_ident "t" (testsuite/tests/typing-modules/module_type_substitution.ml[25,433+17]..[25,433+18])
        [
          Pwith_modtype "x" (testsuite/tests/typing-modules/module_type_substitution.ml[25,433+36]..[25,433+37])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[25,433+40]..[25,433+54])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[25,433+44]..[25,433+50])
                  Psig_type Rec
                  [
                    type_declaration "t" (testsuite/tests/typing-modules/module_type_substitution.ml[25,433+49]..[25,433+50]) (testsuite/tests/typing-modules/module_type_substitution.ml[25,433+44]..[25,433+50])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
              ]
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[26,488+0]..[28,570+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[26,488+10]..[28,570+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[26,488+10]..[28,570+2])
          Pexp_constant PConst_string ("\nmodule type t3 = sig module type x = sig type t end module M : x end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[26,488+12]..[28,570+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[30,575+0]..[30,575+55])
    Pstr_modtype "t4" (testsuite/tests/typing-modules/module_type_substitution.ml[30,575+12]..[30,575+14])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[30,575+17]..[30,575+55])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[30,575+17]..[30,575+18])
          Pmty_ident "t" (testsuite/tests/typing-modules/module_type_substitution.ml[30,575+17]..[30,575+18])
        [
          Pwith_modtypesubst "x" (testsuite/tests/typing-modules/module_type_substitution.ml[30,575+36]..[30,575+37])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[30,575+41]..[30,575+55])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[30,575+45]..[30,575+51])
                  Psig_type Rec
                  [
                    type_declaration "t" (testsuite/tests/typing-modules/module_type_substitution.ml[30,575+50]..[30,575+51]) (testsuite/tests/typing-modules/module_type_substitution.ml[30,575+45]..[30,575+51])
                      ptype_params =
                        []
                      ptype_cstrs =
                        []
                      ptype_kind =
                        Ptype_abstract
                      ptype_private = Public
                      ptype_manifest =
                        None
                  ]
              ]
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[31,631+0]..[33,695+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[31,631+10]..[33,695+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[31,631+10]..[33,695+2])
          Pexp_constant PConst_string ("\nmodule type t4 = sig module M : sig type t end end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[31,631+12]..[33,695+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[35,700+0]..[35,700+13])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[35,700+0]..[35,700+13])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[35,700+0]..[35,700+13])
          Pexp_constant PConst_string(" nested ",(testsuite/tests/typing-modules/module_type_substitution.ml[35,700+0]..[35,700+13]),None)
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[37,715+0]..[43,805+3])
    Pstr_modtype "ENDO" (testsuite/tests/typing-modules/module_type_substitution.ml[37,715+12]..[37,715+16])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[37,715+19]..[43,805+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[38,738+2]..[42,799+5])
            Psig_module "Inner" (testsuite/tests/typing-modules/module_type_substitution.ml[38,738+9]..[38,738+14])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[39,754+2]..[42,799+5])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[40,760+4]..[40,760+17])
                  Psig_modtype "T" (testsuite/tests/typing-modules/module_type_substitution.ml[40,760+16]..[40,760+17])
                  #abstract                signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[41,778+4]..[41,778+20])
                  Psig_module "F" (testsuite/tests/typing-modules/module_type_substitution.ml[41,778+11]..[41,778+12])
                  module_type (testsuite/tests/typing-modules/module_type_substitution.ml[41,778+14]..[41,778+20])
                    Pmty_functor "_" (_none_[0,0+-1]..[0,0+-1]) ghost
                    module_type (testsuite/tests/typing-modules/module_type_substitution.ml[41,778+14]..[41,778+15])
                      Pmty_ident "T" (testsuite/tests/typing-modules/module_type_substitution.ml[41,778+14]..[41,778+15])
                    module_type (testsuite/tests/typing-modules/module_type_substitution.ml[41,778+19]..[41,778+20])
                      Pmty_ident "T" (testsuite/tests/typing-modules/module_type_substitution.ml[41,778+19]..[41,778+20])
              ]
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[44,809+0]..[44,809+57])
    Pstr_modtype "ENDO_2" (testsuite/tests/typing-modules/module_type_substitution.ml[44,809+12]..[44,809+18])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[44,809+21]..[44,809+57])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[44,809+21]..[44,809+25])
          Pmty_ident "ENDO" (testsuite/tests/typing-modules/module_type_substitution.ml[44,809+21]..[44,809+25])
        [
          Pwith_modtype "Inner.T" (testsuite/tests/typing-modules/module_type_substitution.ml[44,809+43]..[44,809+50])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[44,809+53]..[44,809+57])
              Pmty_ident "ENDO" (testsuite/tests/typing-modules/module_type_substitution.ml[44,809+53]..[44,809+57])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[45,867+0]..[45,867+59])
    Pstr_modtype "ENDO_2'" (testsuite/tests/typing-modules/module_type_substitution.ml[45,867+12]..[45,867+19])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[45,867+22]..[45,867+59])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[45,867+22]..[45,867+26])
          Pmty_ident "ENDO" (testsuite/tests/typing-modules/module_type_substitution.ml[45,867+22]..[45,867+26])
        [
          Pwith_modtypesubst "Inner.T" (testsuite/tests/typing-modules/module_type_substitution.ml[45,867+44]..[45,867+51])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[45,867+55]..[45,867+59])
              Pmty_ident "ENDO" (testsuite/tests/typing-modules/module_type_substitution.ml[45,867+55]..[45,867+59])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[46,927+0]..[52,1194+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[46,927+10]..[52,1194+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[46,927+10]..[52,1194+2])
          Pexp_constant PConst_string ("\nmodule type ENDO =\n  sig module Inner : sig module type T module F : T -> T end end\nmodule type ENDO_2 =\n  sig module Inner : sig module type T = ENDO module F : T -> T end end\nmodule type ENDO_2' = sig module Inner : sig module F : ENDO -> ENDO end end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[46,927+12]..[52,1194+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[55,1200+0]..[60,1276+3])
    Pstr_modtype "S" (testsuite/tests/typing-modules/module_type_substitution.ml[55,1200+12]..[55,1200+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[55,1200+16]..[60,1276+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[56,1220+2]..[58,1254+5])
            Psig_module "M" (testsuite/tests/typing-modules/module_type_substitution.ml[56,1220+9]..[56,1220+10])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[56,1220+12]..[58,1254+5])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[57,1236+4]..[57,1236+17])
                  Psig_modtype "T" (testsuite/tests/typing-modules/module_type_substitution.ml[57,1236+16]..[57,1236+17])
                  #abstract              ]
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[59,1260+2]..[59,1260+15])
            Psig_module "N" (testsuite/tests/typing-modules/module_type_substitution.ml[59,1260+9]..[59,1260+10])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[59,1260+12]..[59,1260+15])
              Pmty_ident "M.T" (testsuite/tests/typing-modules/module_type_substitution.ml[59,1260+12]..[59,1260+15])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[61,1280+0]..[61,1280+49])
    Pstr_modtype "R" (testsuite/tests/typing-modules/module_type_substitution.ml[61,1280+12]..[61,1280+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[61,1280+16]..[61,1280+49])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[61,1280+16]..[61,1280+17])
          Pmty_ident "S" (testsuite/tests/typing-modules/module_type_substitution.ml[61,1280+16]..[61,1280+17])
        [
          Pwith_modtypesubst "M.T" (testsuite/tests/typing-modules/module_type_substitution.ml[61,1280+35]..[61,1280+38])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[61,1280+42]..[61,1280+49])
              Pmty_signature
              []
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[62,1330+0]..[65,1477+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[62,1330+10]..[65,1477+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[62,1330+10]..[65,1477+2])
          Pexp_constant PConst_string ("\nmodule type S = sig module M : sig module type T end module N : M.T end\nmodule type R = sig module M : sig end module N : sig end end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[62,1330+12]..[65,1477+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[68,1483+0]..[68,1483+24])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[68,1483+0]..[68,1483+24])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[68,1483+0]..[68,1483+24])
          Pexp_constant PConst_string(" Adding equalities ",(testsuite/tests/typing-modules/module_type_substitution.ml[68,1483+0]..[68,1483+24]),None)
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+0]..[70,1509+57])
    Pstr_modtype "base" (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+12]..[70,1509+16])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+19]..[70,1509+57])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+23]..[70,1509+53])
            Psig_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+28]..[70,1509+29]) (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+23]..[70,1509+53])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_variant
                    [
                      (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+32]..[70,1509+40])
                        "X" (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+32]..[70,1509+33])
                        [
                          core_type (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+37]..[70,1509+40])
                            Ptyp_constr "int" (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+37]..[70,1509+40])
                            []
                        ]
                        None
                      (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+41]..[70,1509+53])
                        "Y" (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+43]..[70,1509+44])
                        [
                          core_type (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+48]..[70,1509+53])
                            Ptyp_constr "float" (testsuite/tests/typing-modules/module_type_substitution.ml[70,1509+48]..[70,1509+53])
                            []
                        ]
                        None
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[72,1568+0]..[75,1659+3])
    Pstr_modtype "u" (testsuite/tests/typing-modules/module_type_substitution.ml[72,1568+12]..[72,1568+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[72,1568+16]..[75,1659+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+2]..[73,1588+56])
            Psig_modtype "t" (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+14]..[73,1588+15])
              module_type (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+18]..[73,1588+56])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+22]..[73,1588+52])
                    Psig_type Rec
                    [
                      type_declaration "t" (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+27]..[73,1588+28]) (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+22]..[73,1588+52])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_variant
                            [
                              (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+31]..[73,1588+39])
                                "X" (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+31]..[73,1588+32])
                                [
                                  core_type (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+36]..[73,1588+39])
                                    Ptyp_constr "int" (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+36]..[73,1588+39])
                                    []
                                ]
                                None
                              (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+40]..[73,1588+52])
                                "Y" (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+42]..[73,1588+43])
                                [
                                  core_type (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+47]..[73,1588+52])
                                    Ptyp_constr "float" (testsuite/tests/typing-modules/module_type_substitution.ml[73,1588+47]..[73,1588+52])
                                    []
                                ]
                                None
                            ]
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                ]
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[74,1645+2]..[74,1645+13])
            Psig_module "M" (testsuite/tests/typing-modules/module_type_substitution.ml[74,1645+9]..[74,1645+10])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[74,1645+12]..[74,1645+13])
              Pmty_ident "t" (testsuite/tests/typing-modules/module_type_substitution.ml[74,1645+12]..[74,1645+13])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[77,1664+0]..[77,1664+44])
    Pstr_modtype "s" (testsuite/tests/typing-modules/module_type_substitution.ml[77,1664+12]..[77,1664+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[77,1664+16]..[77,1664+44])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[77,1664+16]..[77,1664+17])
          Pmty_ident "u" (testsuite/tests/typing-modules/module_type_substitution.ml[77,1664+16]..[77,1664+17])
        [
          Pwith_modtypesubst "t" (testsuite/tests/typing-modules/module_type_substitution.ml[77,1664+35]..[77,1664+36])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[77,1664+40]..[77,1664+44])
              Pmty_ident "base" (testsuite/tests/typing-modules/module_type_substitution.ml[77,1664+40]..[77,1664+44])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[78,1709+0]..[83,1914+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[78,1709+10]..[83,1914+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[78,1709+10]..[83,1914+2])
          Pexp_constant PConst_string ("\nmodule type base = sig type t = X of int | Y of float end\nmodule type u =\n  sig module type t = sig type t = X of int | Y of float end module M : t end\nmodule type s = sig module M : base end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[78,1709+12]..[83,1914+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+0]..[86,1920+57])
    Pstr_modtype "base" (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+12]..[86,1920+16])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+19]..[86,1920+57])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+23]..[86,1920+53])
            Psig_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+28]..[86,1920+29]) (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+23]..[86,1920+53])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_variant
                    [
                      (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+32]..[86,1920+40])
                        "X" (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+32]..[86,1920+33])
                        [
                          core_type (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+37]..[86,1920+40])
                            Ptyp_constr "int" (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+37]..[86,1920+40])
                            []
                        ]
                        None
                      (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+41]..[86,1920+53])
                        "Y" (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+43]..[86,1920+44])
                        [
                          core_type (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+48]..[86,1920+53])
                            Ptyp_constr "float" (testsuite/tests/typing-modules/module_type_substitution.ml[86,1920+48]..[86,1920+53])
                            []
                        ]
                        None
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[88,1979+0]..[93,2082+3])
    Pstr_modtype "u" (testsuite/tests/typing-modules/module_type_substitution.ml[88,1979+12]..[88,1979+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[88,1979+16]..[93,2082+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[89,1999+2]..[89,1999+8])
            Psig_type Rec
            [
              type_declaration "x" (testsuite/tests/typing-modules/module_type_substitution.ml[89,1999+7]..[89,1999+8]) (testsuite/tests/typing-modules/module_type_substitution.ml[89,1999+2]..[89,1999+8])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[90,2008+2]..[90,2008+8])
            Psig_type Rec
            [
              type_declaration "y" (testsuite/tests/typing-modules/module_type_substitution.ml[90,2008+7]..[90,2008+8]) (testsuite/tests/typing-modules/module_type_substitution.ml[90,2008+2]..[90,2008+8])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+2]..[91,2017+50])
            Psig_modtype "t" (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+14]..[91,2017+15])
              module_type (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+18]..[91,2017+50])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+22]..[91,2017+46])
                    Psig_type Rec
                    [
                      type_declaration "t" (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+27]..[91,2017+28]) (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+22]..[91,2017+46])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_variant
                            [
                              (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+31]..[91,2017+37])
                                "X" (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+31]..[91,2017+32])
                                [
                                  core_type (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+36]..[91,2017+37])
                                    Ptyp_constr "x" (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+36]..[91,2017+37])
                                    []
                                ]
                                None
                              (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+38]..[91,2017+46])
                                "Y" (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+40]..[91,2017+41])
                                [
                                  core_type (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+45]..[91,2017+46])
                                    Ptyp_constr "y" (testsuite/tests/typing-modules/module_type_substitution.ml[91,2017+45]..[91,2017+46])
                                    []
                                ]
                                None
                            ]
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                ]
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[92,2068+2]..[92,2068+13])
            Psig_module "M" (testsuite/tests/typing-modules/module_type_substitution.ml[92,2068+9]..[92,2068+10])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[92,2068+12]..[92,2068+13])
              Pmty_ident "t" (testsuite/tests/typing-modules/module_type_substitution.ml[92,2068+12]..[92,2068+13])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[95,2087+0]..[98,2149+29])
    Pstr_modtype "r" (testsuite/tests/typing-modules/module_type_substitution.ml[95,2087+12]..[95,2087+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[96,2103+2]..[98,2149+29])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[96,2103+2]..[96,2103+3])
          Pmty_ident "u" (testsuite/tests/typing-modules/module_type_substitution.ml[96,2103+2]..[96,2103+3])
        [
          Pwith_type "x" (testsuite/tests/typing-modules/module_type_substitution.ml[96,2103+14]..[96,2103+15])
            type_declaration "x" (testsuite/tests/typing-modules/module_type_substitution.ml[96,2103+14]..[96,2103+15]) (testsuite/tests/typing-modules/module_type_substitution.ml[96,2103+9]..[96,2103+21])
              ptype_params =
                []
              ptype_cstrs =
                []
              ptype_kind =
                Ptype_abstract
              ptype_private = Public
              ptype_manifest =
                Some
                  core_type (testsuite/tests/typing-modules/module_type_substitution.ml[96,2103+18]..[96,2103+21])
                    Ptyp_constr "int" (testsuite/tests/typing-modules/module_type_substitution.ml[96,2103+18]..[96,2103+21])
                    []
          Pwith_type "y" (testsuite/tests/typing-modules/module_type_substitution.ml[97,2125+14]..[97,2125+15])
            type_declaration "y" (testsuite/tests/typing-modules/module_type_substitution.ml[97,2125+14]..[97,2125+15]) (testsuite/tests/typing-modules/module_type_substitution.ml[97,2125+9]..[97,2125+23])
              ptype_params =
                []
              ptype_cstrs =
                []
              ptype_kind =
                Ptype_abstract
              ptype_private = Public
              ptype_manifest =
                Some
                  core_type (testsuite/tests/typing-modules/module_type_substitution.ml[97,2125+18]..[97,2125+23])
                    Ptyp_constr "float" (testsuite/tests/typing-modules/module_type_substitution.ml[97,2125+18]..[97,2125+23])
                    []
          Pwith_modtype "t" (testsuite/tests/typing-modules/module_type_substitution.ml[98,2149+21]..[98,2149+22])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[98,2149+25]..[98,2149+29])
              Pmty_ident "base" (testsuite/tests/typing-modules/module_type_substitution.ml[98,2149+25]..[98,2149+29])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[99,2179+0]..[110,2458+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[99,2179+10]..[110,2458+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[99,2179+10]..[110,2458+2])
          Pexp_constant PConst_string ("\nmodule type base = sig type t = X of int | Y of float end\nmodule type u =\n  sig\n    type x\n    type y\n    module type t = sig type t = X of x | Y of y end\n    module M : t\n  end\nmodule type r =\n  sig type x = int type y = float module type t = base module M : t end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[99,2179+12]..[110,2458+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[112,2463+0]..[115,2525+30])
    Pstr_modtype "r" (testsuite/tests/typing-modules/module_type_substitution.ml[112,2463+12]..[112,2463+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[113,2479+2]..[115,2525+30])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[113,2479+2]..[113,2479+3])
          Pmty_ident "u" (testsuite/tests/typing-modules/module_type_substitution.ml[113,2479+2]..[113,2479+3])
        [
          Pwith_type "x" (testsuite/tests/typing-modules/module_type_substitution.ml[113,2479+14]..[113,2479+15])
            type_declaration "x" (testsuite/tests/typing-modules/module_type_substitution.ml[113,2479+14]..[113,2479+15]) (testsuite/tests/typing-modules/module_type_substitution.ml[113,2479+9]..[113,2479+21])
              ptype_params =
                []
              ptype_cstrs =
                []
              ptype_kind =
                Ptype_abstract
              ptype_private = Public
              ptype_manifest =
                Some
                  core_type (testsuite/tests/typing-modules/module_type_substitution.ml[113,2479+18]..[113,2479+21])
                    Ptyp_constr "int" (testsuite/tests/typing-modules/module_type_substitution.ml[113,2479+18]..[113,2479+21])
                    []
          Pwith_type "y" (testsuite/tests/typing-modules/module_type_substitution.ml[114,2501+14]..[114,2501+15])
            type_declaration "y" (testsuite/tests/typing-modules/module_type_substitution.ml[114,2501+14]..[114,2501+15]) (testsuite/tests/typing-modules/module_type_substitution.ml[114,2501+9]..[114,2501+23])
              ptype_params =
                []
              ptype_cstrs =
                []
              ptype_kind =
                Ptype_abstract
              ptype_private = Public
              ptype_manifest =
                Some
                  core_type (testsuite/tests/typing-modules/module_type_substitution.ml[114,2501+18]..[114,2501+23])
                    Ptyp_constr "float" (testsuite/tests/typing-modules/module_type_substitution.ml[114,2501+18]..[114,2501+23])
                    []
          Pwith_modtypesubst "t" (testsuite/tests/typing-modules/module_type_substitution.ml[115,2525+21]..[115,2525+22])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[115,2525+26]..[115,2525+30])
              Pmty_ident "base" (testsuite/tests/typing-modules/module_type_substitution.ml[115,2525+26]..[115,2525+30])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[116,2556+0]..[118,2637+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[116,2556+10]..[118,2637+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[116,2556+10]..[118,2637+2])
          Pexp_constant PConst_string ("\nmodule type r = sig type x = int type y = float module M : base end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[116,2556+12]..[118,2637+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[121,2643+0]..[124,2707+30])
    Pstr_modtype "r" (testsuite/tests/typing-modules/module_type_substitution.ml[121,2643+12]..[121,2643+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[122,2659+2]..[124,2707+30])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[122,2659+2]..[122,2659+3])
          Pmty_ident "u" (testsuite/tests/typing-modules/module_type_substitution.ml[122,2659+2]..[122,2659+3])
        [
          Pwith_typesubst "x" (testsuite/tests/typing-modules/module_type_substitution.ml[122,2659+14]..[122,2659+15])
            type_declaration "x" (testsuite/tests/typing-modules/module_type_substitution.ml[122,2659+14]..[122,2659+15]) (testsuite/tests/typing-modules/module_type_substitution.ml[122,2659+9]..[122,2659+22])
              ptype_params =
                []
              ptype_cstrs =
                []
              ptype_kind =
                Ptype_abstract
              ptype_private = Public
              ptype_manifest =
                Some
                  core_type (testsuite/tests/typing-modules/module_type_substitution.ml[122,2659+19]..[122,2659+22])
                    Ptyp_constr "int" (testsuite/tests/typing-modules/module_type_substitution.ml[122,2659+19]..[122,2659+22])
                    []
          Pwith_typesubst "y" (testsuite/tests/typing-modules/module_type_substitution.ml[123,2682+14]..[123,2682+15])
            type_declaration "y" (testsuite/tests/typing-modules/module_type_substitution.ml[123,2682+14]..[123,2682+15]) (testsuite/tests/typing-modules/module_type_substitution.ml[123,2682+9]..[123,2682+24])
              ptype_params =
                []
              ptype_cstrs =
                []
              ptype_kind =
                Ptype_abstract
              ptype_private = Public
              ptype_manifest =
                Some
                  core_type (testsuite/tests/typing-modules/module_type_substitution.ml[123,2682+19]..[123,2682+24])
                    Ptyp_constr "float" (testsuite/tests/typing-modules/module_type_substitution.ml[123,2682+19]..[123,2682+24])
                    []
          Pwith_modtypesubst "t" (testsuite/tests/typing-modules/module_type_substitution.ml[124,2707+21]..[124,2707+22])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[124,2707+26]..[124,2707+30])
              Pmty_ident "base" (testsuite/tests/typing-modules/module_type_substitution.ml[124,2707+26]..[124,2707+30])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[125,2738+0]..[127,2791+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[125,2738+10]..[127,2791+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[125,2738+10]..[127,2791+2])
          Pexp_constant PConst_string ("\nmodule type r = sig module M : base end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[125,2738+12]..[127,2791+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[129,2796+0]..[129,2796+12])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[129,2796+0]..[129,2796+12])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[129,2796+0]..[129,2796+12])
          Pexp_constant PConst_string(" error ",(testsuite/tests/typing-modules/module_type_substitution.ml[129,2796+0]..[129,2796+12]),None)
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[131,2810+0]..[132,2826+30])
    Pstr_modtype "r" (testsuite/tests/typing-modules/module_type_substitution.ml[131,2810+12]..[131,2810+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[132,2826+2]..[132,2826+30])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[132,2826+2]..[132,2826+3])
          Pmty_ident "u" (testsuite/tests/typing-modules/module_type_substitution.ml[132,2826+2]..[132,2826+3])
        [
          Pwith_modtypesubst "t" (testsuite/tests/typing-modules/module_type_substitution.ml[132,2826+21]..[132,2826+22])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[132,2826+26]..[132,2826+30])
              Pmty_ident "base" (testsuite/tests/typing-modules/module_type_substitution.ml[132,2826+26]..[132,2826+30])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[134,2858+0]..[160,3730+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[134,2858+10]..[160,3730+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[134,2858+10]..[160,3730+2])
          Pexp_constant PConst_string ("\nLine 4, characters 2-30:\n4 |   u with module type t := base\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: In this `with' constraint, the new definition of t\n       does not match its original definition in the constrained signature:\n       At position module type t = <here>\n       Module types do not match:\n         sig type t = X of x | Y of y end\n       is not equal to\n         base\n       At position module type t = <here>\n       Type declarations do not match:\n         type t = X of x | Y of y\n       is not included in\n         type t = X of int | Y of float\n       1. Constructors do not match:\n         X of x\n       is not the same as:\n         X of int\n       The type x is not equal to the type int\n       2. Constructors do not match:\n         Y of y\n       is not the same as:\n         Y of float\n       The type y is not equal to the type float\n",(testsuite/tests/typing-modules/module_type_substitution.ml[134,2858+12]..[160,3730+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[162,3735+0]..[162,3735+51])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[162,3735+0]..[162,3735+51])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[162,3735+0]..[162,3735+51])
          Pexp_constant PConst_string(" First class module types require an identity ",(testsuite/tests/typing-modules/module_type_substitution.ml[162,3735+0]..[162,3735+51]),None)
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[164,3788+0]..[167,3846+3])
    Pstr_modtype "fst" (testsuite/tests/typing-modules/module_type_substitution.ml[164,3788+12]..[164,3788+15])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[164,3788+18]..[167,3846+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[165,3810+2]..[165,3810+15])
            Psig_modtype "t" (testsuite/tests/typing-modules/module_type_substitution.ml[165,3810+14]..[165,3810+15])
            #abstract          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[166,3826+2]..[166,3826+19])
            Psig_value
            value_description "x" (testsuite/tests/typing-modules/module_type_substitution.ml[166,3826+6]..[166,3826+7]) (testsuite/tests/typing-modules/module_type_substitution.ml[166,3826+2]..[166,3826+19])
              core_type (testsuite/tests/typing-modules/module_type_substitution.ml[166,3826+9]..[166,3826+19])
                Ptyp_package "t" (testsuite/tests/typing-modules/module_type_substitution.ml[166,3826+17]..[166,3826+18])
                []
              []
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[169,3851+0]..[169,3851+15])
    Pstr_modtype "ext" (testsuite/tests/typing-modules/module_type_substitution.ml[169,3851+12]..[169,3851+15])
    #abstract  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[170,3867+0]..[170,3867+50])
    Pstr_modtype "fst_ext" (testsuite/tests/typing-modules/module_type_substitution.ml[170,3867+12]..[170,3867+19])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[170,3867+22]..[170,3867+50])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[170,3867+22]..[170,3867+25])
          Pmty_ident "fst" (testsuite/tests/typing-modules/module_type_substitution.ml[170,3867+22]..[170,3867+25])
        [
          Pwith_modtype "t" (testsuite/tests/typing-modules/module_type_substitution.ml[170,3867+43]..[170,3867+44])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[170,3867+47]..[170,3867+50])
              Pmty_ident "ext" (testsuite/tests/typing-modules/module_type_substitution.ml[170,3867+47]..[170,3867+50])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[171,3918+0]..[171,3918+51])
    Pstr_modtype "fst_ext" (testsuite/tests/typing-modules/module_type_substitution.ml[171,3918+12]..[171,3918+19])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[171,3918+22]..[171,3918+51])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[171,3918+22]..[171,3918+25])
          Pmty_ident "fst" (testsuite/tests/typing-modules/module_type_substitution.ml[171,3918+22]..[171,3918+25])
        [
          Pwith_modtypesubst "t" (testsuite/tests/typing-modules/module_type_substitution.ml[171,3918+43]..[171,3918+44])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[171,3918+48]..[171,3918+51])
              Pmty_ident "ext" (testsuite/tests/typing-modules/module_type_substitution.ml[171,3918+48]..[171,3918+51])
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[172,3970+0]..[177,4178+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[172,3970+10]..[177,4178+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[172,3970+10]..[177,4178+2])
          Pexp_constant PConst_string ("\nmodule type fst = sig module type t val x : (module t) end\nmodule type ext\nmodule type fst_ext = sig module type t = ext val x : (module t) end\nmodule type fst_ext = sig val x : (module ext) end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[172,3970+12]..[177,4178+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[181,4185+0]..[181,4185+58])
    Pstr_modtype "fst_erased" (testsuite/tests/typing-modules/module_type_substitution.ml[181,4185+12]..[181,4185+22])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[181,4185+25]..[181,4185+58])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[181,4185+25]..[181,4185+28])
          Pmty_ident "fst" (testsuite/tests/typing-modules/module_type_substitution.ml[181,4185+25]..[181,4185+28])
        [
          Pwith_modtypesubst "t" (testsuite/tests/typing-modules/module_type_substitution.ml[181,4185+46]..[181,4185+47])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[181,4185+51]..[181,4185+58])
              Pmty_signature
              []
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[182,4244+0]..[187,4486+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[182,4244+10]..[187,4486+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[182,4244+10]..[187,4486+2])
          Pexp_constant PConst_string ("\nLine 1, characters 25-58:\n1 | module type fst_erased = fst with module type t := sig end\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This `with' constraint t := sig end makes a packed module ill-formed.\n",(testsuite/tests/typing-modules/module_type_substitution.ml[182,4244+12]..[187,4486+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[189,4491+0]..[189,4491+53])
    Pstr_modtype "fst_ok" (testsuite/tests/typing-modules/module_type_substitution.ml[189,4491+12]..[189,4491+18])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[189,4491+21]..[189,4491+53])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[189,4491+21]..[189,4491+24])
          Pmty_ident "fst" (testsuite/tests/typing-modules/module_type_substitution.ml[189,4491+21]..[189,4491+24])
        [
          Pwith_modtype "t" (testsuite/tests/typing-modules/module_type_substitution.ml[189,4491+42]..[189,4491+43])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[189,4491+46]..[189,4491+53])
              Pmty_signature
              []
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[190,4545+0]..[192,4630+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[190,4545+10]..[192,4630+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[190,4545+10]..[192,4630+2])
          Pexp_constant PConst_string ("\nmodule type fst_ok = sig module type t = sig end val x : (module t) end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[190,4545+12]..[192,4630+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[194,4635+0]..[199,4717+3])
    Pstr_modtype "S" (testsuite/tests/typing-modules/module_type_substitution.ml[194,4635+12]..[194,4635+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[194,4635+16]..[199,4717+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[195,4655+2]..[197,4689+5])
            Psig_module "M" (testsuite/tests/typing-modules/module_type_substitution.ml[195,4655+9]..[195,4655+10])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[195,4655+12]..[197,4689+5])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[196,4671+4]..[196,4671+17])
                  Psig_modtype "T" (testsuite/tests/typing-modules/module_type_substitution.ml[196,4671+16]..[196,4671+17])
                  #abstract              ]
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[198,4695+2]..[198,4695+21])
            Psig_value
            value_description "x" (testsuite/tests/typing-modules/module_type_substitution.ml[198,4695+6]..[198,4695+7]) (testsuite/tests/typing-modules/module_type_substitution.ml[198,4695+2]..[198,4695+21])
              core_type (testsuite/tests/typing-modules/module_type_substitution.ml[198,4695+9]..[198,4695+21])
                Ptyp_package "M.T" (testsuite/tests/typing-modules/module_type_substitution.ml[198,4695+17]..[198,4695+20])
                []
              []
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[201,4722+0]..[201,4722+49])
    Pstr_modtype "R" (testsuite/tests/typing-modules/module_type_substitution.ml[201,4722+12]..[201,4722+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[201,4722+16]..[201,4722+49])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[201,4722+16]..[201,4722+17])
          Pmty_ident "S" (testsuite/tests/typing-modules/module_type_substitution.ml[201,4722+16]..[201,4722+17])
        [
          Pwith_modtypesubst "M.T" (testsuite/tests/typing-modules/module_type_substitution.ml[201,4722+35]..[201,4722+38])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[201,4722+42]..[201,4722+49])
              Pmty_signature
              []
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[202,4772+0]..[209,5083+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[202,4772+10]..[209,5083+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[202,4772+10]..[209,5083+2])
          Pexp_constant PConst_string ("\nmodule type S = sig module M : sig module type T end val x : (module M.T) end\nLine 8, characters 16-49:\n8 | module type R = S with module type M.T := sig end\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This `with' constraint M.T := sig end\n       makes a packed module ill-formed.\n",(testsuite/tests/typing-modules/module_type_substitution.ml[202,4772+12]..[209,5083+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[212,5089+0]..[217,5171+3])
    Pstr_modtype "S" (testsuite/tests/typing-modules/module_type_substitution.ml[212,5089+12]..[212,5089+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[212,5089+16]..[217,5171+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[213,5109+2]..[216,5165+5])
            Psig_module "M" (testsuite/tests/typing-modules/module_type_substitution.ml[213,5109+9]..[213,5109+10])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[213,5109+12]..[216,5165+5])
              Pmty_signature
              [
                signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[214,5125+4]..[214,5125+17])
                  Psig_modtype "T" (testsuite/tests/typing-modules/module_type_substitution.ml[214,5125+16]..[214,5125+17])
                  #abstract                signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[215,5143+4]..[215,5143+21])
                  Psig_value
                  value_description "x" (testsuite/tests/typing-modules/module_type_substitution.ml[215,5143+8]..[215,5143+9]) (testsuite/tests/typing-modules/module_type_substitution.ml[215,5143+4]..[215,5143+21])
                    core_type (testsuite/tests/typing-modules/module_type_substitution.ml[215,5143+11]..[215,5143+21])
                      Ptyp_package "T" (testsuite/tests/typing-modules/module_type_substitution.ml[215,5143+19]..[215,5143+20])
                      []
                    []
              ]
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[219,5176+0]..[219,5176+49])
    Pstr_modtype "R" (testsuite/tests/typing-modules/module_type_substitution.ml[219,5176+12]..[219,5176+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[219,5176+16]..[219,5176+49])
        Pmty_with
        module_type (testsuite/tests/typing-modules/module_type_substitution.ml[219,5176+16]..[219,5176+17])
          Pmty_ident "S" (testsuite/tests/typing-modules/module_type_substitution.ml[219,5176+16]..[219,5176+17])
        [
          Pwith_modtypesubst "M.T" (testsuite/tests/typing-modules/module_type_substitution.ml[219,5176+35]..[219,5176+38])
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[219,5176+42]..[219,5176+49])
              Pmty_signature
              []
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[220,5226+0]..[226,5526+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[220,5226+10]..[226,5526+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[220,5226+10]..[226,5526+2])
          Pexp_constant PConst_string ("\nmodule type S = sig module M : sig module type T val x : (module T) end end\nLine 8, characters 16-49:\n8 | module type R = S with module type M.T := sig end\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: This `with' constraint T := sig end makes a packed module ill-formed.\n",(testsuite/tests/typing-modules/module_type_substitution.ml[220,5226+12]..[226,5526+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[229,5532+0]..[229,5532+38])
    Pstr_attribute "ocaml.text"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[229,5532+0]..[229,5532+38])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[229,5532+0]..[229,5532+38])
          Pexp_constant PConst_string(" local module type substitutions ",(testsuite/tests/typing-modules/module_type_substitution.ml[229,5532+0]..[229,5532+38]),None)
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[231,5572+0]..[235,5730+3])
    Pstr_modtype "s" (testsuite/tests/typing-modules/module_type_substitution.ml[231,5572+12]..[231,5572+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[231,5572+16]..[235,5730+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+2]..[232,5592+47])
            Psig_modtypesubst "u" (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+14]..[232,5592+15])
              module_type (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+19]..[232,5592+47])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+23]..[232,5592+29])
                    Psig_type Rec
                    [
                      type_declaration "a" (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+28]..[232,5592+29]) (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+23]..[232,5592+29])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+30]..[232,5592+36])
                    Psig_type Rec
                    [
                      type_declaration "b" (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+35]..[232,5592+36]) (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+30]..[232,5592+36])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+37]..[232,5592+43])
                    Psig_type Rec
                    [
                      type_declaration "c" (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+42]..[232,5592+43]) (testsuite/tests/typing-modules/module_type_substitution.ml[232,5592+37]..[232,5592+43])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                ]
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[233,5640+2]..[233,5640+42])
            Psig_modtype "r" (testsuite/tests/typing-modules/module_type_substitution.ml[233,5640+14]..[233,5640+15])
              module_type (testsuite/tests/typing-modules/module_type_substitution.ml[233,5640+18]..[233,5640+42])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[233,5640+22]..[233,5640+28])
                    Psig_type Rec
                    [
                      type_declaration "r" (testsuite/tests/typing-modules/module_type_substitution.ml[233,5640+27]..[233,5640+28]) (testsuite/tests/typing-modules/module_type_substitution.ml[233,5640+22]..[233,5640+28])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[233,5640+29]..[233,5640+38])
                    Psig_include
                    module_type (testsuite/tests/typing-modules/module_type_substitution.ml[233,5640+37]..[233,5640+38])
                      Pmty_ident "u" (testsuite/tests/typing-modules/module_type_substitution.ml[233,5640+37]..[233,5640+38])
                ]
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+2]..[234,5683+46])
            Psig_modtype "s" (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+14]..[234,5683+15])
              module_type (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+18]..[234,5683+46])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+22]..[234,5683+31])
                    Psig_include
                    module_type (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+30]..[234,5683+31])
                      Pmty_ident "u" (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+30]..[234,5683+31])
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+32]..[234,5683+42])
                    Psig_type Rec
                    [
                      type_declaration "a" (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+37]..[234,5683+38]) (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+32]..[234,5683+42])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_variant
                            [
                              (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+41]..[234,5683+42])
                                "A" (testsuite/tests/typing-modules/module_type_substitution.ml[234,5683+41]..[234,5683+42])
                                []
                                None
                            ]
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                ]
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[236,5734+0]..[242,5884+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[236,5734+10]..[242,5884+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[236,5734+10]..[242,5884+2])
          Pexp_constant PConst_string ("\nmodule type s =\n  sig\n    module type r = sig type r type a type b type c end\n    module type s = sig type b type c type a = A end\n  end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[236,5734+12]..[242,5884+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[245,5890+0]..[248,6005+3])
    Pstr_modtype "s" (testsuite/tests/typing-modules/module_type_substitution.ml[245,5890+12]..[245,5890+13])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[245,5890+16]..[248,6005+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+2]..[246,5910+47])
            Psig_modtypesubst "u" (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+14]..[246,5910+15])
              module_type (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+19]..[246,5910+47])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+23]..[246,5910+29])
                    Psig_type Rec
                    [
                      type_declaration "a" (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+28]..[246,5910+29]) (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+23]..[246,5910+29])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+30]..[246,5910+36])
                    Psig_type Rec
                    [
                      type_declaration "b" (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+35]..[246,5910+36]) (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+30]..[246,5910+36])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+37]..[246,5910+43])
                    Psig_type Rec
                    [
                      type_declaration "c" (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+42]..[246,5910+43]) (testsuite/tests/typing-modules/module_type_substitution.ml[246,5910+37]..[246,5910+43])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                ]
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[247,5958+2]..[247,5958+46])
            Psig_modtype "wrong" (testsuite/tests/typing-modules/module_type_substitution.ml[247,5958+14]..[247,5958+19])
              module_type (testsuite/tests/typing-modules/module_type_substitution.ml[247,5958+22]..[247,5958+46])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[247,5958+26]..[247,5958+32])
                    Psig_type Rec
                    [
                      type_declaration "a" (testsuite/tests/typing-modules/module_type_substitution.ml[247,5958+31]..[247,5958+32]) (testsuite/tests/typing-modules/module_type_substitution.ml[247,5958+26]..[247,5958+32])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[247,5958+33]..[247,5958+42])
                    Psig_include
                    module_type (testsuite/tests/typing-modules/module_type_substitution.ml[247,5958+41]..[247,5958+42])
                      Pmty_ident "u" (testsuite/tests/typing-modules/module_type_substitution.ml[247,5958+41]..[247,5958+42])
                ]
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[249,6009+0]..[255,6256+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[249,6009+10]..[255,6256+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[249,6009+10]..[255,6256+2])
          Pexp_constant PConst_string ("\nLine 3, characters 33-42:\n3 |   module type wrong = sig type a include u end\n                                     ^^^^^^^^^\nError: Multiple definition of the type name a.\n       Names must be unique in a given structure or signature.\n",(testsuite/tests/typing-modules/module_type_substitution.ml[249,6009+12]..[255,6256+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[257,6261+0]..[260,6330+3])
    Pstr_modtype "fst" (testsuite/tests/typing-modules/module_type_substitution.ml[257,6261+12]..[257,6261+15])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[257,6261+18]..[260,6330+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[258,6283+2]..[258,6283+26])
            Psig_modtypesubst "t" (testsuite/tests/typing-modules/module_type_substitution.ml[258,6283+14]..[258,6283+15])
              module_type (testsuite/tests/typing-modules/module_type_substitution.ml[258,6283+19]..[258,6283+26])
                Pmty_signature
                []
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[259,6310+2]..[259,6310+19])
            Psig_value
            value_description "x" (testsuite/tests/typing-modules/module_type_substitution.ml[259,6310+6]..[259,6310+7]) (testsuite/tests/typing-modules/module_type_substitution.ml[259,6310+2]..[259,6310+19])
              core_type (testsuite/tests/typing-modules/module_type_substitution.ml[259,6310+9]..[259,6310+19])
                Ptyp_package "t" (testsuite/tests/typing-modules/module_type_substitution.ml[259,6310+17]..[259,6310+18])
                []
              []
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[261,6334+0]..[267,6559+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[261,6334+10]..[267,6559+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[261,6334+10]..[267,6559+2])
          Pexp_constant PConst_string ("\nLine 3, characters 2-19:\n3 |   val x: (module t)\n      ^^^^^^^^^^^^^^^^^\nError: The module type t is not a valid type for a packed module:\n       it is defined as a local substitution for a non-path module type.\n",(testsuite/tests/typing-modules/module_type_substitution.ml[261,6334+12]..[267,6559+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[270,6565+0]..[275,6669+3])
    Pstr_modtype "hidden" (testsuite/tests/typing-modules/module_type_substitution.ml[270,6565+12]..[270,6565+18])
      module_type (testsuite/tests/typing-modules/module_type_substitution.ml[270,6565+21]..[275,6669+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[271,6590+2]..[271,6590+33])
            Psig_modtypesubst "t" (testsuite/tests/typing-modules/module_type_substitution.ml[271,6590+14]..[271,6590+15])
              module_type (testsuite/tests/typing-modules/module_type_substitution.ml[271,6590+19]..[271,6590+33])
                Pmty_signature
                [
                  signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[271,6590+23]..[271,6590+29])
                    Psig_type Rec
                    [
                      type_declaration "u" (testsuite/tests/typing-modules/module_type_substitution.ml[271,6590+28]..[271,6590+29]) (testsuite/tests/typing-modules/module_type_substitution.ml[271,6590+23]..[271,6590+29])
                        ptype_params =
                          []
                        ptype_cstrs =
                          []
                        ptype_kind =
                          Ptype_abstract
                        ptype_private = Public
                        ptype_manifest =
                          None
                    ]
                ]
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[272,6624+2]..[272,6624+11])
            Psig_include
            module_type (testsuite/tests/typing-modules/module_type_substitution.ml[272,6624+10]..[272,6624+11])
              Pmty_ident "t" (testsuite/tests/typing-modules/module_type_substitution.ml[272,6624+10]..[272,6624+11])
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[273,6636+2]..[273,6636+19])
            Psig_value
            value_description "x" (testsuite/tests/typing-modules/module_type_substitution.ml[273,6636+6]..[273,6636+7]) (testsuite/tests/typing-modules/module_type_substitution.ml[273,6636+2]..[273,6636+19])
              core_type (testsuite/tests/typing-modules/module_type_substitution.ml[273,6636+9]..[273,6636+19])
                Ptyp_package "t" (testsuite/tests/typing-modules/module_type_substitution.ml[273,6636+17]..[273,6636+18])
                []
              []
          signature_item (testsuite/tests/typing-modules/module_type_substitution.ml[274,6656+2]..[274,6656+12])
            Psig_value
            value_description "x" (testsuite/tests/typing-modules/module_type_substitution.ml[274,6656+6]..[274,6656+7]) (testsuite/tests/typing-modules/module_type_substitution.ml[274,6656+2]..[274,6656+12])
              core_type (testsuite/tests/typing-modules/module_type_substitution.ml[274,6656+9]..[274,6656+12])
                Ptyp_constr "int" (testsuite/tests/typing-modules/module_type_substitution.ml[274,6656+9]..[274,6656+12])
                []
              []
        ]
  structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[276,6673+0]..[278,6734+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-modules/module_type_substitution.ml[276,6673+10]..[278,6734+2])
        Pstr_eval
        expression (testsuite/tests/typing-modules/module_type_substitution.ml[276,6673+10]..[278,6734+2])
          Pexp_constant PConst_string ("\nmodule type hidden = sig type u val x : int end\n",(testsuite/tests/typing-modules/module_type_substitution.ml[276,6673+12]..[278,6734+0]),Some "")
    ]
]

