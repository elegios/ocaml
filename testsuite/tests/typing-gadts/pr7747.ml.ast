[
  structure_item (testsuite/tests/typing-gadts/pr7747.ml[5,24+0]..[5,24+33])
    Pstr_type Rec
    [
      type_declaration "eq" (testsuite/tests/typing-gadts/pr7747.ml[5,24+11]..[5,24+13]) (testsuite/tests/typing-gadts/pr7747.ml[5,24+0]..[5,24+33])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr7747.ml[5,24+6]..[5,24+7])
              Ptyp_any
            core_type (testsuite/tests/typing-gadts/pr7747.ml[5,24+8]..[5,24+9])
              Ptyp_any
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr7747.ml[5,24+16]..[5,24+33])
                "Refl" (testsuite/tests/typing-gadts/pr7747.ml[5,24+16]..[5,24+20])
                []
                Some
                  core_type (testsuite/tests/typing-gadts/pr7747.ml[5,24+23]..[5,24+33])
                    Ptyp_constr "eq" (testsuite/tests/typing-gadts/pr7747.ml[5,24+31]..[5,24+33])
                    [
                      core_type (testsuite/tests/typing-gadts/pr7747.ml[5,24+24]..[5,24+26])
                        Ptyp_var a
                      core_type (testsuite/tests/typing-gadts/pr7747.ml[5,24+27]..[5,24+29])
                        Ptyp_var a
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr7747.ml[7,59+0]..[7,59+28])
    Pstr_module
    "M" (testsuite/tests/typing-gadts/pr7747.ml[7,59+7]..[7,59+8])
      module_expr (testsuite/tests/typing-gadts/pr7747.ml[7,59+11]..[7,59+28])
        Pmod_structure
        [
          structure_item (testsuite/tests/typing-gadts/pr7747.ml[7,59+18]..[7,59+24])
            Pstr_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-gadts/pr7747.ml[7,59+23]..[7,59+24]) (testsuite/tests/typing-gadts/pr7747.ml[7,59+18]..[7,59+24])
                ptype_params =
                  []
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-gadts/pr7747.ml[8,88+0]..[9,151+39])
    Pstr_module
    "N" (testsuite/tests/typing-gadts/pr7747.ml[8,88+7]..[8,88+8])
      module_expr (testsuite/tests/typing-gadts/pr7747.ml[8,88+9]..[9,151+39])
        Pmod_constraint
        module_expr (testsuite/tests/typing-gadts/pr7747.ml[9,151+2]..[9,151+39])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-gadts/pr7747.ml[9,151+9]..[9,151+21])
              Pstr_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-gadts/pr7747.ml[9,151+14]..[9,151+15]) (testsuite/tests/typing-gadts/pr7747.ml[9,151+9]..[9,151+21])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-gadts/pr7747.ml[9,151+18]..[9,151+21])
                        Ptyp_constr "M.t" (testsuite/tests/typing-gadts/pr7747.ml[9,151+18]..[9,151+21])
                        []
              ]
            structure_item (testsuite/tests/typing-gadts/pr7747.ml[9,151+22]..[9,151+35])
              Pstr_value Nonrec
              [
                <def>
                  pattern (testsuite/tests/typing-gadts/pr7747.ml[9,151+26]..[9,151+28])
                    Ppat_var "eq" (testsuite/tests/typing-gadts/pr7747.ml[9,151+26]..[9,151+28])
                  expression (testsuite/tests/typing-gadts/pr7747.ml[9,151+31]..[9,151+35])
                    Pexp_construct "Refl" (testsuite/tests/typing-gadts/pr7747.ml[9,151+31]..[9,151+35])
                    None
              ]
          ]
        module_type (testsuite/tests/typing-gadts/pr7747.ml[8,88+11]..[8,88+60])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-gadts/pr7747.ml[8,88+15]..[8,88+35])
              Psig_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-gadts/pr7747.ml[8,88+20]..[8,88+21]) (testsuite/tests/typing-gadts/pr7747.ml[8,88+15]..[8,88+35])
                  ptype_params =
                    []
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Private
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-gadts/pr7747.ml[8,88+32]..[8,88+35])
                        Ptyp_constr "M.t" (testsuite/tests/typing-gadts/pr7747.ml[8,88+32]..[8,88+35])
                        []
              ]
            signature_item (testsuite/tests/typing-gadts/pr7747.ml[8,88+36]..[8,88+56])
              Psig_value
              value_description "eq" (testsuite/tests/typing-gadts/pr7747.ml[8,88+40]..[8,88+42]) (testsuite/tests/typing-gadts/pr7747.ml[8,88+36]..[8,88+56])
                core_type (testsuite/tests/typing-gadts/pr7747.ml[8,88+45]..[8,88+56])
                  Ptyp_constr "eq" (testsuite/tests/typing-gadts/pr7747.ml[8,88+54]..[8,88+56])
                  [
                    core_type (testsuite/tests/typing-gadts/pr7747.ml[8,88+46]..[8,88+47])
                      Ptyp_constr "t" (testsuite/tests/typing-gadts/pr7747.ml[8,88+46]..[8,88+47])
                      []
                    core_type (testsuite/tests/typing-gadts/pr7747.ml[8,88+49]..[8,88+52])
                      Ptyp_constr "M.t" (testsuite/tests/typing-gadts/pr7747.ml[8,88+49]..[8,88+52])
                      []
                  ]
                []
          ]
  structure_item (testsuite/tests/typing-gadts/pr7747.ml[16,294+0]..[16,294+50])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/pr7747.ml[16,294+4]..[16,294+5])
          Ppat_var "f" (testsuite/tests/typing-gadts/pr7747.ml[16,294+4]..[16,294+5])
        expression (testsuite/tests/typing-gadts/pr7747.ml[16,294+6]..[16,294+50]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-gadts/pr7747.ml[16,294+6]..[16,294+7])
            Ppat_var "x" (testsuite/tests/typing-gadts/pr7747.ml[16,294+6]..[16,294+7])
          expression (testsuite/tests/typing-gadts/pr7747.ml[16,294+10]..[16,294+50])
            Pexp_match
            expression (testsuite/tests/typing-gadts/pr7747.ml[16,294+16]..[16,294+20])
              Pexp_ident "N.eq" (testsuite/tests/typing-gadts/pr7747.ml[16,294+16]..[16,294+20])
            [
              <case>
                pattern (testsuite/tests/typing-gadts/pr7747.ml[16,294+26]..[16,294+30])
                  Ppat_construct "Refl" (testsuite/tests/typing-gadts/pr7747.ml[16,294+26]..[16,294+30])
                  None
                expression (testsuite/tests/typing-gadts/pr7747.ml[16,294+34]..[16,294+50])
                  Pexp_coerce
                  expression (testsuite/tests/typing-gadts/pr7747.ml[16,294+35]..[16,294+36])
                    Pexp_ident "x" (testsuite/tests/typing-gadts/pr7747.ml[16,294+35]..[16,294+36])
                  Some
                    core_type (testsuite/tests/typing-gadts/pr7747.ml[16,294+39]..[16,294+42])
                      Ptyp_constr "N.t" (testsuite/tests/typing-gadts/pr7747.ml[16,294+39]..[16,294+42])
                      []
                  core_type (testsuite/tests/typing-gadts/pr7747.ml[16,294+46]..[16,294+49])
                    Ptyp_constr "M.t" (testsuite/tests/typing-gadts/pr7747.ml[16,294+46]..[16,294+49])
                    []
            ]
    ]
  structure_item (testsuite/tests/typing-gadts/pr7747.ml[17,347+0]..[22,509+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr7747.ml[17,347+9]..[22,509+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr7747.ml[17,347+9]..[22,509+2])
          Pexp_constant PConst_string ("\ntype (_, _) eq = Refl : ('a, 'a) eq\nmodule M : sig type t end\nmodule N : sig type t = private M.t val eq : (t, M.t) eq end\nval f : N.t -> M.t = <fun>\n",(testsuite/tests/typing-gadts/pr7747.ml[17,347+11]..[22,509+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr7747.ml[23,513+0]..[23,513+50])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/pr7747.ml[23,513+4]..[23,513+5])
          Ppat_var "f" (testsuite/tests/typing-gadts/pr7747.ml[23,513+4]..[23,513+5])
        expression (testsuite/tests/typing-gadts/pr7747.ml[23,513+6]..[23,513+50]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-gadts/pr7747.ml[23,513+6]..[23,513+7])
            Ppat_var "x" (testsuite/tests/typing-gadts/pr7747.ml[23,513+6]..[23,513+7])
          expression (testsuite/tests/typing-gadts/pr7747.ml[23,513+10]..[23,513+50])
            Pexp_match
            expression (testsuite/tests/typing-gadts/pr7747.ml[23,513+16]..[23,513+20])
              Pexp_ident "N.eq" (testsuite/tests/typing-gadts/pr7747.ml[23,513+16]..[23,513+20])
            [
              <case>
                pattern (testsuite/tests/typing-gadts/pr7747.ml[23,513+26]..[23,513+30])
                  Ppat_construct "Refl" (testsuite/tests/typing-gadts/pr7747.ml[23,513+26]..[23,513+30])
                  None
                expression (testsuite/tests/typing-gadts/pr7747.ml[23,513+34]..[23,513+50])
                  Pexp_coerce
                  expression (testsuite/tests/typing-gadts/pr7747.ml[23,513+35]..[23,513+36])
                    Pexp_ident "x" (testsuite/tests/typing-gadts/pr7747.ml[23,513+35]..[23,513+36])
                  Some
                    core_type (testsuite/tests/typing-gadts/pr7747.ml[23,513+39]..[23,513+42])
                      Ptyp_constr "M.t" (testsuite/tests/typing-gadts/pr7747.ml[23,513+39]..[23,513+42])
                      []
                  core_type (testsuite/tests/typing-gadts/pr7747.ml[23,513+46]..[23,513+49])
                    Ptyp_constr "N.t" (testsuite/tests/typing-gadts/pr7747.ml[23,513+46]..[23,513+49])
                    []
            ]
    ]
  structure_item (testsuite/tests/typing-gadts/pr7747.ml[24,566+0]..[29,756+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr7747.ml[24,566+9]..[29,756+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr7747.ml[24,566+9]..[29,756+2])
          Pexp_constant PConst_string ("\nLine 1, characters 34-50:\n1 | let f x = match N.eq with Refl -> (x : M.t :> N.t);;\n                                      ^^^^^^^^^^^^^^^^\nError: Type M.t is not a subtype of N.t\n",(testsuite/tests/typing-gadts/pr7747.ml[24,566+11]..[29,756+0]),Some "")
    ]
]

