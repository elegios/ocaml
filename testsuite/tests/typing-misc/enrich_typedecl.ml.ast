[
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[5,24+0]..[14,161+3])
    Pstr_recmodule
    [
      "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[5,24+11]..[5,24+12])
        module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[5,24+13]..[14,161+3])
          Pmod_constraint
          module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[7,67+6]..[14,161+3])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[8,80+2]..[8,80+16])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[8,80+7]..[8,80+8]) (testsuite/tests/typing-misc/enrich_typedecl.ml[8,80+2]..[8,80+16])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[8,80+11]..[8,80+12])
                            "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[8,80+11]..[8,80+12])
                            []
                            None
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[8,80+13]..[8,80+16])
                            "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[8,80+15]..[8,80+16])
                            []
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[10,98+2]..[13,147+13])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[10,98+6]..[10,98+7])
                      Ppat_var "f" (testsuite/tests/typing-misc/enrich_typedecl.ml[10,98+6]..[10,98+7])
                    expression (testsuite/tests/typing-misc/enrich_typedecl.ml[10,98+8]..[13,147+13]) ghost
                      Pexp_fun
                      Nolabel
                      None
                      pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[10,98+8]..[10,98+15])
                        Ppat_constraint
                        pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[10,98+9]..[10,98+10])
                          Ppat_var "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[10,98+9]..[10,98+10])
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[10,98+13]..[10,98+14])
                          Ptyp_constr "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[10,98+13]..[10,98+14])
                          []
                      expression (testsuite/tests/typing-misc/enrich_typedecl.ml[11,116+4]..[13,147+13])
                        Pexp_match
                        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[11,116+10]..[11,116+11])
                          Pexp_ident "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[11,116+10]..[11,116+11])
                        [
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[12,133+6]..[12,133+7])
                              Ppat_construct "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[12,133+6]..[12,133+7])
                              None
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[12,133+11]..[12,133+13])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[12,133+11]..[12,133+13])
                              None
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[13,147+6]..[13,147+7])
                              Ppat_construct "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[13,147+6]..[13,147+7])
                              None
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[13,147+11]..[13,147+13])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[13,147+11]..[13,147+13])
                              None
                        ]
                ]
            ]
          module_type (testsuite/tests/typing-misc/enrich_typedecl.ml[5,24+15]..[7,67+3])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-misc/enrich_typedecl.ml[6,43+2]..[6,43+23])
                Psig_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[6,43+7]..[6,43+8]) (testsuite/tests/typing-misc/enrich_typedecl.ml[6,43+2]..[6,43+23])
                    ptype_params =
                      []
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[6,43+11]..[6,43+23])
                          Ptyp_tuple
                          [
                            core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[6,43+11]..[6,43+14])
                              Ptyp_constr "int" (testsuite/tests/typing-misc/enrich_typedecl.ml[6,43+11]..[6,43+14])
                              []
                            core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[6,43+17]..[6,43+23])
                              Ptyp_constr "string" (testsuite/tests/typing-misc/enrich_typedecl.ml[6,43+17]..[6,43+23])
                              []
                          ]
                ]
            ]
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[15,167+0]..[35,707+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[15,167+9]..[35,707+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[15,167+9]..[35,707+2])
          Pexp_constant PConst_string ("\nLines 3-10, characters 6-3:\n 3 | ......struct\n 4 |   type t = A | B\n 5 |\n 6 |   let f (x : t) =\n 7 |     match x with\n 8 |     | A -> ()\n 9 |     | B -> ()\n10 | end..\nError: Signature mismatch:\n       Modules do not match:\n         sig type t = A.t = A | B val f : t -> unit end\n       is not included in\n         sig type t = int * string end\n       Type declarations do not match:\n         type t = A.t = A | B\n       is not included in\n         type t = int * string\n       The type A.t is not equal to the type int * string\n",(testsuite/tests/typing-misc/enrich_typedecl.ml[15,167+11]..[35,707+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[37,712+0]..[46,855+3])
    Pstr_recmodule
    [
      "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[37,712+11]..[37,712+12])
        module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[37,712+13]..[46,855+3])
          Pmod_constraint
          module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[39,748+6]..[46,855+3])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[40,761+2]..[40,761+25])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[40,761+10]..[40,761+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[40,761+2]..[40,761+25])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[40,761+7]..[40,761+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[40,761+14]..[40,761+21])
                            "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[40,761+14]..[40,761+15])
                            [
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[40,761+19]..[40,761+21])
                                Ptyp_var a
                            ]
                            None
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[40,761+22]..[40,761+25])
                            "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[40,761+24]..[40,761+25])
                            []
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[42,788+2]..[45,841+13])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[42,788+6]..[42,788+7])
                      Ppat_var "f" (testsuite/tests/typing-misc/enrich_typedecl.ml[42,788+6]..[42,788+7])
                    expression (testsuite/tests/typing-misc/enrich_typedecl.ml[42,788+8]..[45,841+13]) ghost
                      Pexp_fun
                      Nolabel
                      None
                      pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[42,788+8]..[42,788+17])
                        Ppat_constraint
                        pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[42,788+9]..[42,788+10])
                          Ppat_var "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[42,788+9]..[42,788+10])
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[42,788+13]..[42,788+16])
                          Ptyp_constr "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[42,788+15]..[42,788+16])
                          [
                            core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[42,788+13]..[42,788+14])
                              Ptyp_any
                          ]
                      expression (testsuite/tests/typing-misc/enrich_typedecl.ml[43,808+4]..[45,841+13])
                        Pexp_match
                        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[43,808+10]..[43,808+11])
                          Pexp_ident "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[43,808+10]..[43,808+11])
                        [
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[44,825+6]..[44,825+9])
                              Ppat_construct "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[44,825+6]..[44,825+7])
                              Some
                                []
                                pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[44,825+8]..[44,825+9])
                                  Ppat_any
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[44,825+13]..[44,825+15])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[44,825+13]..[44,825+15])
                              None
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[45,841+6]..[45,841+7])
                              Ppat_construct "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[45,841+6]..[45,841+7])
                              None
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[45,841+11]..[45,841+13])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[45,841+11]..[45,841+13])
                              None
                        ]
                ]
            ]
          module_type (testsuite/tests/typing-misc/enrich_typedecl.ml[37,712+15]..[39,748+3])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-misc/enrich_typedecl.ml[38,731+2]..[38,731+16])
                Psig_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[38,731+10]..[38,731+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[38,731+2]..[38,731+16])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[38,731+7]..[38,731+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[38,731+14]..[38,731+16])
                          Ptyp_var a
                ]
            ]
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[47,861+0]..[67,1420+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[47,861+9]..[67,1420+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[47,861+9]..[67,1420+2])
          Pexp_constant PConst_string ("\nLines 3-10, characters 6-3:\n 3 | ......struct\n 4 |   type 'a t = A of 'a | B\n 5 |\n 6 |   let f (x : _ t) =\n 7 |     match x with\n 8 |     | A _ -> ()\n 9 |     | B -> ()\n10 | end..\nError: Signature mismatch:\n       Modules do not match:\n         sig type 'a t = 'a B.t = A of 'a | B val f : 'a t -> unit end\n       is not included in\n         sig type 'a t = 'a end\n       Type declarations do not match:\n         type 'a t = 'a B.t = A of 'a | B\n       is not included in\n         type 'a t = 'a\n       The type 'a B.t is not equal to the type 'a\n",(testsuite/tests/typing-misc/enrich_typedecl.ml[47,861+11]..[67,1420+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[69,1427+0]..[78,1578+3])
    Pstr_recmodule
    [
      "C" (testsuite/tests/typing-misc/enrich_typedecl.ml[69,1427+11]..[69,1427+12])
        module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[69,1427+13]..[78,1578+3])
          Pmod_constraint
          module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[71,1471+6]..[78,1578+3])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[72,1484+2]..[72,1484+25])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[72,1484+10]..[72,1484+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[72,1484+2]..[72,1484+25])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[72,1484+7]..[72,1484+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[72,1484+14]..[72,1484+21])
                            "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[72,1484+14]..[72,1484+15])
                            [
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[72,1484+19]..[72,1484+21])
                                Ptyp_var a
                            ]
                            None
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[72,1484+22]..[72,1484+25])
                            "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[72,1484+24]..[72,1484+25])
                            []
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[74,1511+2]..[77,1564+13])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[74,1511+6]..[74,1511+7])
                      Ppat_var "f" (testsuite/tests/typing-misc/enrich_typedecl.ml[74,1511+6]..[74,1511+7])
                    expression (testsuite/tests/typing-misc/enrich_typedecl.ml[74,1511+8]..[77,1564+13]) ghost
                      Pexp_fun
                      Nolabel
                      None
                      pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[74,1511+8]..[74,1511+17])
                        Ppat_constraint
                        pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[74,1511+9]..[74,1511+10])
                          Ppat_var "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[74,1511+9]..[74,1511+10])
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[74,1511+13]..[74,1511+16])
                          Ptyp_constr "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[74,1511+15]..[74,1511+16])
                          [
                            core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[74,1511+13]..[74,1511+14])
                              Ptyp_any
                          ]
                      expression (testsuite/tests/typing-misc/enrich_typedecl.ml[75,1531+4]..[77,1564+13])
                        Pexp_match
                        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[75,1531+10]..[75,1531+11])
                          Pexp_ident "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[75,1531+10]..[75,1531+11])
                        [
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[76,1548+6]..[76,1548+9])
                              Ppat_construct "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[76,1548+6]..[76,1548+7])
                              Some
                                []
                                pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[76,1548+8]..[76,1548+9])
                                  Ppat_any
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[76,1548+13]..[76,1548+15])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[76,1548+13]..[76,1548+15])
                              None
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[77,1564+6]..[77,1564+7])
                              Ppat_construct "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[77,1564+6]..[77,1564+7])
                              None
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[77,1564+11]..[77,1564+13])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[77,1564+11]..[77,1564+13])
                              None
                        ]
                ]
            ]
          module_type (testsuite/tests/typing-misc/enrich_typedecl.ml[69,1427+15]..[71,1471+3])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-misc/enrich_typedecl.ml[70,1446+2]..[70,1446+24])
                Psig_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[70,1446+10]..[70,1446+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[70,1446+2]..[70,1446+24])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[70,1446+7]..[70,1446+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_record
                        [
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[70,1446+16]..[70,1446+22])
                            Immutable
                            "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[70,1446+16]..[70,1446+17])                            core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[70,1446+20]..[70,1446+22])
                              Ptyp_var a
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
            ]
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[79,1584+0]..[99,2137+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[79,1584+9]..[99,2137+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[79,1584+9]..[99,2137+2])
          Pexp_constant PConst_string ("\nLines 3-10, characters 6-3:\n 3 | ......struct\n 4 |   type 'a t = A of 'a | B\n 5 |\n 6 |   let f (x : _ t) =\n 7 |     match x with\n 8 |     | A _ -> ()\n 9 |     | B -> ()\n10 | end..\nError: Signature mismatch:\n       Modules do not match:\n         sig type 'a t = 'a C.t = A of 'a | B val f : 'a t -> unit end\n       is not included in\n         sig type 'a t = { x : 'a; } end\n       Type declarations do not match:\n         type 'a t = 'a C.t = A of 'a | B\n       is not included in\n         type 'a t = { x : 'a; }\n       Their kinds differ.\n",(testsuite/tests/typing-misc/enrich_typedecl.ml[79,1584+11]..[99,2137+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[102,2145+0]..[111,2289+3])
    Pstr_recmodule
    [
      "D" (testsuite/tests/typing-misc/enrich_typedecl.ml[102,2145+11]..[102,2145+12])
        module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[102,2145+13]..[111,2289+3])
          Pmod_constraint
          module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[104,2182+6]..[111,2289+3])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[105,2195+2]..[105,2195+25])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[105,2195+10]..[105,2195+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[105,2195+2]..[105,2195+25])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[105,2195+7]..[105,2195+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[105,2195+14]..[105,2195+21])
                            "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[105,2195+14]..[105,2195+15])
                            [
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[105,2195+19]..[105,2195+21])
                                Ptyp_var a
                            ]
                            None
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[105,2195+22]..[105,2195+25])
                            "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[105,2195+24]..[105,2195+25])
                            []
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[107,2222+2]..[110,2275+13])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[107,2222+6]..[107,2222+7])
                      Ppat_var "f" (testsuite/tests/typing-misc/enrich_typedecl.ml[107,2222+6]..[107,2222+7])
                    expression (testsuite/tests/typing-misc/enrich_typedecl.ml[107,2222+8]..[110,2275+13]) ghost
                      Pexp_fun
                      Nolabel
                      None
                      pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[107,2222+8]..[107,2222+17])
                        Ppat_constraint
                        pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[107,2222+9]..[107,2222+10])
                          Ppat_var "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[107,2222+9]..[107,2222+10])
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[107,2222+13]..[107,2222+16])
                          Ptyp_constr "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[107,2222+15]..[107,2222+16])
                          [
                            core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[107,2222+13]..[107,2222+14])
                              Ptyp_any
                          ]
                      expression (testsuite/tests/typing-misc/enrich_typedecl.ml[108,2242+4]..[110,2275+13])
                        Pexp_match
                        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[108,2242+10]..[108,2242+11])
                          Pexp_ident "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[108,2242+10]..[108,2242+11])
                        [
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[109,2259+6]..[109,2259+9])
                              Ppat_construct "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[109,2259+6]..[109,2259+7])
                              Some
                                []
                                pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[109,2259+8]..[109,2259+9])
                                  Ppat_any
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[109,2259+13]..[109,2259+15])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[109,2259+13]..[109,2259+15])
                              None
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[110,2275+6]..[110,2275+7])
                              Ppat_construct "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[110,2275+6]..[110,2275+7])
                              None
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[110,2275+11]..[110,2275+13])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[110,2275+11]..[110,2275+13])
                              None
                        ]
                ]
            ]
          module_type (testsuite/tests/typing-misc/enrich_typedecl.ml[102,2145+15]..[104,2182+3])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-misc/enrich_typedecl.ml[103,2164+2]..[103,2164+17])
                Psig_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[103,2164+10]..[103,2164+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[103,2164+2]..[103,2164+17])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[103,2164+7]..[103,2164+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[103,2164+14]..[103,2164+17])
                          Ptyp_constr "int" (testsuite/tests/typing-misc/enrich_typedecl.ml[103,2164+14]..[103,2164+17])
                          []
                ]
            ]
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[112,2295+0]..[132,2857+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[112,2295+9]..[132,2857+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[112,2295+9]..[132,2857+2])
          Pexp_constant PConst_string ("\nLines 3-10, characters 6-3:\n 3 | ......struct\n 4 |   type 'a t = A of 'a | B\n 5 |\n 6 |   let f (x : _ t) =\n 7 |     match x with\n 8 |     | A _ -> ()\n 9 |     | B -> ()\n10 | end..\nError: Signature mismatch:\n       Modules do not match:\n         sig type 'a t = 'a D.t = A of 'a | B val f : 'a t -> unit end\n       is not included in\n         sig type 'a t = int end\n       Type declarations do not match:\n         type 'a t = 'a D.t = A of 'a | B\n       is not included in\n         type 'a t = int\n       The type 'a D.t is not equal to the type int\n",(testsuite/tests/typing-misc/enrich_typedecl.ml[112,2295+11]..[132,2857+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[134,2864+0]..[143,3020+3])
    Pstr_recmodule
    [
      "E" (testsuite/tests/typing-misc/enrich_typedecl.ml[134,2864+11]..[134,2864+12])
        module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[134,2864+13]..[143,3020+3])
          Pmod_constraint
          module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[136,2913+6]..[143,3020+3])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[137,2926+2]..[137,2926+25])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[137,2926+10]..[137,2926+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[137,2926+2]..[137,2926+25])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[137,2926+7]..[137,2926+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[137,2926+14]..[137,2926+21])
                            "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[137,2926+14]..[137,2926+15])
                            [
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[137,2926+19]..[137,2926+21])
                                Ptyp_var a
                            ]
                            None
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[137,2926+22]..[137,2926+25])
                            "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[137,2926+24]..[137,2926+25])
                            []
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[139,2953+2]..[142,3006+13])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[139,2953+6]..[139,2953+7])
                      Ppat_var "f" (testsuite/tests/typing-misc/enrich_typedecl.ml[139,2953+6]..[139,2953+7])
                    expression (testsuite/tests/typing-misc/enrich_typedecl.ml[139,2953+8]..[142,3006+13]) ghost
                      Pexp_fun
                      Nolabel
                      None
                      pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[139,2953+8]..[139,2953+17])
                        Ppat_constraint
                        pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[139,2953+9]..[139,2953+10])
                          Ppat_var "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[139,2953+9]..[139,2953+10])
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[139,2953+13]..[139,2953+16])
                          Ptyp_constr "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[139,2953+15]..[139,2953+16])
                          [
                            core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[139,2953+13]..[139,2953+14])
                              Ptyp_any
                          ]
                      expression (testsuite/tests/typing-misc/enrich_typedecl.ml[140,2973+4]..[142,3006+13])
                        Pexp_match
                        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[140,2973+10]..[140,2973+11])
                          Pexp_ident "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[140,2973+10]..[140,2973+11])
                        [
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[141,2990+6]..[141,2990+9])
                              Ppat_construct "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[141,2990+6]..[141,2990+7])
                              Some
                                []
                                pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[141,2990+8]..[141,2990+9])
                                  Ppat_any
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[141,2990+13]..[141,2990+15])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[141,2990+13]..[141,2990+15])
                              None
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[142,3006+6]..[142,3006+7])
                              Ppat_construct "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[142,3006+6]..[142,3006+7])
                              None
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[142,3006+11]..[142,3006+13])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[142,3006+11]..[142,3006+13])
                              None
                        ]
                ]
            ]
          module_type (testsuite/tests/typing-misc/enrich_typedecl.ml[134,2864+15]..[136,2913+3])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-misc/enrich_typedecl.ml[135,2883+2]..[135,2883+29])
                Psig_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[135,2883+10]..[135,2883+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[135,2883+2]..[135,2883+29])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[135,2883+7]..[135,2883+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[135,2883+14]..[135,2883+29])
                          Ptyp_alias "a"
                          core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[135,2883+14]..[135,2883+23])
                            Ptyp_variant closed=Open
                            [
                              Rtag "Foo" true
                                []
                            ]
                            None
                ]
            ]
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[144,3026+0]..[164,3640+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[144,3026+9]..[164,3640+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[144,3026+9]..[164,3640+2])
          Pexp_constant PConst_string ("\nLines 3-10, characters 6-3:\n 3 | ......struct\n 4 |   type 'a t = A of 'a | B\n 5 |\n 6 |   let f (x : _ t) =\n 7 |     match x with\n 8 |     | A _ -> ()\n 9 |     | B -> ()\n10 | end..\nError: Signature mismatch:\n       Modules do not match:\n         sig type 'a t = 'a E.t = A of 'a | B val f : 'a t -> unit end\n       is not included in\n         sig type 'a t = 'a constraint 'a = [> `Foo ] end\n       Type declarations do not match:\n         type 'a t = 'a E.t = A of 'a | B\n       is not included in\n         type 'a t = 'a constraint 'a = [> `Foo ]\n       The type 'a is not equal to the type [> `Foo ]\n",(testsuite/tests/typing-misc/enrich_typedecl.ml[144,3026+11]..[164,3640+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[166,3647+0]..[175,3797+3])
    Pstr_recmodule
    [
      "E2" (testsuite/tests/typing-misc/enrich_typedecl.ml[166,3647+11]..[166,3647+13])
        module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[166,3647+14]..[175,3797+3])
          Pmod_constraint
          module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[168,3690+6]..[175,3797+3])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[169,3703+2]..[169,3703+25])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[169,3703+10]..[169,3703+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[169,3703+2]..[169,3703+25])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[169,3703+7]..[169,3703+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[169,3703+14]..[169,3703+21])
                            "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[169,3703+14]..[169,3703+15])
                            [
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[169,3703+19]..[169,3703+21])
                                Ptyp_var a
                            ]
                            None
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[169,3703+22]..[169,3703+25])
                            "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[169,3703+24]..[169,3703+25])
                            []
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[171,3730+2]..[174,3783+13])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[171,3730+6]..[171,3730+7])
                      Ppat_var "f" (testsuite/tests/typing-misc/enrich_typedecl.ml[171,3730+6]..[171,3730+7])
                    expression (testsuite/tests/typing-misc/enrich_typedecl.ml[171,3730+8]..[174,3783+13]) ghost
                      Pexp_fun
                      Nolabel
                      None
                      pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[171,3730+8]..[171,3730+17])
                        Ppat_constraint
                        pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[171,3730+9]..[171,3730+10])
                          Ppat_var "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[171,3730+9]..[171,3730+10])
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[171,3730+13]..[171,3730+16])
                          Ptyp_constr "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[171,3730+15]..[171,3730+16])
                          [
                            core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[171,3730+13]..[171,3730+14])
                              Ptyp_any
                          ]
                      expression (testsuite/tests/typing-misc/enrich_typedecl.ml[172,3750+4]..[174,3783+13])
                        Pexp_match
                        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[172,3750+10]..[172,3750+11])
                          Pexp_ident "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[172,3750+10]..[172,3750+11])
                        [
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[173,3767+6]..[173,3767+9])
                              Ppat_construct "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[173,3767+6]..[173,3767+7])
                              Some
                                []
                                pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[173,3767+8]..[173,3767+9])
                                  Ppat_any
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[173,3767+13]..[173,3767+15])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[173,3767+13]..[173,3767+15])
                              None
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[174,3783+6]..[174,3783+7])
                              Ppat_construct "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[174,3783+6]..[174,3783+7])
                              None
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[174,3783+11]..[174,3783+13])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[174,3783+11]..[174,3783+13])
                              None
                        ]
                ]
            ]
          module_type (testsuite/tests/typing-misc/enrich_typedecl.ml[166,3647+16]..[168,3690+3])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-misc/enrich_typedecl.ml[167,3667+2]..[167,3667+22])
                Psig_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[167,3667+10]..[167,3667+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[167,3667+2]..[167,3667+22])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[167,3667+7]..[167,3667+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[167,3667+14]..[167,3667+22])
                          Ptyp_variant closed=Closed
                          [
                            Rtag "Foo" true
                              []
                          ]
                          None
                ]
            ]
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[176,3803+0]..[196,4383+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[176,3803+9]..[196,4383+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[176,3803+9]..[196,4383+2])
          Pexp_constant PConst_string ("\nLines 3-10, characters 6-3:\n 3 | ......struct\n 4 |   type 'a t = A of 'a | B\n 5 |\n 6 |   let f (x : _ t) =\n 7 |     match x with\n 8 |     | A _ -> ()\n 9 |     | B -> ()\n10 | end..\nError: Signature mismatch:\n       Modules do not match:\n         sig type 'a t = 'a E2.t = A of 'a | B val f : 'a t -> unit end\n       is not included in\n         sig type 'a t = [ `Foo ] end\n       Type declarations do not match:\n         type 'a t = 'a E2.t = A of 'a | B\n       is not included in\n         type 'a t = [ `Foo ]\n       The type 'a E2.t is not equal to the type [ `Foo ]\n",(testsuite/tests/typing-misc/enrich_typedecl.ml[176,3803+11]..[196,4383+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[198,4390+0]..[207,4547+3])
    Pstr_recmodule
    [
      "E3" (testsuite/tests/typing-misc/enrich_typedecl.ml[198,4390+11]..[198,4390+13])
        module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[198,4390+14]..[207,4547+3])
          Pmod_constraint
          module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[200,4440+6]..[207,4547+3])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[201,4453+2]..[201,4453+25])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[201,4453+10]..[201,4453+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[201,4453+2]..[201,4453+25])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[201,4453+7]..[201,4453+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[201,4453+14]..[201,4453+21])
                            "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[201,4453+14]..[201,4453+15])
                            [
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[201,4453+19]..[201,4453+21])
                                Ptyp_var a
                            ]
                            None
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[201,4453+22]..[201,4453+25])
                            "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[201,4453+24]..[201,4453+25])
                            []
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[203,4480+2]..[206,4533+13])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[203,4480+6]..[203,4480+7])
                      Ppat_var "f" (testsuite/tests/typing-misc/enrich_typedecl.ml[203,4480+6]..[203,4480+7])
                    expression (testsuite/tests/typing-misc/enrich_typedecl.ml[203,4480+8]..[206,4533+13]) ghost
                      Pexp_fun
                      Nolabel
                      None
                      pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[203,4480+8]..[203,4480+17])
                        Ppat_constraint
                        pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[203,4480+9]..[203,4480+10])
                          Ppat_var "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[203,4480+9]..[203,4480+10])
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[203,4480+13]..[203,4480+16])
                          Ptyp_constr "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[203,4480+15]..[203,4480+16])
                          [
                            core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[203,4480+13]..[203,4480+14])
                              Ptyp_any
                          ]
                      expression (testsuite/tests/typing-misc/enrich_typedecl.ml[204,4500+4]..[206,4533+13])
                        Pexp_match
                        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[204,4500+10]..[204,4500+11])
                          Pexp_ident "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[204,4500+10]..[204,4500+11])
                        [
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[205,4517+6]..[205,4517+9])
                              Ppat_construct "A" (testsuite/tests/typing-misc/enrich_typedecl.ml[205,4517+6]..[205,4517+7])
                              Some
                                []
                                pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[205,4517+8]..[205,4517+9])
                                  Ppat_any
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[205,4517+13]..[205,4517+15])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[205,4517+13]..[205,4517+15])
                              None
                          <case>
                            pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[206,4533+6]..[206,4533+7])
                              Ppat_construct "B" (testsuite/tests/typing-misc/enrich_typedecl.ml[206,4533+6]..[206,4533+7])
                              None
                            expression (testsuite/tests/typing-misc/enrich_typedecl.ml[206,4533+11]..[206,4533+13])
                              Pexp_construct "()" (testsuite/tests/typing-misc/enrich_typedecl.ml[206,4533+11]..[206,4533+13])
                              None
                        ]
                ]
            ]
          module_type (testsuite/tests/typing-misc/enrich_typedecl.ml[198,4390+16]..[200,4440+3])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-misc/enrich_typedecl.ml[199,4410+2]..[199,4410+29])
                Psig_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[199,4410+10]..[199,4410+11]) (testsuite/tests/typing-misc/enrich_typedecl.ml[199,4410+2]..[199,4410+29])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[199,4410+7]..[199,4410+9])
                          Ptyp_var a
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_abstract
                    ptype_private = Public
                    ptype_manifest =
                      Some
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[199,4410+14]..[199,4410+29])
                          Ptyp_alias "a"
                          core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[199,4410+14]..[199,4410+23])
                            Ptyp_variant closed=Closed
                            [
                              Rtag "Foo" true
                                []
                            ]
                            Some
                              []
                ]
            ]
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[208,4553+0]..[228,5169+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[208,4553+9]..[228,5169+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[208,4553+9]..[228,5169+2])
          Pexp_constant PConst_string ("\nLines 3-10, characters 6-3:\n 3 | ......struct\n 4 |   type 'a t = A of 'a | B\n 5 |\n 6 |   let f (x : _ t) =\n 7 |     match x with\n 8 |     | A _ -> ()\n 9 |     | B -> ()\n10 | end..\nError: Signature mismatch:\n       Modules do not match:\n         sig type 'a t = 'a E3.t = A of 'a | B val f : 'a t -> unit end\n       is not included in\n         sig type 'a t = 'a constraint 'a = [< `Foo ] end\n       Type declarations do not match:\n         type 'a t = 'a E3.t = A of 'a | B\n       is not included in\n         type 'a t = 'a constraint 'a = [< `Foo ]\n       The type 'a is not equal to the type [< `Foo ]\n",(testsuite/tests/typing-misc/enrich_typedecl.ml[208,4553+11]..[228,5169+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[231,5177+0]..[239,5424+3])
    Pstr_recmodule
    [
      "F" (testsuite/tests/typing-misc/enrich_typedecl.ml[231,5177+11]..[231,5177+12])
        module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[231,5177+13]..[239,5424+3])
          Pmod_constraint
          module_expr (testsuite/tests/typing-misc/enrich_typedecl.ml[233,5226+6]..[239,5424+3])
            Pmod_structure
            [
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[234,5239+2]..[234,5239+29])
                Pstr_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[234,5239+16]..[234,5239+17]) (testsuite/tests/typing-misc/enrich_typedecl.ml[234,5239+2]..[234,5239+29])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[234,5239+8]..[234,5239+10])
                          Ptyp_var a
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[234,5239+12]..[234,5239+14])
                          Ptyp_var b
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[234,5239+20]..[234,5239+29])
                            "Foo" (testsuite/tests/typing-misc/enrich_typedecl.ml[234,5239+20]..[234,5239+23])
                            [
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[234,5239+27]..[234,5239+29])
                                Ptyp_var b
                            ]
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
              structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+2]..[238,5362+61])
                Pstr_value Nonrec
                [
                  <def>
                    pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+6]..[238,5362+48]) ghost
                      Ppat_constraint
                      pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+6]..[238,5362+12])
                        Ppat_var "coerce" (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+6]..[238,5362+12])
                      core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+15]..[238,5362+48]) ghost
                        Ptyp_poly 'a 'b
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+22]..[238,5362+48])
                          Ptyp_arrow
                          Nolabel
                          core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+22]..[238,5362+32])
                            Ptyp_constr "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+31]..[238,5362+32])
                            [
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+23]..[238,5362+25])
                                Ptyp_var a
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+27]..[238,5362+29])
                                Ptyp_var b
                            ]
                          core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+36]..[238,5362+48])
                            Ptyp_constr "F.t" (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+45]..[238,5362+48])
                            [
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+37]..[238,5362+39])
                                Ptyp_var a
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+41]..[238,5362+43])
                                Ptyp_var b
                            ]
                    expression (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+51]..[238,5362+61])
                      Pexp_fun
                      Nolabel
                      None
                      pattern (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+55]..[238,5362+56])
                        Ppat_var "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+55]..[238,5362+56])
                      expression (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+60]..[238,5362+61])
                        Pexp_ident "x" (testsuite/tests/typing-misc/enrich_typedecl.ml[238,5362+60]..[238,5362+61])
                ]
            ]
          module_type (testsuite/tests/typing-misc/enrich_typedecl.ml[231,5177+15]..[233,5226+3])
            Pmty_signature
            [
              signature_item (testsuite/tests/typing-misc/enrich_typedecl.ml[232,5196+2]..[232,5196+29])
                Psig_type Rec
                [
                  type_declaration "t" (testsuite/tests/typing-misc/enrich_typedecl.ml[232,5196+16]..[232,5196+17]) (testsuite/tests/typing-misc/enrich_typedecl.ml[232,5196+2]..[232,5196+29])
                    ptype_params =
                      [
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[232,5196+8]..[232,5196+10])
                          Ptyp_var a
                        core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[232,5196+12]..[232,5196+14])
                          Ptyp_var b
                      ]
                    ptype_cstrs =
                      []
                    ptype_kind =
                      Ptype_variant
                        [
                          (testsuite/tests/typing-misc/enrich_typedecl.ml[232,5196+20]..[232,5196+29])
                            "Foo" (testsuite/tests/typing-misc/enrich_typedecl.ml[232,5196+20]..[232,5196+23])
                            [
                              core_type (testsuite/tests/typing-misc/enrich_typedecl.ml[232,5196+27]..[232,5196+29])
                                Ptyp_var a
                            ]
                            None
                        ]
                    ptype_private = Public
                    ptype_manifest =
                      None
                ]
            ]
    ]
  structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[240,5430+0]..[266,6258+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-misc/enrich_typedecl.ml[240,5430+9]..[266,6258+2])
        Pstr_eval
        expression (testsuite/tests/typing-misc/enrich_typedecl.ml[240,5430+9]..[266,6258+2])
          Pexp_constant PConst_string ("\nLines 3-9, characters 6-3:\n3 | ......struct\n4 |   type ('a, 'b) t = Foo of 'b\n5 |\n6 |   (* this function typechecks properly, which means that we've added the\n7 |      manisfest. *)\n8 |   let coerce : 'a 'b. ('a, 'b) t -> ('a, 'b) F.t = fun x -> x\n9 | end..\nError: Signature mismatch:\n       Modules do not match:\n         sig\n           type ('a, 'b) t = ('a, 'b) F.t = Foo of 'b\n           val coerce : ('a, 'b) t -> ('a, 'b) F.t\n         end\n       is not included in\n         sig type ('a, 'b) t = Foo of 'a end\n       Type declarations do not match:\n         type ('a, 'b) t = ('a, 'b) F.t = Foo of 'b\n       is not included in\n         type ('a, 'b) t = Foo of 'a\n       Constructors do not match:\n         Foo of 'b\n       is not the same as:\n         Foo of 'a\n       The type 'b is not equal to the type 'a\n",(testsuite/tests/typing-misc/enrich_typedecl.ml[240,5430+11]..[266,6258+0]),Some "")
    ]
]

