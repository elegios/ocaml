[
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[6,56+0]..[9,140+3])
    Pstr_module
    "F" (testsuite/tests/typing-gadts/pr5985.ml[6,56+7]..[6,56+8])
      module_expr (testsuite/tests/typing-gadts/pr5985.ml[6,56+9]..[9,140+3])
        Pmod_functor "S" (testsuite/tests/typing-gadts/pr5985.ml[6,56+10]..[6,56+11])
        module_type (testsuite/tests/typing-gadts/pr5985.ml[6,56+14]..[6,56+31])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-gadts/pr5985.ml[6,56+18]..[6,56+27])
              Psig_type Rec
              [
                type_declaration "s" (testsuite/tests/typing-gadts/pr5985.ml[6,56+26]..[6,56+27]) (testsuite/tests/typing-gadts/pr5985.ml[6,56+18]..[6,56+27])
                  ptype_params =
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[6,56+23]..[6,56+25])
                        Ptyp_var a
                    ]
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_expr (testsuite/tests/typing-gadts/pr5985.ml[6,56+35]..[9,140+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-gadts/pr5985.ml[7,98+2]..[7,98+11])
              Pstr_include              module_expr (testsuite/tests/typing-gadts/pr5985.ml[7,98+10]..[7,98+11])
                Pmod_ident "S" (testsuite/tests/typing-gadts/pr5985.ml[7,98+10]..[7,98+11])
            structure_item (testsuite/tests/typing-gadts/pr5985.ml[8,110+2]..[8,110+29])
              Pstr_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-gadts/pr5985.ml[8,110+9]..[8,110+10]) (testsuite/tests/typing-gadts/pr5985.ml[8,110+2]..[8,110+29])
                  ptype_params =
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[8,110+7]..[8,110+8])
                        Ptyp_any
                    ]
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_variant
                      [
                        (testsuite/tests/typing-gadts/pr5985.ml[8,110+13]..[8,110+29])
                          "T" (testsuite/tests/typing-gadts/pr5985.ml[8,110+13]..[8,110+14])
                          [
                            core_type (testsuite/tests/typing-gadts/pr5985.ml[8,110+17]..[8,110+19])
                              Ptyp_var a
                          ]
                          Some
                            core_type (testsuite/tests/typing-gadts/pr5985.ml[8,110+23]..[8,110+29])
                              Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[8,110+28]..[8,110+29])
                              [
                                core_type (testsuite/tests/typing-gadts/pr5985.ml[8,110+23]..[8,110+27])
                                  Ptyp_constr "s" (testsuite/tests/typing-gadts/pr5985.ml[8,110+26]..[8,110+27])
                                  [
                                    core_type (testsuite/tests/typing-gadts/pr5985.ml[8,110+23]..[8,110+25])
                                      Ptyp_var a
                                  ]
                              ]
                      ]
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[10,157+0]..[16,356+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[10,157+9]..[16,356+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[10,157+9]..[16,356+2])
          Pexp_constant PConst_string ("\nLine 3, characters 2-29:\n3 |   type _ t = T : 'a -> 'a s t\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: In this definition, a type variable cannot be deduced\n       from the type parameters.\n",(testsuite/tests/typing-gadts/pr5985.ml[10,157+11]..[16,356+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[35,838+0]..[38,964+3])
    Pstr_module
    "F" (testsuite/tests/typing-gadts/pr5985.ml[35,838+7]..[35,838+8])
      module_expr (testsuite/tests/typing-gadts/pr5985.ml[35,838+8]..[38,964+3])
        Pmod_functor "T" (testsuite/tests/typing-gadts/pr5985.ml[35,838+9]..[35,838+10])
        module_type (testsuite/tests/typing-gadts/pr5985.ml[35,838+11]..[35,838+28])
          Pmty_signature
          [
            signature_item (testsuite/tests/typing-gadts/pr5985.ml[35,838+15]..[35,838+24])
              Psig_type Rec
              [
                type_declaration "t" (testsuite/tests/typing-gadts/pr5985.ml[35,838+23]..[35,838+24]) (testsuite/tests/typing-gadts/pr5985.ml[35,838+15]..[35,838+24])
                  ptype_params =
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[35,838+20]..[35,838+22])
                        Ptyp_var a
                    ]
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    None
              ]
          ]
        module_expr (testsuite/tests/typing-gadts/pr5985.ml[35,838+32]..[38,964+3])
          Pmod_structure
          [
            structure_item (testsuite/tests/typing-gadts/pr5985.ml[36,877+2]..[37,896+67])
              Pstr_class
              [
                class_declaration (testsuite/tests/typing-gadts/pr5985.ml[36,877+2]..[37,896+67])
                  pci_virt = Concrete
                  pci_params =
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[36,877+9]..[36,877+11])
                        Ptyp_var a
                    ]
                  pci_name = "c" (testsuite/tests/typing-gadts/pr5985.ml[36,877+13]..[36,877+14])
                  pci_expr =
                    class_expr (testsuite/tests/typing-gadts/pr5985.ml[36,877+15]..[37,896+67])
                      Pcl_fun
                      Nolabel
                      None
                      pattern (testsuite/tests/typing-gadts/pr5985.ml[36,877+15]..[36,877+16])
                        Ppat_var "x" (testsuite/tests/typing-gadts/pr5985.ml[36,877+15]..[36,877+16])
                      class_expr (testsuite/tests/typing-gadts/pr5985.ml[37,896+4]..[37,896+67])
                        Pcl_structure
                        class_structure
                          pattern (testsuite/tests/typing-gadts/pr5985.ml[37,896+10]..[37,896+10]) ghost
                            Ppat_any
                          [
                            class_field (testsuite/tests/typing-gadts/pr5985.ml[37,896+11]..[37,896+33])
                              Pcf_constraint
                                core_type (testsuite/tests/typing-gadts/pr5985.ml[37,896+22]..[37,896+24])
                                  Ptyp_var a
                                core_type (testsuite/tests/typing-gadts/pr5985.ml[37,896+27]..[37,896+33])
                                  Ptyp_constr "T.t" (testsuite/tests/typing-gadts/pr5985.ml[37,896+30]..[37,896+33])
                                  [
                                    core_type (testsuite/tests/typing-gadts/pr5985.ml[37,896+27]..[37,896+29])
                                      Ptyp_var b
                                  ]
                            class_field (testsuite/tests/typing-gadts/pr5985.ml[37,896+34]..[37,896+49])
                              Pcf_val Immutable
                                "x'" (testsuite/tests/typing-gadts/pr5985.ml[37,896+38]..[37,896+40])
                                Concrete Fresh
                                expression (testsuite/tests/typing-gadts/pr5985.ml[37,896+38]..[37,896+49])
                                  Pexp_constraint
                                  expression (testsuite/tests/typing-gadts/pr5985.ml[37,896+48]..[37,896+49])
                                    Pexp_ident "x" (testsuite/tests/typing-gadts/pr5985.ml[37,896+48]..[37,896+49])
                                  core_type (testsuite/tests/typing-gadts/pr5985.ml[37,896+43]..[37,896+45])
                                    Ptyp_var b
                            class_field (testsuite/tests/typing-gadts/pr5985.ml[37,896+50]..[37,896+63])
                              Pcf_method Public
                                "x" (testsuite/tests/typing-gadts/pr5985.ml[37,896+57]..[37,896+58])
                                Concrete Fresh
                                expression (testsuite/tests/typing-gadts/pr5985.ml[37,896+61]..[37,896+63]) ghost
                                  Pexp_poly
                                  expression (testsuite/tests/typing-gadts/pr5985.ml[37,896+61]..[37,896+63])
                                    Pexp_ident "x'" (testsuite/tests/typing-gadts/pr5985.ml[37,896+61]..[37,896+63])
                                  None
                          ]
              ]
          ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[39,981+0]..[45,1210+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[39,981+9]..[45,1210+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[39,981+9]..[45,1210+2])
          Pexp_constant PConst_string ("\nLines 2-3, characters 2-67:\n2 | ..class ['a] c x =\n3 |     object constraint 'a = 'b T.t val x' : 'b = x method x = x' end\nError: In this definition, a type variable cannot be deduced\n       from the type parameters.\n",(testsuite/tests/typing-gadts/pr5985.ml[39,981+11]..[45,1210+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[49,1295+0]..[49,1295+49])
    Pstr_type Rec
    [
      type_declaration "t" (testsuite/tests/typing-gadts/pr5985.ml[49,1295+8]..[49,1295+9]) (testsuite/tests/typing-gadts/pr5985.ml[49,1295+0]..[49,1295+49])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[49,1295+5]..[49,1295+7])
              Ptyp_var x
          ]
        ptype_cstrs =
          [
            <constraint> (testsuite/tests/typing-gadts/pr5985.ml[49,1295+31]..[49,1295+49])
              core_type (testsuite/tests/typing-gadts/pr5985.ml[49,1295+31]..[49,1295+33])
                Ptyp_var x
              core_type (testsuite/tests/typing-gadts/pr5985.ml[49,1295+36]..[49,1295+49])
                Ptyp_variant closed=Closed
                [
                  Rtag "X" false
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[49,1295+45]..[49,1295+47])
                        Ptyp_var a
                    ]
                ]
                Some
                  []
          ]
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr5985.ml[49,1295+12]..[49,1295+19])
                "A" (testsuite/tests/typing-gadts/pr5985.ml[49,1295+12]..[49,1295+13])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[49,1295+17]..[49,1295+19])
                    Ptyp_var a
                ]
                None
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[50,1359+0]..[52,1408+3])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/pr5985.ml[50,1359+4]..[50,1359+9])
          Ppat_var "magic" (testsuite/tests/typing-gadts/pr5985.ml[50,1359+4]..[50,1359+9])
        expression (testsuite/tests/typing-gadts/pr5985.ml[50,1359+10]..[52,1408+3]) ghost
          Pexp_fun
          Nolabel
          None
          pattern (testsuite/tests/typing-gadts/pr5985.ml[50,1359+10]..[50,1359+19])
            Ppat_constraint
            pattern (testsuite/tests/typing-gadts/pr5985.ml[50,1359+11]..[50,1359+12])
              Ppat_var "x" (testsuite/tests/typing-gadts/pr5985.ml[50,1359+11]..[50,1359+12])
            core_type (testsuite/tests/typing-gadts/pr5985.ml[50,1359+15]..[50,1359+18])
              Ptyp_constr "int" (testsuite/tests/typing-gadts/pr5985.ml[50,1359+15]..[50,1359+18])
              []
          expression (testsuite/tests/typing-gadts/pr5985.ml[50,1359+20]..[52,1408+3])
            Pexp_constraint
            expression (testsuite/tests/typing-gadts/pr5985.ml[51,1389+2]..[52,1408+3])
              Pexp_let Nonrec
              [
                <def>
                  pattern (testsuite/tests/typing-gadts/pr5985.ml[51,1389+6]..[51,1389+9])
                    Ppat_construct "A" (testsuite/tests/typing-gadts/pr5985.ml[51,1389+6]..[51,1389+7])
                    Some
                      []
                      pattern (testsuite/tests/typing-gadts/pr5985.ml[51,1389+8]..[51,1389+9])
                        Ppat_var "x" (testsuite/tests/typing-gadts/pr5985.ml[51,1389+8]..[51,1389+9])
                  expression (testsuite/tests/typing-gadts/pr5985.ml[51,1389+12]..[51,1389+15])
                    Pexp_construct "A" (testsuite/tests/typing-gadts/pr5985.ml[51,1389+12]..[51,1389+13])
                    Some
                      expression (testsuite/tests/typing-gadts/pr5985.ml[51,1389+14]..[51,1389+15])
                        Pexp_ident "x" (testsuite/tests/typing-gadts/pr5985.ml[51,1389+14]..[51,1389+15])
              ]
              expression (testsuite/tests/typing-gadts/pr5985.ml[52,1408+2]..[52,1408+3])
                Pexp_ident "x" (testsuite/tests/typing-gadts/pr5985.ml[52,1408+2]..[52,1408+3])
            core_type (testsuite/tests/typing-gadts/pr5985.ml[50,1359+22]..[50,1359+26])
              Ptyp_constr "bool" (testsuite/tests/typing-gadts/pr5985.ml[50,1359+22]..[50,1359+26])
              []
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[53,1425+0]..[59,1678+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[53,1425+9]..[59,1678+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[53,1425+9]..[59,1678+2])
          Pexp_constant PConst_string ("\nLine 1, characters 0-49:\n1 | type 'x t = A of 'a constraint 'x = [< `X of 'a ] ;; (* fail *)\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: In this definition, a type variable cannot be deduced\n       from the type parameters.\n",(testsuite/tests/typing-gadts/pr5985.ml[53,1425+11]..[59,1678+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[61,1685+0]..[61,1685+37])
    Pstr_type Rec
    [
      type_declaration "t" (testsuite/tests/typing-gadts/pr5985.ml[61,1685+8]..[61,1685+9]) (testsuite/tests/typing-gadts/pr5985.ml[61,1685+0]..[61,1685+37])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[61,1685+5]..[61,1685+7])
              Ptyp_var a
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr5985.ml[61,1685+12]..[61,1685+37])
                "A" (testsuite/tests/typing-gadts/pr5985.ml[61,1685+12]..[61,1685+13])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[61,1685+16]..[61,1685+18])
                    Ptyp_var a
                ]
                Some
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[61,1685+22]..[61,1685+37])
                    Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[61,1685+36]..[61,1685+37])
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[61,1685+22]..[61,1685+35])
                        Ptyp_variant closed=Closed
                        [
                          Rtag "X" false
                            [
                              core_type (testsuite/tests/typing-gadts/pr5985.ml[61,1685+31]..[61,1685+33])
                                Ptyp_var a
                            ]
                        ]
                        Some
                          []
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[62,1736+0]..[68,1964+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[62,1736+9]..[68,1964+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[62,1736+9]..[68,1964+2])
          Pexp_constant PConst_string ("\nLine 1, characters 0-37:\n1 | type 'a t = A : 'a -> [< `X of 'a ] t;; (* fail *)\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: In this definition, a type variable cannot be deduced\n       from the type parameters.\n",(testsuite/tests/typing-gadts/pr5985.ml[62,1736+11]..[68,1964+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[71,2043+0]..[71,2043+31])
    Pstr_type Rec
    [
      type_declaration "eq" (testsuite/tests/typing-gadts/pr5985.ml[71,2043+11]..[71,2043+13]) (testsuite/tests/typing-gadts/pr5985.ml[71,2043+0]..[71,2043+31])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[71,2043+6]..[71,2043+7])
              Ptyp_any
            core_type (testsuite/tests/typing-gadts/pr5985.ml[71,2043+8]..[71,2043+9])
              Ptyp_any
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr5985.ml[71,2043+16]..[71,2043+31])
                "Eq" (testsuite/tests/typing-gadts/pr5985.ml[71,2043+16]..[71,2043+18])
                []
                Some
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[71,2043+21]..[71,2043+31])
                    Ptyp_constr "eq" (testsuite/tests/typing-gadts/pr5985.ml[71,2043+29]..[71,2043+31])
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[71,2043+22]..[71,2043+24])
                        Ptyp_var a
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[71,2043+25]..[71,2043+27])
                        Ptyp_var a
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[72,2077+0]..[72,2077+21])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/pr5985.ml[72,2077+4]..[72,2077+6])
          Ppat_var "eq" (testsuite/tests/typing-gadts/pr5985.ml[72,2077+4]..[72,2077+6])
        expression (testsuite/tests/typing-gadts/pr5985.ml[72,2077+9]..[72,2077+21])
          Pexp_apply
          expression (testsuite/tests/typing-gadts/pr5985.ml[72,2077+9]..[72,2077+18])
            Pexp_ident "Obj.magic" (testsuite/tests/typing-gadts/pr5985.ml[72,2077+9]..[72,2077+18])
          [
            <arg>
            Nolabel
              expression (testsuite/tests/typing-gadts/pr5985.ml[72,2077+19]..[72,2077+21])
                Pexp_construct "Eq" (testsuite/tests/typing-gadts/pr5985.ml[72,2077+19]..[72,2077+21])
                None
          ]
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[73,2101+0]..[73,2101+67])
    Pstr_value Nonrec
    [
      <def>
        pattern (testsuite/tests/typing-gadts/pr5985.ml[73,2101+4]..[73,2101+62]) ghost
          Ppat_constraint
          pattern (testsuite/tests/typing-gadts/pr5985.ml[73,2101+4]..[73,2101+6])
            Ppat_var "eq" (testsuite/tests/typing-gadts/pr5985.ml[73,2101+4]..[73,2101+6])
          core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+9]..[73,2101+62]) ghost
            Ptyp_poly
            core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+9]..[73,2101+62])
              Ptyp_constr "eq" (testsuite/tests/typing-gadts/pr5985.ml[73,2101+60]..[73,2101+62])
              [
                core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+10]..[73,2101+33])
                  Ptyp_constr "Ephemeron.K1.t" (testsuite/tests/typing-gadts/pr5985.ml[73,2101+19]..[73,2101+33])
                  [
                    core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+11]..[73,2101+13])
                      Ptyp_var a
                    core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+15]..[73,2101+17])
                      Ptyp_var b
                  ]
                core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+35]..[73,2101+58])
                  Ptyp_constr "Ephemeron.K1.t" (testsuite/tests/typing-gadts/pr5985.ml[73,2101+44]..[73,2101+58])
                  [
                    core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+36]..[73,2101+38])
                      Ptyp_var c
                    core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+40]..[73,2101+42])
                      Ptyp_var d
                  ]
              ]
        expression (testsuite/tests/typing-gadts/pr5985.ml[73,2101+4]..[73,2101+67])
          Pexp_constraint
          expression (testsuite/tests/typing-gadts/pr5985.ml[73,2101+65]..[73,2101+67])
            Pexp_ident "eq" (testsuite/tests/typing-gadts/pr5985.ml[73,2101+65]..[73,2101+67])
          core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+9]..[73,2101+62])
            Ptyp_constr "eq" (testsuite/tests/typing-gadts/pr5985.ml[73,2101+60]..[73,2101+62])
            [
              core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+10]..[73,2101+33])
                Ptyp_constr "Ephemeron.K1.t" (testsuite/tests/typing-gadts/pr5985.ml[73,2101+19]..[73,2101+33])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+11]..[73,2101+13])
                    Ptyp_var a
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+15]..[73,2101+17])
                    Ptyp_var b
                ]
              core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+35]..[73,2101+58])
                Ptyp_constr "Ephemeron.K1.t" (testsuite/tests/typing-gadts/pr5985.ml[73,2101+44]..[73,2101+58])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+36]..[73,2101+38])
                    Ptyp_var c
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[73,2101+40]..[73,2101+42])
                    Ptyp_var d
                ]
            ]
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[74,2171+0]..[74,2171+46])
    Pstr_type Rec
    [
      type_declaration "t" (testsuite/tests/typing-gadts/pr5985.ml[74,2171+7]..[74,2171+8]) (testsuite/tests/typing-gadts/pr5985.ml[74,2171+0]..[74,2171+46])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[74,2171+5]..[74,2171+6])
              Ptyp_any
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr5985.ml[74,2171+11]..[74,2171+46])
                "T" (testsuite/tests/typing-gadts/pr5985.ml[74,2171+11]..[74,2171+12])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[74,2171+15]..[74,2171+17])
                    Ptyp_var a
                ]
                Some
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[74,2171+21]..[74,2171+46])
                    Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[74,2171+45]..[74,2171+46])
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[74,2171+21]..[74,2171+44])
                        Ptyp_constr "Ephemeron.K1.t" (testsuite/tests/typing-gadts/pr5985.ml[74,2171+30]..[74,2171+44])
                        [
                          core_type (testsuite/tests/typing-gadts/pr5985.ml[74,2171+22]..[74,2171+24])
                            Ptyp_var a
                          core_type (testsuite/tests/typing-gadts/pr5985.ml[74,2171+26]..[74,2171+28])
                            Ptyp_var b
                        ]
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[75,2231+0]..[84,2600+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[75,2231+9]..[84,2600+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[75,2231+9]..[84,2600+2])
          Pexp_constant PConst_string ("\ntype (_, _) eq = Eq : ('a, 'a) eq\nval eq : 'a = <poly>\nval eq : (('a, 'b) Ephemeron.K1.t, ('c, 'd) Ephemeron.K1.t) eq = Eq\nLine 4, characters 0-46:\n4 | type _ t = T : 'a -> ('a, 'b) Ephemeron.K1.t t;; (* fail *)\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: In this definition, a type variable cannot be deduced\n       from the type parameters.\n",(testsuite/tests/typing-gadts/pr5985.ml[75,2231+11]..[84,2600+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[92,2822+0]..[95,2884+3])
    Pstr_modtype "S" (testsuite/tests/typing-gadts/pr5985.ml[92,2822+12]..[92,2822+13])
      module_type (testsuite/tests/typing-gadts/pr5985.ml[92,2822+16]..[95,2884+3])
        Pmty_signature
        [
          signature_item (testsuite/tests/typing-gadts/pr5985.ml[93,2842+2]..[93,2842+11])
            Psig_type Rec
            [
              type_declaration "s" (testsuite/tests/typing-gadts/pr5985.ml[93,2842+10]..[93,2842+11]) (testsuite/tests/typing-gadts/pr5985.ml[93,2842+2]..[93,2842+11])
                ptype_params =
                  [
                    core_type (testsuite/tests/typing-gadts/pr5985.ml[93,2842+7]..[93,2842+9])
                      Ptyp_var a
                  ]
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_abstract
                ptype_private = Public
                ptype_manifest =
                  None
            ]
          signature_item (testsuite/tests/typing-gadts/pr5985.ml[94,2854+2]..[94,2854+29])
            Psig_type Rec
            [
              type_declaration "t" (testsuite/tests/typing-gadts/pr5985.ml[94,2854+9]..[94,2854+10]) (testsuite/tests/typing-gadts/pr5985.ml[94,2854+2]..[94,2854+29])
                ptype_params =
                  [
                    core_type (testsuite/tests/typing-gadts/pr5985.ml[94,2854+7]..[94,2854+8])
                      Ptyp_any
                  ]
                ptype_cstrs =
                  []
                ptype_kind =
                  Ptype_variant
                    [
                      (testsuite/tests/typing-gadts/pr5985.ml[94,2854+13]..[94,2854+29])
                        "T" (testsuite/tests/typing-gadts/pr5985.ml[94,2854+13]..[94,2854+14])
                        [
                          core_type (testsuite/tests/typing-gadts/pr5985.ml[94,2854+17]..[94,2854+19])
                            Ptyp_var a
                        ]
                        Some
                          core_type (testsuite/tests/typing-gadts/pr5985.ml[94,2854+23]..[94,2854+29])
                            Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[94,2854+28]..[94,2854+29])
                            [
                              core_type (testsuite/tests/typing-gadts/pr5985.ml[94,2854+23]..[94,2854+27])
                                Ptyp_constr "s" (testsuite/tests/typing-gadts/pr5985.ml[94,2854+26]..[94,2854+27])
                                [
                                  core_type (testsuite/tests/typing-gadts/pr5985.ml[94,2854+23]..[94,2854+25])
                                    Ptyp_var a
                                ]
                            ]
                    ]
                ptype_private = Public
                ptype_manifest =
                  None
            ]
        ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[96,2901+0]..[102,3100+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[96,2901+9]..[102,3100+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[96,2901+9]..[102,3100+2])
          Pexp_constant PConst_string ("\nLine 3, characters 2-29:\n3 |   type _ t = T : 'a -> 'a s t\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: In this definition, a type variable cannot be deduced\n       from the type parameters.\n",(testsuite/tests/typing-gadts/pr5985.ml[96,2901+11]..[102,3100+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[104,3149+0]..[104,3149+44])
    Pstr_recmodule
    [
      "M" (testsuite/tests/typing-gadts/pr5985.ml[104,3149+11]..[104,3149+12])
        module_expr (testsuite/tests/typing-gadts/pr5985.ml[104,3149+13]..[104,3149+44])
          Pmod_constraint
          module_expr (testsuite/tests/typing-gadts/pr5985.ml[104,3149+43]..[104,3149+44])
            Pmod_ident "M" (testsuite/tests/typing-gadts/pr5985.ml[104,3149+43]..[104,3149+44])
          module_type (testsuite/tests/typing-gadts/pr5985.ml[104,3149+16]..[104,3149+39])
            Pmty_with
            module_type (testsuite/tests/typing-gadts/pr5985.ml[104,3149+16]..[104,3149+17])
              Pmty_ident "S" (testsuite/tests/typing-gadts/pr5985.ml[104,3149+16]..[104,3149+17])
            [
              Pwith_type "s" (testsuite/tests/typing-gadts/pr5985.ml[104,3149+31]..[104,3149+32])
                type_declaration "s" (testsuite/tests/typing-gadts/pr5985.ml[104,3149+31]..[104,3149+32]) (testsuite/tests/typing-gadts/pr5985.ml[104,3149+23]..[104,3149+39])
                  ptype_params =
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[104,3149+28]..[104,3149+30])
                        Ptyp_var a
                    ]
                  ptype_cstrs =
                    []
                  ptype_kind =
                    Ptype_abstract
                  ptype_private = Public
                  ptype_manifest =
                    Some
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[104,3149+35]..[104,3149+39])
                        Ptyp_constr "unit" (testsuite/tests/typing-gadts/pr5985.ml[104,3149+35]..[104,3149+39])
                        []
            ]
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[105,3196+0]..[110,3336+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[105,3196+9]..[110,3336+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[105,3196+9]..[110,3336+2])
          Pexp_constant PConst_string ("\nLine 1, characters 16-17:\n1 | module rec M : (S with type 'a s = unit) = M;;\n                    ^\nError: Unbound module type S\n",(testsuite/tests/typing-gadts/pr5985.ml[105,3196+11]..[110,3336+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[127,3849+0]..[127,3849+13])
    Pstr_type Rec
    [
      type_declaration "q" (testsuite/tests/typing-gadts/pr5985.ml[127,3849+8]..[127,3849+9]) (testsuite/tests/typing-gadts/pr5985.ml[127,3849+0]..[127,3849+13])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[127,3849+5]..[127,3849+7])
              Ptyp_var a
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr5985.ml[127,3849+12]..[127,3849+13])
                "Q" (testsuite/tests/typing-gadts/pr5985.ml[127,3849+12]..[127,3849+13])
                []
                None
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[128,3865+0]..[128,3865+36])
    Pstr_type Rec
    [
      type_declaration "t" (testsuite/tests/typing-gadts/pr5985.ml[128,3865+9]..[128,3865+10]) (testsuite/tests/typing-gadts/pr5985.ml[128,3865+0]..[128,3865+36])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[128,3865+6]..[128,3865+8])
              Ptyp_var a
          ]
        ptype_cstrs =
          [
            <constraint> (testsuite/tests/typing-gadts/pr5985.ml[128,3865+27]..[128,3865+36])
              core_type (testsuite/tests/typing-gadts/pr5985.ml[128,3865+27]..[128,3865+29])
                Ptyp_var a
              core_type (testsuite/tests/typing-gadts/pr5985.ml[128,3865+32]..[128,3865+36])
                Ptyp_constr "q" (testsuite/tests/typing-gadts/pr5985.ml[128,3865+35]..[128,3865+36])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[128,3865+32]..[128,3865+34])
                    Ptyp_var b
                ]
          ]
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-gadts/pr5985.ml[128,3865+13]..[128,3865+15])
              Ptyp_var b
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[129,3904+0]..[137,4217+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[129,3904+9]..[137,4217+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[129,3904+9]..[137,4217+2])
          Pexp_constant PConst_string ("\ntype 'a q = Q\nLine 2, characters 0-36:\n2 | type +'a t = 'b constraint 'a = 'b q;;\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: In this definition, a type variable has a variance that\n       cannot be deduced from the type parameters.\n       It was expected to be unrestricted, but it is covariant.\n",(testsuite/tests/typing-gadts/pr5985.ml[129,3904+11]..[137,4217+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[140,4291+0]..[140,4291+20])
    Pstr_type Rec
    [
      type_declaration "t" (testsuite/tests/typing-gadts/pr5985.ml[140,4291+9]..[140,4291+10]) (testsuite/tests/typing-gadts/pr5985.ml[140,4291+0]..[140,4291+20])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[140,4291+6]..[140,4291+8])
              Ptyp_var a
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr5985.ml[140,4291+13]..[140,4291+20])
                "T" (testsuite/tests/typing-gadts/pr5985.ml[140,4291+13]..[140,4291+14])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[140,4291+18]..[140,4291+20])
                    Ptyp_var a
                ]
                None
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[141,4314+0]..[141,4314+36])
    Pstr_type Rec
    [
      type_declaration "s" (testsuite/tests/typing-gadts/pr5985.ml[141,4314+9]..[141,4314+10]) (testsuite/tests/typing-gadts/pr5985.ml[141,4314+0]..[141,4314+36])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[141,4314+6]..[141,4314+8])
              Ptyp_var a
          ]
        ptype_cstrs =
          [
            <constraint> (testsuite/tests/typing-gadts/pr5985.ml[141,4314+27]..[141,4314+36])
              core_type (testsuite/tests/typing-gadts/pr5985.ml[141,4314+27]..[141,4314+29])
                Ptyp_var a
              core_type (testsuite/tests/typing-gadts/pr5985.ml[141,4314+32]..[141,4314+36])
                Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[141,4314+35]..[141,4314+36])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[141,4314+32]..[141,4314+34])
                    Ptyp_var b
                ]
          ]
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-gadts/pr5985.ml[141,4314+13]..[141,4314+15])
              Ptyp_var b
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[142,4362+0]..[145,4431+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[142,4362+9]..[145,4431+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[142,4362+9]..[145,4431+2])
          Pexp_constant PConst_string ("\ntype 'a t = T of 'a\ntype +'a s = 'b constraint 'a = 'b t\n",(testsuite/tests/typing-gadts/pr5985.ml[142,4362+11]..[145,4431+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[146,4437+0]..[146,4437+36])
    Pstr_type Rec
    [
      type_declaration "s" (testsuite/tests/typing-gadts/pr5985.ml[146,4437+9]..[146,4437+10]) (testsuite/tests/typing-gadts/pr5985.ml[146,4437+0]..[146,4437+36])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[146,4437+6]..[146,4437+8])
              Ptyp_var a
          ]
        ptype_cstrs =
          [
            <constraint> (testsuite/tests/typing-gadts/pr5985.ml[146,4437+27]..[146,4437+36])
              core_type (testsuite/tests/typing-gadts/pr5985.ml[146,4437+27]..[146,4437+29])
                Ptyp_var a
              core_type (testsuite/tests/typing-gadts/pr5985.ml[146,4437+32]..[146,4437+36])
                Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[146,4437+35]..[146,4437+36])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[146,4437+32]..[146,4437+34])
                    Ptyp_var b
                ]
          ]
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-gadts/pr5985.ml[146,4437+13]..[146,4437+15])
              Ptyp_var b
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[147,4487+0]..[154,4809+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[147,4487+9]..[154,4809+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[147,4487+9]..[154,4809+2])
          Pexp_constant PConst_string ("\nLine 1, characters 0-36:\n1 | type -'a s = 'b constraint 'a = 'b t;; (* fail *)\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: In this definition, a type variable has a variance that\n       is not reflected by its occurrence in type parameters.\n       It was expected to be contravariant, but it is covariant.\n",(testsuite/tests/typing-gadts/pr5985.ml[147,4487+11]..[154,4809+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[155,4815+0]..[155,4815+17])
    Pstr_type Rec
    [
      type_declaration "u" (testsuite/tests/typing-gadts/pr5985.ml[155,4815+9]..[155,4815+10]) (testsuite/tests/typing-gadts/pr5985.ml[155,4815+0]..[155,4815+17])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[155,4815+6]..[155,4815+8])
              Ptyp_var a
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-gadts/pr5985.ml[155,4815+13]..[155,4815+17])
              Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[155,4815+16]..[155,4815+17])
              [
                core_type (testsuite/tests/typing-gadts/pr5985.ml[155,4815+13]..[155,4815+15])
                  Ptyp_var a
              ]
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[156,4835+0]..[156,4835+27])
    Pstr_type Rec
    [
      type_declaration "t" (testsuite/tests/typing-gadts/pr5985.ml[156,4835+8]..[156,4835+9]) (testsuite/tests/typing-gadts/pr5985.ml[156,4835+0]..[156,4835+27])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[156,4835+5]..[156,4835+7])
              Ptyp_var a
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr5985.ml[156,4835+12]..[156,4835+27])
                "T" (testsuite/tests/typing-gadts/pr5985.ml[156,4835+12]..[156,4835+13])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[156,4835+18]..[156,4835+26])
                    Ptyp_arrow
                    Nolabel
                    core_type (testsuite/tests/typing-gadts/pr5985.ml[156,4835+18]..[156,4835+20])
                      Ptyp_var a
                    core_type (testsuite/tests/typing-gadts/pr5985.ml[156,4835+24]..[156,4835+26])
                      Ptyp_var a
                ]
                None
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[157,4865+0]..[157,4865+36])
    Pstr_type Rec
    [
      type_declaration "s" (testsuite/tests/typing-gadts/pr5985.ml[157,4865+9]..[157,4865+10]) (testsuite/tests/typing-gadts/pr5985.ml[157,4865+0]..[157,4865+36])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[157,4865+6]..[157,4865+8])
              Ptyp_var a
          ]
        ptype_cstrs =
          [
            <constraint> (testsuite/tests/typing-gadts/pr5985.ml[157,4865+27]..[157,4865+36])
              core_type (testsuite/tests/typing-gadts/pr5985.ml[157,4865+27]..[157,4865+29])
                Ptyp_var a
              core_type (testsuite/tests/typing-gadts/pr5985.ml[157,4865+32]..[157,4865+36])
                Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[157,4865+35]..[157,4865+36])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[157,4865+32]..[157,4865+34])
                    Ptyp_var b
                ]
          ]
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-gadts/pr5985.ml[157,4865+13]..[157,4865+15])
              Ptyp_var b
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[158,4913+0]..[162,5007+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[158,4913+9]..[162,5007+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[158,4913+9]..[162,5007+2])
          Pexp_constant PConst_string ("\ntype 'a u = 'a t\ntype 'a t = T of ('a -> 'a)\ntype -'a s = 'b constraint 'a = 'b t\n",(testsuite/tests/typing-gadts/pr5985.ml[158,4913+11]..[162,5007+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[163,5013+0]..[163,5013+38])
    Pstr_type Rec
    [
      type_declaration "s" (testsuite/tests/typing-gadts/pr5985.ml[163,5013+9]..[163,5013+10]) (testsuite/tests/typing-gadts/pr5985.ml[163,5013+0]..[163,5013+38])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[163,5013+6]..[163,5013+8])
              Ptyp_var a
          ]
        ptype_cstrs =
          [
            <constraint> (testsuite/tests/typing-gadts/pr5985.ml[163,5013+27]..[163,5013+38])
              core_type (testsuite/tests/typing-gadts/pr5985.ml[163,5013+27]..[163,5013+29])
                Ptyp_var a
              core_type (testsuite/tests/typing-gadts/pr5985.ml[163,5013+32]..[163,5013+38])
                Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[163,5013+37]..[163,5013+38])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[163,5013+32]..[163,5013+36])
                    Ptyp_constr "q" (testsuite/tests/typing-gadts/pr5985.ml[163,5013+35]..[163,5013+36])
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[163,5013+32]..[163,5013+34])
                        Ptyp_var b
                    ]
                ]
          ]
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-gadts/pr5985.ml[163,5013+13]..[163,5013+15])
              Ptyp_var b
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[164,5063+0]..[166,5114+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[164,5063+9]..[166,5114+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[164,5063+9]..[166,5114+2])
          Pexp_constant PConst_string ("\ntype +'a s = 'b constraint 'a = 'b q t\n",(testsuite/tests/typing-gadts/pr5985.ml[164,5063+11]..[166,5114+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[167,5120+0]..[167,5120+38])
    Pstr_type Rec
    [
      type_declaration "s" (testsuite/tests/typing-gadts/pr5985.ml[167,5120+9]..[167,5120+10]) (testsuite/tests/typing-gadts/pr5985.ml[167,5120+0]..[167,5120+38])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[167,5120+6]..[167,5120+8])
              Ptyp_var a
          ]
        ptype_cstrs =
          [
            <constraint> (testsuite/tests/typing-gadts/pr5985.ml[167,5120+27]..[167,5120+38])
              core_type (testsuite/tests/typing-gadts/pr5985.ml[167,5120+27]..[167,5120+29])
                Ptyp_var a
              core_type (testsuite/tests/typing-gadts/pr5985.ml[167,5120+32]..[167,5120+38])
                Ptyp_constr "q" (testsuite/tests/typing-gadts/pr5985.ml[167,5120+37]..[167,5120+38])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[167,5120+32]..[167,5120+36])
                    Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[167,5120+35]..[167,5120+36])
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[167,5120+32]..[167,5120+34])
                        Ptyp_var b
                    ]
                ]
          ]
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-gadts/pr5985.ml[167,5120+13]..[167,5120+15])
              Ptyp_var b
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[168,5172+0]..[175,5486+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[168,5172+9]..[175,5486+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[168,5172+9]..[175,5486+2])
          Pexp_constant PConst_string ("\nLine 1, characters 0-38:\n1 | type +'a s = 'b constraint 'a = 'b t q;; (* fail *)\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: In this definition, a type variable has a variance that\n       cannot be deduced from the type parameters.\n       It was expected to be unrestricted, but it is covariant.\n",(testsuite/tests/typing-gadts/pr5985.ml[168,5172+11]..[175,5486+0]),Some "")
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[193,5803+0]..[193,5803+41])
    Pstr_type Rec
    [
      type_declaration "t" (testsuite/tests/typing-gadts/pr5985.ml[193,5803+9]..[193,5803+10]) (testsuite/tests/typing-gadts/pr5985.ml[193,5803+0]..[193,5803+41])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[193,5803+6]..[193,5803+8])
              Ptyp_var a
          ]
        ptype_cstrs =
          [
            <constraint> (testsuite/tests/typing-gadts/pr5985.ml[193,5803+29]..[193,5803+41])
              core_type (testsuite/tests/typing-gadts/pr5985.ml[193,5803+29]..[193,5803+31])
                Ptyp_var a
              core_type (testsuite/tests/typing-gadts/pr5985.ml[193,5803+34]..[193,5803+41])
                Ptyp_constr "list" (testsuite/tests/typing-gadts/pr5985.ml[193,5803+37]..[193,5803+41])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[193,5803+34]..[193,5803+36])
                    Ptyp_var b
                ]
          ]
        ptype_kind =
          Ptype_abstract
        ptype_private = Public
        ptype_manifest =
          Some
            core_type (testsuite/tests/typing-gadts/pr5985.ml[193,5803+13]..[193,5803+17])
              Ptyp_constr "unit" (testsuite/tests/typing-gadts/pr5985.ml[193,5803+13]..[193,5803+17])
              []
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[194,5847+0]..[194,5847+27])
    Pstr_type Rec
    [
      type_declaration "g" (testsuite/tests/typing-gadts/pr5985.ml[194,5847+7]..[194,5847+8]) (testsuite/tests/typing-gadts/pr5985.ml[194,5847+0]..[194,5847+27])
        ptype_params =
          [
            core_type (testsuite/tests/typing-gadts/pr5985.ml[194,5847+5]..[194,5847+6])
              Ptyp_any
          ]
        ptype_cstrs =
          []
        ptype_kind =
          Ptype_variant
            [
              (testsuite/tests/typing-gadts/pr5985.ml[194,5847+11]..[194,5847+27])
                "G" (testsuite/tests/typing-gadts/pr5985.ml[194,5847+11]..[194,5847+12])
                [
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[194,5847+15]..[194,5847+17])
                    Ptyp_var a
                ]
                Some
                  core_type (testsuite/tests/typing-gadts/pr5985.ml[194,5847+21]..[194,5847+27])
                    Ptyp_constr "g" (testsuite/tests/typing-gadts/pr5985.ml[194,5847+26]..[194,5847+27])
                    [
                      core_type (testsuite/tests/typing-gadts/pr5985.ml[194,5847+21]..[194,5847+25])
                        Ptyp_constr "t" (testsuite/tests/typing-gadts/pr5985.ml[194,5847+24]..[194,5847+25])
                        [
                          core_type (testsuite/tests/typing-gadts/pr5985.ml[194,5847+21]..[194,5847+23])
                            Ptyp_var a
                        ]
                    ]
            ]
        ptype_private = Public
        ptype_manifest =
          None
    ]
  structure_item (testsuite/tests/typing-gadts/pr5985.ml[195,5888+0]..[202,6138+3])
    Pstr_extension "expect"
    [
      structure_item (testsuite/tests/typing-gadts/pr5985.ml[195,5888+9]..[202,6138+2])
        Pstr_eval
        expression (testsuite/tests/typing-gadts/pr5985.ml[195,5888+9]..[202,6138+2])
          Pexp_constant PConst_string ("\ntype +'a t = unit constraint 'a = 'b list\nLine 2, characters 0-27:\n2 | type _ g = G : 'a -> 'a t g;; (* fail *)\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nError: In this definition, a type variable cannot be deduced\n       from the type parameters.\n",(testsuite/tests/typing-gadts/pr5985.ml[195,5888+11]..[202,6138+0]),Some "")
    ]
]

